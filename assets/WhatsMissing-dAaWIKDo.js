import{d as pe,W as ye,r as i,U as he,c as E,Q as be,o as Ve,g as we,a as n,b as a,e as b,B as M,v as ke,w as Ce,T as Me,F as S,h as B,u as De,f as l,E as z,J as F,t as D,I as Ue,p as Ie,n as Ee,q as Z,_ as Se}from"./index-DxwtJcMq.js";const Be={class:"whats-missing-page"},Ne=["src"],xe=["aria-expanded"],He=["src"],Re={key:0,id:"settings-menu",class:"settings-dropdown",role:"menu"},ze={class:"settings-section",role:"none"},Ge={class:"settings-row",role:"none"},We=["value"],Ye={class:"settings-row",role:"none"},Te=["value"],Pe={class:"settings-row toggle-row",role:"none"},Qe={class:"switch","aria-label":"Toggle Show English"},Xe={class:"settings-actions",role:"none"},Le={class:"game-actions"},Fe=["disabled"],Ze={class:"cards-section"},Oe={key:0,class:"card-grid","aria-live":"polite"},je={key:0,class:"card-content"},Je={key:0,class:"img-wrap"},qe=["src","alt"],Ke={key:1,class:"no-img"},_e={key:2,class:"card-text"},$e={key:1,class:"flip-scene"},eA={class:"flip-plate"},AA={key:1,class:"reveal-face"},tA={key:0,class:"card-content"},sA={key:0,class:"img-wrap"},aA=["src","alt"],nA={key:1,class:"no-img"},lA={key:2,class:"card-text"},oA={key:1,class:"muted"},iA={key:0,class:"guess-section"},rA={class:"guess-options"},uA=["disabled","onClick"],cA=["src"],dA=["src"],gA=["src"],O="eitake.whatsmissing.transit.v10",vA=pe({__name:"WhatsMissing",props:{cards:{},defaultDisplayed:{default:21},defaultMissing:{default:1},defaultShowEnglish:{type:Boolean,default:!0}},setup(j){const J=De(),N=ye(),q=new URL("data:image/png;base64,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",import.meta.url).toString(),K=new URL("/TaiyakiEduGames/assets/settings-icon-yUop-EjA.png",import.meta.url).toString(),_=new URL("@/assets/images/game-icons/question-mark.png",import.meta.url).toString(),$=new URL("/TaiyakiEduGames/assets/harp%20strum%203-CYcjy1lW.wav",import.meta.url).toString(),ee=new URL("/TaiyakiEduGames/assets/cards-shuffle-sfx-01-BCL588Xa.mp3",import.meta.url).toString(),Ae=new URL("data:audio/mpeg;base64,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",import.meta.url).toString(),d=j,V=i(!1),G=i(null);function te(){V.value=!0,f.value=g.value,h.value=v.value}function x(){V.value=!1}const u=i([]),c=i([]),o=i([]),p=i([]),k=i(!1),y=he(new Set),U=i(!1),I=i(!!d.defaultShowEnglish),g=i(d.defaultDisplayed),v=i(d.defaultMissing),f=i(g.value),h=i(v.value),W=E(()=>k.value&&p.value.length===0),se=E(()=>{const t=Math.max(1,u.value.length||1),e=Math.min(6,t),A=[];for(let s=e;s<=t;s++)A.push(s);return A}),ae=E(()=>{const t=Math.max(1,f.value-1),e=[];for(let A=1;A<=t;A++)e.push(A);return e}),ne=E(()=>({backgroundColor:"lightgreen",backgroundImage:`url('${_}')`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"})),Y=i(null),T=i(null),P=i(null);function H(t){try{if(!t)return;t.currentTime=0,t.play()}catch{}}function le(){try{sessionStorage.setItem(O,JSON.stringify({cards:u.value}))}catch{}}function oe(){try{const t=sessionStorage.getItem(O);if(!t)return;const e=JSON.parse(t);Array.isArray(e?.cards)&&e.cards.length&&N.set({cards:e.cards})}catch{}}function Q(t){for(let e=t.length-1;e>0;e--){const A=Math.floor(Math.random()*(e+1));[t[e],t[A]]=[t[A],t[e]]}return t}function ie(t,e){const A=[...t];return Q(A),A.slice(0,Math.min(e,A.length))}function C(t,e,A){const s=Number.isFinite(t)?Math.floor(t):e;return Math.max(e,Math.min(A,s))}function m(t){return String(t?.id??t.image_url??t.english??Math.random())}function re(){try{J.back()}catch{}}function X(t){if(!V.value)return;const e=G.value;e&&(e.contains(t.target)||x())}function R(t){if(y.clear(),k.value=!1,p.value=[],!u.value.length){c.value=[],o.value=[];return}const e=Math.max(1,Math.min(u.value.length,g.value));g.value=e;const A=Math.max(1,e-1);v.value=C(v.value,1,A),c.value=ie(u.value,e),o.value=c.value.map((s,r)=>({key:`card-${r}-${m(s)}`,type:"card",card:s,dropIn:!1,wrongGuess:!1}))}async function ue(){if(U.value||!c.value.length)return;H(T.value),U.value=!0,k.value=!1,y.clear();const t=[...c.value];Q(t);const e=[],A=C(v.value,1,Math.max(1,t.length-1));for(let r=0;r<A;r++){const w=Math.floor(Math.random()*t.length);e.push(t.splice(w,1)[0])}p.value=e,o.value=[];const s=50;for(let r=0;r<t.length;r++){const w=t[r];await new Promise(me=>setTimeout(me,r===0?0:s)),o.value.push({key:`deal-card-${r}-${m(w)}-${Date.now()}`,type:"card",card:w,dropIn:!0,wrongGuess:!1})}for(let r=0;r<A;r++)await new Promise(w=>setTimeout(w,s)),o.value.push({key:`deal-blank-${r}-${Date.now()}`,type:"blank",card:null,dropIn:!0,wrongGuess:!1,revealed:!1,revealCard:null,flip:!1,pop:!1});k.value=!0,U.value=!1}function ce(t){return t?o.value.findIndex(e=>e.type==="card"&&e.card?.image_url===t):-1}function de(){for(const t of c.value)y.add(m(t))}async function ge(t){const e=o.value.findIndex(s=>s.type==="blank"&&!s.revealed);if(e===-1)return;const A=o.value[e];A.type==="blank"&&(A.revealCard=t,A.revealed=!0,await Z(),A.flip=!1,await Z(),A.flip=!0,window.setTimeout(()=>{const s=o.value[e];s&&s.type==="blank"&&(s.flip=!1)},620))}function ve(t){const e=m(t);if(y.has(e)||W.value)return;if(p.value.some(s=>m(s)===e))H(Y.value),ge(t),p.value=p.value.filter(s=>m(s)!==e),p.value.length===0?de():y.add(e);else{H(P.value);const s=ce(t.image_url);s!==-1&&(o.value[s].wrongGuess=!1,setTimeout(()=>{o.value[s]&&(o.value[s].wrongGuess=!0,setTimeout(()=>{o.value[s]&&(o.value[s].wrongGuess=!1)},500))},0)),setTimeout(()=>y.add(e),500)}}function fe(){if(!u.value.length)return;const t=Math.max(1,Math.min(u.value.length,f.value)),e=Math.max(1,t-1),A=C(h.value,1,e);g.value=t,v.value=A,R(),x()}function L(t){const e=t.target;e&&(e.style.display="none")}return be(f,t=>{const e=Math.max(1,Math.min(u.value.length||1,t));t!==e&&(f.value=e);const A=Math.max(1,e-1);h.value>A&&(h.value=A)}),Ve(()=>{document.addEventListener("pointerdown",X),(d.cards?.length?d.cards:N.cards)?.length||oe();const e=d.cards?.length?d.cards:N.cards;if(u.value=Array.isArray(e)?[...e]:[],le(),!u.value.length){c.value=[],o.value=[];return}g.value=C(d.defaultDisplayed,1,u.value.length),v.value=C(d.defaultMissing,1,Math.max(1,g.value-1)),f.value=g.value,h.value=v.value,R()}),we(()=>{document.removeEventListener("pointerdown",X)}),(t,e)=>(l(),n("section",Be,[a("button",{class:"home-button",type:"button",onClick:re,"aria-label":"Back"},[a("img",{src:M(q),alt:""},null,8,Ne)]),a("div",{class:"settings-wrap",ref_key:"settingsWrap",ref:G},[a("button",{class:"settings-button",type:"button",onClick:te,"aria-haspopup":"menu","aria-expanded":V.value,"aria-controls":"settings-menu"},[a("img",{src:M(K),alt:""},null,8,He)],8,xe),V.value?(l(),n("div",{key:0,class:"settings-backdrop",onClick:x,"aria-hidden":"true"})):b("",!0),ke(Me,{name:"settings-drop"},{default:Ce(()=>[V.value?(l(),n("div",Re,[a("div",ze,[a("div",Ge,[e[6]||(e[6]=a("label",{class:"settings-label",for:"displayCount"},"Displayed",-1)),z(a("select",{id:"displayCount","onUpdate:modelValue":e[0]||(e[0]=A=>f.value=A),class:"settings-select"},[(l(!0),n(S,null,B(se.value,A=>(l(),n("option",{key:A,value:A},D(A)+" cards ",9,We))),128))],512),[[F,f.value,void 0,{number:!0}]])]),a("div",Ye,[e[7]||(e[7]=a("label",{class:"settings-label",for:"missingCount"},"Missing",-1)),z(a("select",{id:"missingCount","onUpdate:modelValue":e[1]||(e[1]=A=>h.value=A),class:"settings-select"},[(l(!0),n(S,null,B(ae.value,A=>(l(),n("option",{key:A,value:A},D(A)+" missing ",9,Te))),128))],512),[[F,h.value,void 0,{number:!0}]])]),a("div",Pe,[e[9]||(e[9]=a("div",{class:"toggle-title"},"Show English",-1)),a("label",Qe,[z(a("input",{type:"checkbox","onUpdate:modelValue":e[2]||(e[2]=A=>I.value=A)},null,512),[[Ue,I.value]]),e[8]||(e[8]=a("span",{class:"slider"},null,-1))])]),a("div",Xe,[a("button",{class:"btn ghost",type:"button",onClick:e[3]||(e[3]=A=>R(!0))},"Reset"),a("button",{class:"btn primary",type:"button",onClick:fe},"Apply")])])])):b("",!0)]),_:1})],512),e[12]||(e[12]=a("header",{class:"page-head"},[a("h1",{class:"title"},"What's Missing?")],-1)),a("section",Le,[a("button",{class:"shuffle-btn",type:"button",onClick:ue,disabled:U.value||!c.value.length}," Shuffle ",8,Fe)]),a("section",Ze,[o.value.length?(l(),n("div",Oe,[(l(!0),n(S,null,B(o.value,A=>(l(),n("div",{key:A.key,class:Ie(["card",[{"drop-in":A.dropIn},{"wrong-guess":A.wrongGuess},{blank:A.type==="blank"&&!A.revealed},{revealed:A.type==="blank"&&A.revealed},{pop:A.type==="blank"&&A.pop},{"do-flip":A.type==="blank"&&A.revealed&&A.flip}]])},[A.type==="card"&&A.card?(l(),n("div",je,[A.card.image_url?(l(),n("div",Je,[a("img",{src:A.card.image_url,alt:A.card.english||"card",loading:"lazy",referrerpolicy:"no-referrer",onError:e[4]||(e[4]=s=>L(s))},null,40,qe)])):(l(),n("div",Ke,"No Image")),I.value&&A.card.english?(l(),n("p",_e,D(A.card.english),1)):b("",!0)])):A.type==="blank"?(l(),n("div",$e,[a("div",eA,[A.revealed?(l(),n("div",AA,[A.revealCard?(l(),n("div",tA,[A.revealCard.image_url?(l(),n("div",sA,[a("img",{src:A.revealCard.image_url,alt:A.revealCard.english||"card",loading:"lazy",referrerpolicy:"no-referrer",onError:e[5]||(e[5]=s=>L(s))},null,40,aA)])):(l(),n("div",nA,"No Image")),I.value&&A.revealCard.english?(l(),n("p",lA,D(A.revealCard.english),1)):b("",!0)])):b("",!0)])):(l(),n("div",{key:0,class:"blank-face",style:Ee(ne.value)},[...e[10]||(e[10]=[a("span",{class:"sr-only"},"Hidden card",-1)])],4))])])):b("",!0)],2))),128))])):(l(),n("p",oA,"No cards loaded. Go back and select some cards."))]),k.value&&c.value.length?(l(),n("section",iA,[e[11]||(e[11]=a("h2",{class:"guess-title"},"What card is missing?",-1)),a("div",rA,[(l(!0),n(S,null,B(c.value,A=>(l(),n("button",{key:m(A),class:"guess-btn",type:"button",disabled:y.has(m(A))||W.value,onClick:s=>ve(A)},D(A.english||"Unknown"),9,uA))),128))])])):b("",!0),a("audio",{ref_key:"correctAudio",ref:Y,src:M($),preload:"auto"},null,8,cA),a("audio",{ref_key:"shuffleAudio",ref:T,src:M(ee),preload:"auto"},null,8,dA),a("audio",{ref_key:"selectAudio",ref:P,src:M(Ae),preload:"auto"},null,8,gA)]))}}),mA=Se(vA,[["__scopeId","data-v-8c003494"]]);export{mA as default};
