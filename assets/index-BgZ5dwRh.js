const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Dashboard-Bdhu0JMh.js","assets/ActivitiesGrid-DxjeOpo8.js","assets/ActivitiesGrid-clByiK0x.css","assets/TextbookList-DFGpTiRK.js","assets/TextbookList-CLiNHcfI.css","assets/Dashboard-CUe5NY0R.css","assets/Login-CtSAC-tG.js","assets/Login-tqmBMZ6j.css","assets/ResetPassword-C00FVloI.js","assets/ResetPassword-C4T0gW0U.css","assets/UsersList-CNAXrovI.js","assets/UsersList-vL4htZLx.css","assets/AdminPanel-CkJQqijS.js","assets/AdminPanel-D8oTK-gN.css","assets/AuthCallback-_Me17VYt.js","assets/AuthCallback-CtiL1wk7.css","assets/ProfileSetUp-DZALo4wl.js","assets/ProfileSetUp-Cn1Q3uHI.css","assets/TextbookGridPage-BgbrMWZI.js","assets/TextbookGridPage-DQuZAFVd.css","assets/TextbookDetails-CYlk9SUd.js","assets/TextbookDetails-t8hVg4ca.css","assets/DeckViewer-BRo3NOce.js","assets/back-icon-xKqy7r3s.js","assets/DeckViewer-B8GYOVGk.css","assets/FlashcardReview-CY5M71wW.js","assets/FlashcardReview-D7KWqKnb.css","assets/JapaneseFlashcardReview-CWUpEV00.js","assets/JapaneseFlashcardReview-DZbNSUm8.css","assets/BombGame-D28l7QF1.js","assets/BombGame-UPGuroa2.css","assets/Sharknado-C6P5hPJV.js","assets/Sharknado-DwOCErA9.css","assets/HeadsUp-P9g08xGj.js","assets/HeadsUp-CzkqtQGI.css","assets/SpellingBlitz-BjJMu3bu.js","assets/fanfare-CkYegsGg.js","assets/SpellingBlitz-CeZOGpAq.css","assets/SpellingGuesser-C3ovCgri.js","assets/home-icon-CTPXHMtR.js","assets/settings-icon-DJLQOoae.js","assets/shokichi-KW1WytDh.js","assets/SpellingGuesser-dcq62wZO.css","assets/SoundMatcher-Cdg8iem0.js","assets/SoundMatcher-HwHNtPAc.css","assets/Bingo-C702A9Oi.js","assets/anime-wow-sound-effect-_1XoYcyT.js","assets/Bingo-BmPiLJpx.css","assets/CustomDecks-glvuaO6q.js","assets/CustomDecks-tDkYZCWW.css","assets/ActivityRunner-DdadF6Lf.js","assets/ActivityRunner-BVL0EfUM.css","assets/RouletteWheel-CQ-zbFxR.js","assets/RouletteWheel-CmhR8N3M.css","assets/RandomPoints-CiL0qs_N.js","assets/RandomPoints-kBJ38c2I.css","assets/RandomTime-C-SQSl2b.js","assets/RandomTime-0FpPVm5F.css","assets/HotPotato-Bech6W2k.js","assets/HotPotato-BMIqJCeJ.css","assets/ClassroomTimer-YFBDRhFb.js","assets/ClassroomTimer-CRR3nCUO.css","assets/Wordle-C7D9GBCt.js","assets/Wordle-BT_Vabfa.css","assets/Othello-DDdrIMM4.js","assets/Othello-D4X8-_sG.css"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=s(r);fetch(r.href,i)}})();/**
* @vue/shared v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function so(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const $e={},nn=[],Vt=()=>{},xl=()=>!1,Ur=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),no=e=>e.startsWith("onUpdate:"),Je=Object.assign,ro=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Yu=Object.prototype.hasOwnProperty,Oe=(e,t)=>Yu.call(e,t),le=Array.isArray,rn=e=>Gn(e)==="[object Map]",mn=e=>Gn(e)==="[object Set]",Mo=e=>Gn(e)==="[object Date]",he=e=>typeof e=="function",Me=e=>typeof e=="string",It=e=>typeof e=="symbol",Le=e=>e!==null&&typeof e=="object",Cl=e=>(Le(e)||he(e))&&he(e.then)&&he(e.catch),Pl=Object.prototype.toString,Gn=e=>Pl.call(e),Zu=e=>Gn(e).slice(8,-1),Rl=e=>Gn(e)==="[object Object]",io=e=>Me(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,En=so(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Mr=e=>{const t=Object.create(null);return(s=>t[s]||(t[s]=e(s)))},ed=/-(\w)/g,St=Mr(e=>e.replace(ed,(t,s)=>s?s.toUpperCase():"")),td=/\B([A-Z])/g,ys=Mr(e=>e.replace(td,"-$1").toLowerCase()),Dr=Mr(e=>e.charAt(0).toUpperCase()+e.slice(1)),gr=Mr(e=>e?`on${Dr(e)}`:""),Yt=(e,t)=>!Object.is(e,t),mr=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},Ol=(e,t,s,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:s})},Ar=e=>{const t=parseFloat(e);return isNaN(t)?e:t},sd=e=>{const t=Me(e)?Number(e):NaN;return isNaN(t)?e:t};let Do;const Br=()=>Do||(Do=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Bt(e){if(le(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],r=Me(n)?od(n):Bt(n);if(r)for(const i in r)t[i]=r[i]}return t}else if(Me(e)||Le(e))return e}const nd=/;(?![^(]*\))/g,rd=/:([^]+)/,id=/\/\*[^]*?\*\//g;function od(e){const t={};return e.replace(id,"").split(nd).forEach(s=>{if(s){const n=s.split(rd);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function We(e){let t="";if(Me(e))t=e;else if(le(e))for(let s=0;s<e.length;s++){const n=We(e[s]);n&&(t+=n+" ")}else if(Le(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}function bw(e){if(!e)return null;let{class:t,style:s}=e;return t&&!Me(t)&&(e.class=We(t)),s&&(e.style=Bt(s)),e}const ad="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ld=so(ad);function Il(e){return!!e||e===""}function cd(e,t){if(e.length!==t.length)return!1;let s=!0;for(let n=0;s&&n<e.length;n++)s=Ls(e[n],t[n]);return s}function Ls(e,t){if(e===t)return!0;let s=Mo(e),n=Mo(t);if(s||n)return s&&n?e.getTime()===t.getTime():!1;if(s=It(e),n=It(t),s||n)return e===t;if(s=le(e),n=le(t),s||n)return s&&n?cd(e,t):!1;if(s=Le(e),n=Le(t),s||n){if(!s||!n)return!1;const r=Object.keys(e).length,i=Object.keys(t).length;if(r!==i)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!Ls(e[o],t[o]))return!1}}return String(e)===String(t)}function oo(e,t){return e.findIndex(s=>Ls(s,t))}const $l=e=>!!(e&&e.__v_isRef===!0),ae=e=>Me(e)?e:e==null?"":le(e)||Le(e)&&(e.toString===Pl||!he(e.toString))?$l(e)?ae(e.value):JSON.stringify(e,Ll,2):String(e),Ll=(e,t)=>$l(t)?Ll(e,t.value):rn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,r],i)=>(s[si(n,i)+" =>"]=r,s),{})}:mn(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>si(s))}:It(t)?si(t):Le(t)&&!le(t)&&!Rl(t)?String(t):t,si=(e,t="")=>{var s;return It(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let st;class jl{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=st,!t&&st&&(this.index=(st.scopes||(st.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=st;try{return st=this,t()}finally{st=s}}}on(){++this._on===1&&(this.prevScope=st,st=this)}off(){this._on>0&&--this._on===0&&(st=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Nl(e){return new jl(e)}function Ul(){return st}function Ml(e,t=!1){st&&st.cleanups.push(e)}let Ne;const ni=new WeakSet;class Dl{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,st&&st.active&&st.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ni.has(this)&&(ni.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Vl(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Bo(this),Fl(this);const t=Ne,s=Ot;Ne=this,Ot=!0;try{return this.fn()}finally{ql(this),Ne=t,Ot=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)co(t);this.deps=this.depsTail=void 0,Bo(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ni.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ti(this)&&this.run()}get dirty(){return Ti(this)}}let Bl=0,Tn,xn;function Vl(e,t=!1){if(e.flags|=8,t){e.next=xn,xn=e;return}e.next=Tn,Tn=e}function ao(){Bl++}function lo(){if(--Bl>0)return;if(xn){let t=xn;for(xn=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;Tn;){let t=Tn;for(Tn=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=s}}if(e)throw e}function Fl(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function ql(e){let t,s=e.depsTail,n=s;for(;n;){const r=n.prevDep;n.version===-1?(n===s&&(s=r),co(n),ud(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=r}e.deps=t,e.depsTail=s}function Ti(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Hl(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Hl(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Dn)||(e.globalVersion=Dn,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Ti(e))))return;e.flags|=2;const t=e.dep,s=Ne,n=Ot;Ne=e,Ot=!0;try{Fl(e);const r=e.fn(e._value);(t.version===0||Yt(r,e._value))&&(e.flags|=128,e._value=r,t.version++)}catch(r){throw t.version++,r}finally{Ne=s,Ot=n,ql(e),e.flags&=-3}}function co(e,t=!1){const{dep:s,prevSub:n,nextSub:r}=e;if(n&&(n.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=n,e.nextSub=void 0),s.subs===e&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)co(i,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function ud(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let Ot=!0;const Wl=[];function Zt(){Wl.push(Ot),Ot=!1}function es(){const e=Wl.pop();Ot=e===void 0?!0:e}function Bo(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=Ne;Ne=void 0;try{t()}finally{Ne=s}}}let Dn=0;class dd{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class uo{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Ne||!Ot||Ne===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Ne)s=this.activeLink=new dd(Ne,this),Ne.deps?(s.prevDep=Ne.depsTail,Ne.depsTail.nextDep=s,Ne.depsTail=s):Ne.deps=Ne.depsTail=s,Kl(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=Ne.depsTail,s.nextDep=void 0,Ne.depsTail.nextDep=s,Ne.depsTail=s,Ne.deps===s&&(Ne.deps=n)}return s}trigger(t){this.version++,Dn++,this.notify(t)}notify(t){ao();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{lo()}}}function Kl(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)Kl(n)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const kr=new WeakMap,Os=Symbol(""),xi=Symbol(""),Bn=Symbol("");function nt(e,t,s){if(Ot&&Ne){let n=kr.get(e);n||kr.set(e,n=new Map);let r=n.get(s);r||(n.set(s,r=new uo),r.map=n,r.key=s),r.track()}}function Jt(e,t,s,n,r,i){const o=kr.get(e);if(!o){Dn++;return}const a=l=>{l&&l.trigger()};if(ao(),t==="clear")o.forEach(a);else{const l=le(e),u=l&&io(s);if(l&&s==="length"){const c=Number(n);o.forEach((d,f)=>{(f==="length"||f===Bn||!It(f)&&f>=c)&&a(d)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),u&&a(o.get(Bn)),t){case"add":l?u&&a(o.get("length")):(a(o.get(Os)),rn(e)&&a(o.get(xi)));break;case"delete":l||(a(o.get(Os)),rn(e)&&a(o.get(xi)));break;case"set":rn(e)&&a(o.get(Os));break}}lo()}function fd(e,t){const s=kr.get(e);return s&&s.get(t)}function Ds(e){const t=Ee(e);return t===e?t:(nt(t,"iterate",Bn),wt(e)?t:t.map(Ye))}function Vr(e){return nt(e=Ee(e),"iterate",Bn),e}const hd={__proto__:null,[Symbol.iterator](){return ri(this,Symbol.iterator,Ye)},concat(...e){return Ds(this).concat(...e.map(t=>le(t)?Ds(t):t))},entries(){return ri(this,"entries",e=>(e[1]=Ye(e[1]),e))},every(e,t){return qt(this,"every",e,t,void 0,arguments)},filter(e,t){return qt(this,"filter",e,t,s=>s.map(Ye),arguments)},find(e,t){return qt(this,"find",e,t,Ye,arguments)},findIndex(e,t){return qt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return qt(this,"findLast",e,t,Ye,arguments)},findLastIndex(e,t){return qt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return qt(this,"forEach",e,t,void 0,arguments)},includes(...e){return ii(this,"includes",e)},indexOf(...e){return ii(this,"indexOf",e)},join(e){return Ds(this).join(e)},lastIndexOf(...e){return ii(this,"lastIndexOf",e)},map(e,t){return qt(this,"map",e,t,void 0,arguments)},pop(){return yn(this,"pop")},push(...e){return yn(this,"push",e)},reduce(e,...t){return Vo(this,"reduce",e,t)},reduceRight(e,...t){return Vo(this,"reduceRight",e,t)},shift(){return yn(this,"shift")},some(e,t){return qt(this,"some",e,t,void 0,arguments)},splice(...e){return yn(this,"splice",e)},toReversed(){return Ds(this).toReversed()},toSorted(e){return Ds(this).toSorted(e)},toSpliced(...e){return Ds(this).toSpliced(...e)},unshift(...e){return yn(this,"unshift",e)},values(){return ri(this,"values",Ye)}};function ri(e,t,s){const n=Vr(e),r=n[t]();return n!==e&&!wt(e)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.value&&(i.value=s(i.value)),i}),r}const pd=Array.prototype;function qt(e,t,s,n,r,i){const o=Vr(e),a=o!==e&&!wt(e),l=o[t];if(l!==pd[t]){const d=l.apply(e,i);return a?Ye(d):d}let u=s;o!==e&&(a?u=function(d,f){return s.call(this,Ye(d),f,e)}:s.length>2&&(u=function(d,f){return s.call(this,d,f,e)}));const c=l.call(o,u,n);return a&&r?r(c):c}function Vo(e,t,s,n){const r=Vr(e);let i=s;return r!==e&&(wt(e)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,e)}):i=function(o,a,l){return s.call(this,o,Ye(a),l,e)}),r[t](i,...n)}function ii(e,t,s){const n=Ee(e);nt(n,"iterate",Bn);const r=n[t](...s);return(r===-1||r===!1)&&po(s[0])?(s[0]=Ee(s[0]),n[t](...s)):r}function yn(e,t,s=[]){Zt(),ao();const n=Ee(e)[t].apply(e,s);return lo(),es(),n}const gd=so("__proto__,__v_isRef,__isVue"),Gl=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(It));function md(e){It(e)||(e=String(e));const t=Ee(this);return nt(t,"has",e),t.hasOwnProperty(e)}class zl{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,n){if(s==="__v_skip")return t.__v_skip;const r=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!r;if(s==="__v_isReadonly")return r;if(s==="__v_isShallow")return i;if(s==="__v_raw")return n===(r?i?Td:Yl:i?Ql:Xl).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const o=le(t);if(!r){let l;if(o&&(l=hd[s]))return l;if(s==="hasOwnProperty")return md}const a=Reflect.get(t,s,qe(t)?t:n);return(It(s)?Gl.has(s):gd(s))||(r||nt(t,"get",s),i)?a:qe(a)?o&&io(s)?a:a.value:Le(a)?r?ec(a):Pt(a):a}}class Jl extends zl{constructor(t=!1){super(!1,t)}set(t,s,n,r){let i=t[s];if(!this._isShallow){const l=ms(i);if(!wt(n)&&!ms(n)&&(i=Ee(i),n=Ee(n)),!le(t)&&qe(i)&&!qe(n))return l||(i.value=n),!0}const o=le(t)&&io(s)?Number(s)<t.length:Oe(t,s),a=Reflect.set(t,s,n,qe(t)?t:r);return t===Ee(r)&&(o?Yt(n,i)&&Jt(t,"set",s,n):Jt(t,"add",s,n)),a}deleteProperty(t,s){const n=Oe(t,s);t[s];const r=Reflect.deleteProperty(t,s);return r&&n&&Jt(t,"delete",s,void 0),r}has(t,s){const n=Reflect.has(t,s);return(!It(s)||!Gl.has(s))&&nt(t,"has",s),n}ownKeys(t){return nt(t,"iterate",le(t)?"length":Os),Reflect.ownKeys(t)}}class vd extends zl{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const _d=new Jl,yd=new vd,bd=new Jl(!0);const Ci=e=>e,er=e=>Reflect.getPrototypeOf(e);function wd(e,t,s){return function(...n){const r=this.__v_raw,i=Ee(r),o=rn(i),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=r[e](...n),c=s?Ci:t?Sr:Ye;return!t&&nt(i,"iterate",l?xi:Os),{next(){const{value:d,done:f}=u.next();return f?{value:d,done:f}:{value:a?[c(d[0]),c(d[1])]:c(d),done:f}},[Symbol.iterator](){return this}}}}function tr(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Ad(e,t){const s={get(r){const i=this.__v_raw,o=Ee(i),a=Ee(r);e||(Yt(r,a)&&nt(o,"get",r),nt(o,"get",a));const{has:l}=er(o),u=t?Ci:e?Sr:Ye;if(l.call(o,r))return u(i.get(r));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(r)},get size(){const r=this.__v_raw;return!e&&nt(Ee(r),"iterate",Os),r.size},has(r){const i=this.__v_raw,o=Ee(i),a=Ee(r);return e||(Yt(r,a)&&nt(o,"has",r),nt(o,"has",a)),r===a?i.has(r):i.has(r)||i.has(a)},forEach(r,i){const o=this,a=o.__v_raw,l=Ee(a),u=t?Ci:e?Sr:Ye;return!e&&nt(l,"iterate",Os),a.forEach((c,d)=>r.call(i,u(c),u(d),o))}};return Je(s,e?{add:tr("add"),set:tr("set"),delete:tr("delete"),clear:tr("clear")}:{add(r){!t&&!wt(r)&&!ms(r)&&(r=Ee(r));const i=Ee(this);return er(i).has.call(i,r)||(i.add(r),Jt(i,"add",r,r)),this},set(r,i){!t&&!wt(i)&&!ms(i)&&(i=Ee(i));const o=Ee(this),{has:a,get:l}=er(o);let u=a.call(o,r);u||(r=Ee(r),u=a.call(o,r));const c=l.call(o,r);return o.set(r,i),u?Yt(i,c)&&Jt(o,"set",r,i):Jt(o,"add",r,i),this},delete(r){const i=Ee(this),{has:o,get:a}=er(i);let l=o.call(i,r);l||(r=Ee(r),l=o.call(i,r)),a&&a.call(i,r);const u=i.delete(r);return l&&Jt(i,"delete",r,void 0),u},clear(){const r=Ee(this),i=r.size!==0,o=r.clear();return i&&Jt(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{s[r]=wd(r,e,t)}),s}function fo(e,t){const s=Ad(e,t);return(n,r,i)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?n:Reflect.get(Oe(s,r)&&r in n?s:n,r,i)}const kd={get:fo(!1,!1)},Sd={get:fo(!1,!0)},Ed={get:fo(!0,!1)};const Xl=new WeakMap,Ql=new WeakMap,Yl=new WeakMap,Td=new WeakMap;function xd(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Cd(e){return e.__v_skip||!Object.isExtensible(e)?0:xd(Zu(e))}function Pt(e){return ms(e)?e:ho(e,!1,_d,kd,Xl)}function Zl(e){return ho(e,!1,bd,Sd,Ql)}function ec(e){return ho(e,!0,yd,Ed,Yl)}function ho(e,t,s,n,r){if(!Le(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=Cd(e);if(i===0)return e;const o=r.get(e);if(o)return o;const a=new Proxy(e,i===2?n:s);return r.set(e,a),a}function ps(e){return ms(e)?ps(e.__v_raw):!!(e&&e.__v_isReactive)}function ms(e){return!!(e&&e.__v_isReadonly)}function wt(e){return!!(e&&e.__v_isShallow)}function po(e){return e?!!e.__v_raw:!1}function Ee(e){const t=e&&e.__v_raw;return t?Ee(t):e}function go(e){return!Oe(e,"__v_skip")&&Object.isExtensible(e)&&Ol(e,"__v_skip",!0),e}const Ye=e=>Le(e)?Pt(e):e,Sr=e=>Le(e)?ec(e):e;function qe(e){return e?e.__v_isRef===!0:!1}function F(e){return tc(e,!1)}function Pd(e){return tc(e,!0)}function tc(e,t){return qe(e)?e:new Rd(e,t)}class Rd{constructor(t,s){this.dep=new uo,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:Ee(t),this._value=s?t:Ye(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,n=this.__v_isShallow||wt(t)||ms(t);t=n?t:Ee(t),Yt(t,s)&&(this._rawValue=t,this._value=n?t:Ye(t),this.dep.trigger())}}function ze(e){return qe(e)?e.value:e}const Od={get:(e,t,s)=>t==="__v_raw"?e:ze(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const r=e[t];return qe(r)&&!qe(s)?(r.value=s,!0):Reflect.set(e,t,s,n)}};function sc(e){return ps(e)?e:new Proxy(e,Od)}function Id(e){const t=le(e)?new Array(e.length):{};for(const s in e)t[s]=Ld(e,s);return t}class $d{constructor(t,s,n){this._object=t,this._key=s,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return fd(Ee(this._object),this._key)}}function Ld(e,t,s){const n=e[t];return qe(n)?n:new $d(e,t,s)}class jd{constructor(t,s,n){this.fn=t,this.setter=s,this._value=void 0,this.dep=new uo(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Dn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Ne!==this)return Vl(this,!0),!0}get value(){const t=this.dep.track();return Hl(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Nd(e,t,s=!1){let n,r;return he(e)?n=e:(n=e.get,r=e.set),new jd(n,r,s)}const sr={},Er=new WeakMap;let Ts;function Ud(e,t=!1,s=Ts){if(s){let n=Er.get(s);n||Er.set(s,n=[]),n.push(e)}}function Md(e,t,s=$e){const{immediate:n,deep:r,once:i,scheduler:o,augmentJob:a,call:l}=s,u=R=>r?R:wt(R)||r===!1||r===0?Xt(R,1):Xt(R);let c,d,f,h,m=!1,_=!1;if(qe(e)?(d=()=>e.value,m=wt(e)):ps(e)?(d=()=>u(e),m=!0):le(e)?(_=!0,m=e.some(R=>ps(R)||wt(R)),d=()=>e.map(R=>{if(qe(R))return R.value;if(ps(R))return u(R);if(he(R))return l?l(R,2):R()})):he(e)?t?d=l?()=>l(e,2):e:d=()=>{if(f){Zt();try{f()}finally{es()}}const R=Ts;Ts=c;try{return l?l(e,3,[h]):e(h)}finally{Ts=R}}:d=Vt,t&&r){const R=d,P=r===!0?1/0:r;d=()=>Xt(R(),P)}const w=Ul(),E=()=>{c.stop(),w&&w.active&&ro(w.effects,c)};if(i&&t){const R=t;t=(...P)=>{R(...P),E()}}let A=_?new Array(e.length).fill(sr):sr;const S=R=>{if(!(!(c.flags&1)||!c.dirty&&!R))if(t){const P=c.run();if(r||m||(_?P.some((B,x)=>Yt(B,A[x])):Yt(P,A))){f&&f();const B=Ts;Ts=c;try{const x=[P,A===sr?void 0:_&&A[0]===sr?[]:A,h];A=P,l?l(t,3,x):t(...x)}finally{Ts=B}}}else c.run()};return a&&a(S),c=new Dl(d),c.scheduler=o?()=>o(S,!1):S,h=R=>Ud(R,!1,c),f=c.onStop=()=>{const R=Er.get(c);if(R){if(l)l(R,4);else for(const P of R)P();Er.delete(c)}},t?n?S(!0):A=c.run():o?o(S.bind(null,!0),!0):c.run(),E.pause=c.pause.bind(c),E.resume=c.resume.bind(c),E.stop=E,E}function Xt(e,t=1/0,s){if(t<=0||!Le(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,qe(e))Xt(e.value,t,s);else if(le(e))for(let n=0;n<e.length;n++)Xt(e[n],t,s);else if(mn(e)||rn(e))e.forEach(n=>{Xt(n,t,s)});else if(Rl(e)){for(const n in e)Xt(e[n],t,s);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&Xt(e[n],t,s)}return e}/**
* @vue/runtime-core v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function zn(e,t,s,n){try{return n?e(...n):e()}catch(r){Jn(r,t,s)}}function $t(e,t,s,n){if(he(e)){const r=zn(e,t,s,n);return r&&Cl(r)&&r.catch(i=>{Jn(i,t,s)}),r}if(le(e)){const r=[];for(let i=0;i<e.length;i++)r.push($t(e[i],t,s,n));return r}}function Jn(e,t,s,n=!0){const r=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||$e;if(t){let a=t.parent;const l=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const c=a.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](e,l,u)===!1)return}a=a.parent}if(i){Zt(),zn(i,null,10,[e,l,u]),es();return}}Dd(e,s,r,n,o)}function Dd(e,t,s,n=!0,r=!1){if(r)throw e;console.error(e)}const ct=[];let Ut=-1;const on=[];let cs=null,Qs=0;const nc=Promise.resolve();let Tr=null;function ts(e){const t=Tr||nc;return e?t.then(this?e.bind(this):e):t}function Bd(e){let t=Ut+1,s=ct.length;for(;t<s;){const n=t+s>>>1,r=ct[n],i=Vn(r);i<e||i===e&&r.flags&2?t=n+1:s=n}return t}function mo(e){if(!(e.flags&1)){const t=Vn(e),s=ct[ct.length-1];!s||!(e.flags&2)&&t>=Vn(s)?ct.push(e):ct.splice(Bd(t),0,e),e.flags|=1,rc()}}function rc(){Tr||(Tr=nc.then(oc))}function Vd(e){le(e)?on.push(...e):cs&&e.id===-1?cs.splice(Qs+1,0,e):e.flags&1||(on.push(e),e.flags|=1),rc()}function Fo(e,t,s=Ut+1){for(;s<ct.length;s++){const n=ct[s];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;ct.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function ic(e){if(on.length){const t=[...new Set(on)].sort((s,n)=>Vn(s)-Vn(n));if(on.length=0,cs){cs.push(...t);return}for(cs=t,Qs=0;Qs<cs.length;Qs++){const s=cs[Qs];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}cs=null,Qs=0}}const Vn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function oc(e){try{for(Ut=0;Ut<ct.length;Ut++){const t=ct[Ut];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),zn(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Ut<ct.length;Ut++){const t=ct[Ut];t&&(t.flags&=-2)}Ut=-1,ct.length=0,ic(),Tr=null,(ct.length||on.length)&&oc()}}let et=null,Fr=null;function xr(e){const t=et;return et=e,Fr=e&&e.type.__scopeId||null,t}function ww(e){Fr=e}function Aw(){Fr=null}const kw=e=>pt;function pt(e,t=et,s){if(!t||e._n)return e;const n=(...r)=>{n._d&&na(-1);const i=xr(t);let o;try{o=e(...r)}finally{xr(i),n._d&&na(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function tn(e,t){if(et===null)return e;const s=Gr(et),n=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[i,o,a,l=$e]=t[r];i&&(he(i)&&(i={mounted:i,updated:i}),i.deep&&Xt(o),n.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function ws(e,t,s,n){const r=e.dirs,i=t&&t.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let l=a.dir[n];l&&(Zt(),$t(l,s,8,[e.el,a,e,t]),es())}}const ac=Symbol("_vte"),lc=e=>e.__isTeleport,Cn=e=>e&&(e.disabled||e.disabled===""),qo=e=>e&&(e.defer||e.defer===""),Ho=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Wo=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Pi=(e,t)=>{const s=e&&e.to;return Me(s)?t?t(s):null:s},cc={name:"Teleport",__isTeleport:!0,process(e,t,s,n,r,i,o,a,l,u){const{mc:c,pc:d,pbc:f,o:{insert:h,querySelector:m,createText:_,createComment:w}}=u,E=Cn(t.props);let{shapeFlag:A,children:S,dynamicChildren:R}=t;if(e==null){const P=t.el=_(""),B=t.anchor=_("");h(P,s,n),h(B,s,n);const x=(v,D)=>{A&16&&(r&&r.isCE&&(r.ce._teleportTarget=v),c(S,v,D,r,i,o,a,l))},y=()=>{const v=t.target=Pi(t.props,m),D=uc(v,t,_,h);v&&(o!=="svg"&&Ho(v)?o="svg":o!=="mathml"&&Wo(v)&&(o="mathml"),E||(x(v,D),vr(t,!1)))};E&&(x(s,B),vr(t,!0)),qo(t.props)?(t.el.__isMounted=!1,lt(()=>{y(),delete t.el.__isMounted},i)):y()}else{if(qo(t.props)&&e.el.__isMounted===!1){lt(()=>{cc.process(e,t,s,n,r,i,o,a,l,u)},i);return}t.el=e.el,t.targetStart=e.targetStart;const P=t.anchor=e.anchor,B=t.target=e.target,x=t.targetAnchor=e.targetAnchor,y=Cn(e.props),v=y?s:B,D=y?P:x;if(o==="svg"||Ho(B)?o="svg":(o==="mathml"||Wo(B))&&(o="mathml"),R?(f(e.dynamicChildren,R,v,r,i,o,a),ko(e,t,!0)):l||d(e,t,v,D,r,i,o,a,!1),E)y?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):nr(t,s,P,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const z=t.target=Pi(t.props,m);z&&nr(t,z,null,u,0)}else y&&nr(t,B,x,u,1);vr(t,E)}},remove(e,t,s,{um:n,o:{remove:r}},i){const{shapeFlag:o,children:a,anchor:l,targetStart:u,targetAnchor:c,target:d,props:f}=e;if(d&&(r(u),r(c)),i&&r(l),o&16){const h=i||!Cn(f);for(let m=0;m<a.length;m++){const _=a[m];n(_,t,s,h,!!_.dynamicChildren)}}},move:nr,hydrate:Fd};function nr(e,t,s,{o:{insert:n},m:r},i=2){i===0&&n(e.targetAnchor,t,s);const{el:o,anchor:a,shapeFlag:l,children:u,props:c}=e,d=i===2;if(d&&n(o,t,s),(!d||Cn(c))&&l&16)for(let f=0;f<u.length;f++)r(u[f],t,s,2);d&&n(a,t,s)}function Fd(e,t,s,n,r,i,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:u,createText:c}},d){const f=t.target=Pi(t.props,l);if(f){const h=Cn(t.props),m=f._lpa||f.firstChild;if(t.shapeFlag&16)if(h)t.anchor=d(o(e),t,a(e),s,n,r,i),t.targetStart=m,t.targetAnchor=m&&o(m);else{t.anchor=o(e);let _=m;for(;_;){if(_&&_.nodeType===8){if(_.data==="teleport start anchor")t.targetStart=_;else if(_.data==="teleport anchor"){t.targetAnchor=_,f._lpa=t.targetAnchor&&o(t.targetAnchor);break}}_=o(_)}t.targetAnchor||uc(f,t,c,u),d(m&&o(m),t,f,s,n,r,i)}vr(t,h)}return t.anchor&&o(t.anchor)}const gs=cc;function vr(e,t){const s=e.ctx;if(s&&s.ut){let n,r;for(t?(n=e.el,r=e.anchor):(n=e.targetStart,r=e.targetAnchor);n&&n!==r;)n.nodeType===1&&n.setAttribute("data-v-owner",s.uid),n=n.nextSibling;s.ut()}}function uc(e,t,s,n){const r=t.targetStart=s(""),i=t.targetAnchor=s("");return r[ac]=i,e&&(n(r,e),n(i,e)),i}const zt=Symbol("_leaveCb"),rr=Symbol("_enterCb");function dc(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return dt(()=>{e.isMounted=!0}),Et(()=>{e.isUnmounting=!0}),e}const bt=[Function,Array],fc={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:bt,onEnter:bt,onAfterEnter:bt,onEnterCancelled:bt,onBeforeLeave:bt,onLeave:bt,onAfterLeave:bt,onLeaveCancelled:bt,onBeforeAppear:bt,onAppear:bt,onAfterAppear:bt,onAppearCancelled:bt},hc=e=>{const t=e.subTree;return t.component?hc(t.component):t},qd={name:"BaseTransition",props:fc,setup(e,{slots:t}){const s=Kr(),n=dc();return()=>{const r=t.default&&vo(t.default(),!0);if(!r||!r.length)return;const i=pc(r),o=Ee(e),{mode:a}=o;if(n.isLeaving)return oi(i);const l=Ko(i);if(!l)return oi(i);let u=Fn(l,o,n,s,d=>u=d);l.type!==rt&&js(l,u);let c=s.subTree&&Ko(s.subTree);if(c&&c.type!==rt&&!Cs(l,c)&&hc(s).type!==rt){let d=Fn(c,o,n,s);if(js(c,d),a==="out-in"&&l.type!==rt)return n.isLeaving=!0,d.afterLeave=()=>{n.isLeaving=!1,s.job.flags&8||s.update(),delete d.afterLeave,c=void 0},oi(i);a==="in-out"&&l.type!==rt?d.delayLeave=(f,h,m)=>{const _=gc(n,c);_[String(c.key)]=c,f[zt]=()=>{h(),f[zt]=void 0,delete u.delayedLeave,c=void 0},u.delayedLeave=()=>{m(),delete u.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return i}}};function pc(e){let t=e[0];if(e.length>1){for(const s of e)if(s.type!==rt){t=s;break}}return t}const Hd=qd;function gc(e,t){const{leavingVNodes:s}=e;let n=s.get(t.type);return n||(n=Object.create(null),s.set(t.type,n)),n}function Fn(e,t,s,n,r){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:d,onBeforeLeave:f,onLeave:h,onAfterLeave:m,onLeaveCancelled:_,onBeforeAppear:w,onAppear:E,onAfterAppear:A,onAppearCancelled:S}=t,R=String(e.key),P=gc(s,e),B=(v,D)=>{v&&$t(v,n,9,D)},x=(v,D)=>{const z=D[1];B(v,D),le(v)?v.every(V=>V.length<=1)&&z():v.length<=1&&z()},y={mode:o,persisted:a,beforeEnter(v){let D=l;if(!s.isMounted)if(i)D=w||l;else return;v[zt]&&v[zt](!0);const z=P[R];z&&Cs(e,z)&&z.el[zt]&&z.el[zt](),B(D,[v])},enter(v){let D=u,z=c,V=d;if(!s.isMounted)if(i)D=E||u,z=A||c,V=S||d;else return;let oe=!1;const ce=v[rr]=H=>{oe||(oe=!0,H?B(V,[v]):B(z,[v]),y.delayedLeave&&y.delayedLeave(),v[rr]=void 0)};D?x(D,[v,ce]):ce()},leave(v,D){const z=String(e.key);if(v[rr]&&v[rr](!0),s.isUnmounting)return D();B(f,[v]);let V=!1;const oe=v[zt]=ce=>{V||(V=!0,D(),ce?B(_,[v]):B(m,[v]),v[zt]=void 0,P[z]===e&&delete P[z])};P[z]=e,h?x(h,[v,oe]):oe()},clone(v){const D=Fn(v,t,s,n,r);return r&&r(D),D}};return y}function oi(e){if(Xn(e))return e=vs(e),e.children=null,e}function Ko(e){if(!Xn(e))return lc(e.type)&&e.children?pc(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:s}=e;if(s){if(t&16)return s[0];if(t&32&&he(s.default))return s.default()}}function js(e,t){e.shapeFlag&6&&e.component?(e.transition=t,js(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function vo(e,t=!1,s){let n=[],r=0;for(let i=0;i<e.length;i++){let o=e[i];const a=s==null?o.key:String(s)+String(o.key!=null?o.key:i);o.type===Te?(o.patchFlag&128&&r++,n=n.concat(vo(o.children,t,a))):(t||o.type!==rt)&&n.push(a!=null?vs(o,{key:a}):o)}if(r>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function it(e,t){return he(e)?Je({name:e.name},t,{setup:e}):e}function _o(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Pn(e,t,s,n,r=!1){if(le(e)){e.forEach((m,_)=>Pn(m,t&&(le(t)?t[_]:t),s,n,r));return}if(an(n)&&!r){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Pn(e,t,s,n.component.subTree);return}const i=n.shapeFlag&4?Gr(n.component):n.el,o=r?null:i,{i:a,r:l}=e,u=t&&t.r,c=a.refs===$e?a.refs={}:a.refs,d=a.setupState,f=Ee(d),h=d===$e?xl:m=>Oe(f,m);if(u!=null&&u!==l){if(Me(u))c[u]=null,h(u)&&(d[u]=null);else if(qe(u)){u.value=null;const m=t;m.k&&(c[m.k]=null)}}if(he(l))zn(l,a,12,[o,c]);else{const m=Me(l),_=qe(l);if(m||_){const w=()=>{if(e.f){const E=m?h(l)?d[l]:c[l]:l.value;if(r)le(E)&&ro(E,i);else if(le(E))E.includes(i)||E.push(i);else if(m)c[l]=[i],h(l)&&(d[l]=c[l]);else{const A=[i];l.value=A,e.k&&(c[e.k]=A)}}else m?(c[l]=o,h(l)&&(d[l]=o)):_&&(l.value=o,e.k&&(c[e.k]=o))};o?(w.id=-1,lt(w,s)):w()}}}const Go=e=>e.nodeType===8;Br().requestIdleCallback;Br().cancelIdleCallback;function Wd(e,t){if(Go(e)&&e.data==="["){let s=1,n=e.nextSibling;for(;n;){if(n.nodeType===1){if(t(n)===!1)break}else if(Go(n))if(n.data==="]"){if(--s===0)break}else n.data==="["&&s++;n=n.nextSibling}}else t(e)}const an=e=>!!e.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function Sw(e){he(e)&&(e={loader:e});const{loader:t,loadingComponent:s,errorComponent:n,delay:r=200,hydrate:i,timeout:o,suspensible:a=!0,onError:l}=e;let u=null,c,d=0;const f=()=>(d++,u=null,h()),h=()=>{let m;return u||(m=u=t().catch(_=>{if(_=_ instanceof Error?_:new Error(String(_)),l)return new Promise((w,E)=>{l(_,()=>w(f()),()=>E(_),d+1)});throw _}).then(_=>m!==u&&u?u:(_&&(_.__esModule||_[Symbol.toStringTag]==="Module")&&(_=_.default),c=_,_)))};return it({name:"AsyncComponentWrapper",__asyncLoader:h,__asyncHydrate(m,_,w){let E=!1;(_.bu||(_.bu=[])).push(()=>E=!0);const A=()=>{E||w()},S=i?()=>{const R=i(A,P=>Wd(m,P));R&&(_.bum||(_.bum=[])).push(R)}:A;c?S():h().then(()=>!_.isUnmounted&&S())},get __asyncResolved(){return c},setup(){const m=Ze;if(_o(m),c)return()=>ai(c,m);const _=S=>{u=null,Jn(S,m,13,!n)};if(a&&m.suspense||cn)return h().then(S=>()=>ai(S,m)).catch(S=>(_(S),()=>n?Ae(n,{error:S}):null));const w=F(!1),E=F(),A=F(!!r);return r&&setTimeout(()=>{A.value=!1},r),o!=null&&setTimeout(()=>{if(!w.value&&!E.value){const S=new Error(`Async component timed out after ${o}ms.`);_(S),E.value=S}},o),h().then(()=>{w.value=!0,m.parent&&Xn(m.parent.vnode)&&m.parent.update()}).catch(S=>{_(S),E.value=S}),()=>{if(w.value&&c)return ai(c,m);if(E.value&&n)return Ae(n,{error:E.value});if(s&&!A.value)return Ae(s)}}})}function ai(e,t){const{ref:s,props:n,children:r,ce:i}=t.vnode,o=Ae(e,n,r);return o.ref=s,o.ce=i,delete t.vnode.ce,o}const Xn=e=>e.type.__isKeepAlive;function Kd(e,t){mc(e,"a",t)}function Gd(e,t){mc(e,"da",t)}function mc(e,t,s=Ze){const n=e.__wdc||(e.__wdc=()=>{let r=s;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(qr(t,n,s),s){let r=s.parent;for(;r&&r.parent;)Xn(r.parent.vnode)&&zd(n,t,s,r),r=r.parent}}function zd(e,t,s,n){const r=qr(t,e,n,!0);_c(()=>{ro(n[t],r)},s)}function qr(e,t,s=Ze,n=!1){if(s){const r=s[e]||(s[e]=[]),i=t.__weh||(t.__weh=(...o)=>{Zt();const a=Qn(s),l=$t(t,s,e,o);return a(),es(),l});return n?r.unshift(i):r.push(i),i}}const ss=e=>(t,s=Ze)=>{(!cn||e==="sp")&&qr(e,(...n)=>t(...n),s)},Jd=ss("bm"),dt=ss("m"),Xd=ss("bu"),vc=ss("u"),Et=ss("bum"),_c=ss("um"),Qd=ss("sp"),Yd=ss("rtg"),Zd=ss("rtc");function ef(e,t=Ze){qr("ec",e,t)}const yo="components",tf="directives";function sf(e,t){return bo(yo,e,!0,t)||e}const yc=Symbol.for("v-ndc");function Ew(e){return Me(e)?bo(yo,e,!1)||e:e||yc}function Tw(e){return bo(tf,e)}function bo(e,t,s=!0,n=!1){const r=et||Ze;if(r){const i=r.type;if(e===yo){const a=Wf(i,!1);if(a&&(a===t||a===St(t)||a===Dr(St(t))))return i}const o=zo(r[e]||i[e],t)||zo(r.appContext[e],t);return!o&&n?i:o}}function zo(e,t){return e&&(e[t]||e[St(t)]||e[Dr(St(t))])}function Rt(e,t,s,n){let r;const i=s&&s[n],o=le(e);if(o||Me(e)){const a=o&&ps(e);let l=!1,u=!1;a&&(l=!wt(e),u=ms(e),e=Vr(e)),r=new Array(e.length);for(let c=0,d=e.length;c<d;c++)r[c]=t(l?u?Sr(Ye(e[c])):Ye(e[c]):e[c],c,void 0,i&&i[c])}else if(typeof e=="number"){r=new Array(e);for(let a=0;a<e;a++)r[a]=t(a+1,a,void 0,i&&i[a])}else if(Le(e))if(e[Symbol.iterator])r=Array.from(e,(a,l)=>t(a,l,void 0,i&&i[l]));else{const a=Object.keys(e);r=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];r[l]=t(e[c],c,l,i&&i[l])}}else r=[];return s&&(s[n]=r),r}function xw(e,t,s={},n,r){if(et.ce||et.parent&&an(et.parent)&&et.parent.ce)return t!=="default"&&(s.name=t),C(),Fe(Te,null,[Ae("slot",s,n)],64);let i=e[t];i&&i._c&&(i._d=!1),C();const o=i&&bc(i(s)),a=s.key||o&&o.key,l=Fe(Te,{key:(a&&!It(a)?a:`_${t}`)+(!o&&n?"_fb":"")},o||[],o&&e._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function bc(e){return e.some(t=>qn(t)?!(t.type===rt||t.type===Te&&!bc(t.children)):!0)?e:null}function Cw(e,t){const s={};for(const n in e)s[gr(n)]=e[n];return s}const Ri=e=>e?Dc(e)?Gr(e):Ri(e.parent):null,Rn=Je(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ri(e.parent),$root:e=>Ri(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Ac(e),$forceUpdate:e=>e.f||(e.f=()=>{mo(e.update)}),$nextTick:e=>e.n||(e.n=ts.bind(e.proxy)),$watch:e=>Ef.bind(e)}),li=(e,t)=>e!==$e&&!e.__isScriptSetup&&Oe(e,t),nf={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:n,data:r,props:i,accessCache:o,type:a,appContext:l}=e;let u;if(t[0]!=="$"){const h=o[t];if(h!==void 0)switch(h){case 1:return n[t];case 2:return r[t];case 4:return s[t];case 3:return i[t]}else{if(li(n,t))return o[t]=1,n[t];if(r!==$e&&Oe(r,t))return o[t]=2,r[t];if((u=e.propsOptions[0])&&Oe(u,t))return o[t]=3,i[t];if(s!==$e&&Oe(s,t))return o[t]=4,s[t];Oi&&(o[t]=0)}}const c=Rn[t];let d,f;if(c)return t==="$attrs"&&nt(e.attrs,"get",""),c(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(s!==$e&&Oe(s,t))return o[t]=4,s[t];if(f=l.config.globalProperties,Oe(f,t))return f[t]},set({_:e},t,s){const{data:n,setupState:r,ctx:i}=e;return li(r,t)?(r[t]=s,!0):n!==$e&&Oe(n,t)?(n[t]=s,!0):Oe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:r,propsOptions:i,type:o}},a){let l,u;return!!(s[a]||e!==$e&&a[0]!=="$"&&Oe(e,a)||li(t,a)||(l=i[0])&&Oe(l,a)||Oe(n,a)||Oe(Rn,a)||Oe(r.config.globalProperties,a)||(u=o.__cssModules)&&u[a])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:Oe(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function Jo(e){return le(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let Oi=!0;function rf(e){const t=Ac(e),s=e.proxy,n=e.ctx;Oi=!1,t.beforeCreate&&Xo(t.beforeCreate,e,"bc");const{data:r,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:f,beforeUpdate:h,updated:m,activated:_,deactivated:w,beforeDestroy:E,beforeUnmount:A,destroyed:S,unmounted:R,render:P,renderTracked:B,renderTriggered:x,errorCaptured:y,serverPrefetch:v,expose:D,inheritAttrs:z,components:V,directives:oe,filters:ce}=t;if(u&&of(u,n,null),o)for(const te in o){const ve=o[te];he(ve)&&(n[te]=ve.bind(s))}if(r){const te=r.call(s,s);Le(te)&&(e.data=Pt(te))}if(Oi=!0,i)for(const te in i){const ve=i[te],De=he(ve)?ve.bind(s,s):he(ve.get)?ve.get.bind(s,s):Vt,He=!he(ve)&&he(ve.set)?ve.set.bind(s):Vt,ne=Se({get:De,set:He});Object.defineProperty(n,te,{enumerable:!0,configurable:!0,get:()=>ne.value,set:ee=>ne.value=ee})}if(a)for(const te in a)wc(a[te],n,s,te);if(l){const te=he(l)?l.call(s):l;Reflect.ownKeys(te).forEach(ve=>{_r(ve,te[ve])})}c&&Xo(c,e,"c");function Z(te,ve){le(ve)?ve.forEach(De=>te(De.bind(s))):ve&&te(ve.bind(s))}if(Z(Jd,d),Z(dt,f),Z(Xd,h),Z(vc,m),Z(Kd,_),Z(Gd,w),Z(ef,y),Z(Zd,B),Z(Yd,x),Z(Et,A),Z(_c,R),Z(Qd,v),le(D))if(D.length){const te=e.exposed||(e.exposed={});D.forEach(ve=>{Object.defineProperty(te,ve,{get:()=>s[ve],set:De=>s[ve]=De,enumerable:!0})})}else e.exposed||(e.exposed={});P&&e.render===Vt&&(e.render=P),z!=null&&(e.inheritAttrs=z),V&&(e.components=V),oe&&(e.directives=oe),v&&_o(e)}function of(e,t,s=Vt){le(e)&&(e=Ii(e));for(const n in e){const r=e[n];let i;Le(r)?"default"in r?i=At(r.from||n,r.default,!0):i=At(r.from||n):i=At(r),qe(i)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[n]=i}}function Xo(e,t,s){$t(le(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function wc(e,t,s,n){let r=n.includes(".")?Lc(s,n):()=>s[n];if(Me(e)){const i=t[e];he(i)&&ht(r,i)}else if(he(e))ht(r,e.bind(s));else if(Le(e))if(le(e))e.forEach(i=>wc(i,t,s,n));else{const i=he(e.handler)?e.handler.bind(s):t[e.handler];he(i)&&ht(r,i,e)}}function Ac(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let l;return a?l=a:!r.length&&!s&&!n?l=t:(l={},r.length&&r.forEach(u=>Cr(l,u,o,!0)),Cr(l,t,o)),Le(t)&&i.set(t,l),l}function Cr(e,t,s,n=!1){const{mixins:r,extends:i}=t;i&&Cr(e,i,s,!0),r&&r.forEach(o=>Cr(e,o,s,!0));for(const o in t)if(!(n&&o==="expose")){const a=af[o]||s&&s[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const af={data:Qo,props:Yo,emits:Yo,methods:kn,computed:kn,beforeCreate:at,created:at,beforeMount:at,mounted:at,beforeUpdate:at,updated:at,beforeDestroy:at,beforeUnmount:at,destroyed:at,unmounted:at,activated:at,deactivated:at,errorCaptured:at,serverPrefetch:at,components:kn,directives:kn,watch:cf,provide:Qo,inject:lf};function Qo(e,t){return t?e?function(){return Je(he(e)?e.call(this,this):e,he(t)?t.call(this,this):t)}:t:e}function lf(e,t){return kn(Ii(e),Ii(t))}function Ii(e){if(le(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function at(e,t){return e?[...new Set([].concat(e,t))]:t}function kn(e,t){return e?Je(Object.create(null),e,t):t}function Yo(e,t){return e?le(e)&&le(t)?[...new Set([...e,...t])]:Je(Object.create(null),Jo(e),Jo(t??{})):t}function cf(e,t){if(!e)return t;if(!t)return e;const s=Je(Object.create(null),e);for(const n in t)s[n]=at(e[n],t[n]);return s}function kc(){return{app:null,config:{isNativeTag:xl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uf=0;function df(e,t){return function(n,r=null){he(n)||(n=Je({},n)),r!=null&&!Le(r)&&(r=null);const i=kc(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:uf++,_component:n,_props:r,_container:null,_context:i,_instance:null,version:Gf,get config(){return i.config},set config(c){},use(c,...d){return o.has(c)||(c&&he(c.install)?(o.add(c),c.install(u,...d)):he(c)&&(o.add(c),c(u,...d))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,d){return d?(i.components[c]=d,u):i.components[c]},directive(c,d){return d?(i.directives[c]=d,u):i.directives[c]},mount(c,d,f){if(!l){const h=u._ceVNode||Ae(n,r);return h.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),e(h,c,f),l=!0,u._container=c,c.__vue_app__=u,Gr(h.component)}},onUnmount(c){a.push(c)},unmount(){l&&($t(a,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(c,d){return i.provides[c]=d,u},runWithContext(c){const d=Is;Is=u;try{return c()}finally{Is=d}}};return u}}let Is=null;function _r(e,t){if(Ze){let s=Ze.provides;const n=Ze.parent&&Ze.parent.provides;n===s&&(s=Ze.provides=Object.create(n)),s[e]=t}}function At(e,t,s=!1){const n=Kr();if(n||Is){let r=Is?Is._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return s&&he(t)?t.call(n&&n.proxy):t}}function ff(){return!!(Kr()||Is)}const Sc={},Ec=()=>Object.create(Sc),Tc=e=>Object.getPrototypeOf(e)===Sc;function hf(e,t,s,n=!1){const r={},i=Ec();e.propsDefaults=Object.create(null),xc(e,t,r,i);for(const o in e.propsOptions[0])o in r||(r[o]=void 0);s?e.props=n?r:Zl(r):e.type.props?e.props=r:e.props=i,e.attrs=i}function pf(e,t,s,n){const{props:r,attrs:i,vnode:{patchFlag:o}}=e,a=Ee(r),[l]=e.propsOptions;let u=!1;if((n||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let d=0;d<c.length;d++){let f=c[d];if(Hr(e.emitsOptions,f))continue;const h=t[f];if(l)if(Oe(i,f))h!==i[f]&&(i[f]=h,u=!0);else{const m=St(f);r[m]=$i(l,a,m,h,e,!1)}else h!==i[f]&&(i[f]=h,u=!0)}}}else{xc(e,t,r,i)&&(u=!0);let c;for(const d in a)(!t||!Oe(t,d)&&((c=ys(d))===d||!Oe(t,c)))&&(l?s&&(s[d]!==void 0||s[c]!==void 0)&&(r[d]=$i(l,a,d,void 0,e,!0)):delete r[d]);if(i!==a)for(const d in i)(!t||!Oe(t,d))&&(delete i[d],u=!0)}u&&Jt(e.attrs,"set","")}function xc(e,t,s,n){const[r,i]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(En(l))continue;const u=t[l];let c;r&&Oe(r,c=St(l))?!i||!i.includes(c)?s[c]=u:(a||(a={}))[c]=u:Hr(e.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,o=!0)}if(i){const l=Ee(s),u=a||$e;for(let c=0;c<i.length;c++){const d=i[c];s[d]=$i(r,l,d,u[d],e,!Oe(u,d))}}return o}function $i(e,t,s,n,r,i){const o=e[s];if(o!=null){const a=Oe(o,"default");if(a&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&he(l)){const{propsDefaults:u}=r;if(s in u)n=u[s];else{const c=Qn(r);n=u[s]=l.call(null,t),c()}}else n=l;r.ce&&r.ce._setProp(s,n)}o[0]&&(i&&!a?n=!1:o[1]&&(n===""||n===ys(s))&&(n=!0))}return n}const gf=new WeakMap;function Cc(e,t,s=!1){const n=s?gf:t.propsCache,r=n.get(e);if(r)return r;const i=e.props,o={},a=[];let l=!1;if(!he(e)){const c=d=>{l=!0;const[f,h]=Cc(d,t,!0);Je(o,f),h&&a.push(...h)};!s&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!i&&!l)return Le(e)&&n.set(e,nn),nn;if(le(i))for(let c=0;c<i.length;c++){const d=St(i[c]);Zo(d)&&(o[d]=$e)}else if(i)for(const c in i){const d=St(c);if(Zo(d)){const f=i[c],h=o[d]=le(f)||he(f)?{type:f}:Je({},f),m=h.type;let _=!1,w=!0;if(le(m))for(let E=0;E<m.length;++E){const A=m[E],S=he(A)&&A.name;if(S==="Boolean"){_=!0;break}else S==="String"&&(w=!1)}else _=he(m)&&m.name==="Boolean";h[0]=_,h[1]=w,(_||Oe(h,"default"))&&a.push(d)}}const u=[o,a];return Le(e)&&n.set(e,u),u}function Zo(e){return e[0]!=="$"&&!En(e)}const wo=e=>e==="_"||e==="_ctx"||e==="$stable",Ao=e=>le(e)?e.map(Dt):[Dt(e)],mf=(e,t,s)=>{if(t._n)return t;const n=pt((...r)=>Ao(t(...r)),s);return n._c=!1,n},Pc=(e,t,s)=>{const n=e._ctx;for(const r in e){if(wo(r))continue;const i=e[r];if(he(i))t[r]=mf(r,i,n);else if(i!=null){const o=Ao(i);t[r]=()=>o}}},Rc=(e,t)=>{const s=Ao(t);e.slots.default=()=>s},Oc=(e,t,s)=>{for(const n in t)(s||!wo(n))&&(e[n]=t[n])},vf=(e,t,s)=>{const n=e.slots=Ec();if(e.vnode.shapeFlag&32){const r=t._;r?(Oc(n,t,s),s&&Ol(n,"_",r,!0)):Pc(t,n)}else t&&Rc(e,t)},_f=(e,t,s)=>{const{vnode:n,slots:r}=e;let i=!0,o=$e;if(n.shapeFlag&32){const a=t._;a?s&&a===1?i=!1:Oc(r,t,s):(i=!t.$stable,Pc(t,r)),o=t}else t&&(Rc(e,t),o={default:1});if(i)for(const a in r)!wo(a)&&o[a]==null&&delete r[a]},lt=If;function yf(e){return bf(e)}function bf(e,t){const s=Br();s.__VUE__=!0;const{insert:n,remove:r,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:f,setScopeId:h=Vt,insertStaticContent:m}=e,_=(p,g,k,N=null,M=null,j=null,K=void 0,q=null,O=!!g.dynamicChildren)=>{if(p===g)return;p&&!Cs(p,g)&&(N=L(p),ee(p,M,j,!0),p=null),g.patchFlag===-2&&(O=!1,g.dynamicChildren=null);const{type:T,ref:J,shapeFlag:G}=g;switch(T){case Wr:w(p,g,k,N);break;case rt:E(p,g,k,N);break;case yr:p==null&&A(g,k,N,K);break;case Te:V(p,g,k,N,M,j,K,q,O);break;default:G&1?P(p,g,k,N,M,j,K,q,O):G&6?oe(p,g,k,N,M,j,K,q,O):(G&64||G&128)&&T.process(p,g,k,N,M,j,K,q,O,re)}J!=null&&M?Pn(J,p&&p.ref,j,g||p,!g):J==null&&p&&p.ref!=null&&Pn(p.ref,null,j,p,!0)},w=(p,g,k,N)=>{if(p==null)n(g.el=a(g.children),k,N);else{const M=g.el=p.el;g.children!==p.children&&u(M,g.children)}},E=(p,g,k,N)=>{p==null?n(g.el=l(g.children||""),k,N):g.el=p.el},A=(p,g,k,N)=>{[p.el,p.anchor]=m(p.children,g,k,N,p.el,p.anchor)},S=({el:p,anchor:g},k,N)=>{let M;for(;p&&p!==g;)M=f(p),n(p,k,N),p=M;n(g,k,N)},R=({el:p,anchor:g})=>{let k;for(;p&&p!==g;)k=f(p),r(p),p=k;r(g)},P=(p,g,k,N,M,j,K,q,O)=>{g.type==="svg"?K="svg":g.type==="math"&&(K="mathml"),p==null?B(g,k,N,M,j,K,q,O):v(p,g,M,j,K,q,O)},B=(p,g,k,N,M,j,K,q)=>{let O,T;const{props:J,shapeFlag:G,transition:ie,dirs:de}=p;if(O=p.el=o(p.type,j,J&&J.is,J),G&8?c(O,p.children):G&16&&y(p.children,O,null,N,M,ci(p,j),K,q),de&&ws(p,null,N,"created"),x(O,p,p.scopeId,K,N),J){for(const Ie in J)Ie!=="value"&&!En(Ie)&&i(O,Ie,null,J[Ie],j,N);"value"in J&&i(O,"value",null,J.value,j),(T=J.onVnodeBeforeMount)&&jt(T,N,p)}de&&ws(p,null,N,"beforeMount");const ye=wf(M,ie);ye&&ie.beforeEnter(O),n(O,g,k),((T=J&&J.onVnodeMounted)||ye||de)&&lt(()=>{T&&jt(T,N,p),ye&&ie.enter(O),de&&ws(p,null,N,"mounted")},M)},x=(p,g,k,N,M)=>{if(k&&h(p,k),N)for(let j=0;j<N.length;j++)h(p,N[j]);if(M){let j=M.subTree;if(g===j||Nc(j.type)&&(j.ssContent===g||j.ssFallback===g)){const K=M.vnode;x(p,K,K.scopeId,K.slotScopeIds,M.parent)}}},y=(p,g,k,N,M,j,K,q,O=0)=>{for(let T=O;T<p.length;T++){const J=p[T]=q?us(p[T]):Dt(p[T]);_(null,J,g,k,N,M,j,K,q)}},v=(p,g,k,N,M,j,K)=>{const q=g.el=p.el;let{patchFlag:O,dynamicChildren:T,dirs:J}=g;O|=p.patchFlag&16;const G=p.props||$e,ie=g.props||$e;let de;if(k&&As(k,!1),(de=ie.onVnodeBeforeUpdate)&&jt(de,k,g,p),J&&ws(g,p,k,"beforeUpdate"),k&&As(k,!0),(G.innerHTML&&ie.innerHTML==null||G.textContent&&ie.textContent==null)&&c(q,""),T?D(p.dynamicChildren,T,q,k,N,ci(g,M),j):K||ve(p,g,q,null,k,N,ci(g,M),j,!1),O>0){if(O&16)z(q,G,ie,k,M);else if(O&2&&G.class!==ie.class&&i(q,"class",null,ie.class,M),O&4&&i(q,"style",G.style,ie.style,M),O&8){const ye=g.dynamicProps;for(let Ie=0;Ie<ye.length;Ie++){const xe=ye[Ie],tt=G[xe],Pe=ie[xe];(Pe!==tt||xe==="value")&&i(q,xe,tt,Pe,M,k)}}O&1&&p.children!==g.children&&c(q,g.children)}else!K&&T==null&&z(q,G,ie,k,M);((de=ie.onVnodeUpdated)||J)&&lt(()=>{de&&jt(de,k,g,p),J&&ws(g,p,k,"updated")},N)},D=(p,g,k,N,M,j,K)=>{for(let q=0;q<g.length;q++){const O=p[q],T=g[q],J=O.el&&(O.type===Te||!Cs(O,T)||O.shapeFlag&198)?d(O.el):k;_(O,T,J,null,N,M,j,K,!0)}},z=(p,g,k,N,M)=>{if(g!==k){if(g!==$e)for(const j in g)!En(j)&&!(j in k)&&i(p,j,g[j],null,M,N);for(const j in k){if(En(j))continue;const K=k[j],q=g[j];K!==q&&j!=="value"&&i(p,j,q,K,M,N)}"value"in k&&i(p,"value",g.value,k.value,M)}},V=(p,g,k,N,M,j,K,q,O)=>{const T=g.el=p?p.el:a(""),J=g.anchor=p?p.anchor:a("");let{patchFlag:G,dynamicChildren:ie,slotScopeIds:de}=g;de&&(q=q?q.concat(de):de),p==null?(n(T,k,N),n(J,k,N),y(g.children||[],k,J,M,j,K,q,O)):G>0&&G&64&&ie&&p.dynamicChildren?(D(p.dynamicChildren,ie,k,M,j,K,q),(g.key!=null||M&&g===M.subTree)&&ko(p,g,!0)):ve(p,g,k,J,M,j,K,q,O)},oe=(p,g,k,N,M,j,K,q,O)=>{g.slotScopeIds=q,p==null?g.shapeFlag&512?M.ctx.activate(g,k,N,K,O):ce(g,k,N,M,j,K,O):H(p,g,O)},ce=(p,g,k,N,M,j,K)=>{const q=p.component=Bf(p,N,M);if(Xn(p)&&(q.ctx.renderer=re),Vf(q,!1,K),q.asyncDep){if(M&&M.registerDep(q,Z,K),!p.el){const O=q.subTree=Ae(rt);E(null,O,g,k),p.placeholder=O.el}}else Z(q,p,g,k,M,j,K)},H=(p,g,k)=>{const N=g.component=p.component;if(Rf(p,g,k))if(N.asyncDep&&!N.asyncResolved){te(N,g,k);return}else N.next=g,N.update();else g.el=p.el,N.vnode=g},Z=(p,g,k,N,M,j,K)=>{const q=()=>{if(p.isMounted){let{next:G,bu:ie,u:de,parent:ye,vnode:Ie}=p;{const I=Ic(p);if(I){G&&(G.el=Ie.el,te(p,G,K)),I.asyncDep.then(()=>{p.isUnmounted||q()});return}}let xe=G,tt;As(p,!1),G?(G.el=Ie.el,te(p,G,K)):G=Ie,ie&&mr(ie),(tt=G.props&&G.props.onVnodeBeforeUpdate)&&jt(tt,ye,G,Ie),As(p,!0);const Pe=ta(p),_t=p.subTree;p.subTree=Pe,_(_t,Pe,d(_t.el),L(_t),p,M,j),G.el=Pe.el,xe===null&&Of(p,Pe.el),de&&lt(de,M),(tt=G.props&&G.props.onVnodeUpdated)&&lt(()=>jt(tt,ye,G,Ie),M)}else{let G;const{el:ie,props:de}=g,{bm:ye,m:Ie,parent:xe,root:tt,type:Pe}=p,_t=an(g);As(p,!1),ye&&mr(ye),!_t&&(G=de&&de.onVnodeBeforeMount)&&jt(G,xe,g),As(p,!0);{tt.ce&&tt.ce._def.shadowRoot!==!1&&tt.ce._injectChildStyle(Pe);const I=p.subTree=ta(p);_(null,I,k,N,p,M,j),g.el=I.el}if(Ie&&lt(Ie,M),!_t&&(G=de&&de.onVnodeMounted)){const I=g;lt(()=>jt(G,xe,I),M)}(g.shapeFlag&256||xe&&an(xe.vnode)&&xe.vnode.shapeFlag&256)&&p.a&&lt(p.a,M),p.isMounted=!0,g=k=N=null}};p.scope.on();const O=p.effect=new Dl(q);p.scope.off();const T=p.update=O.run.bind(O),J=p.job=O.runIfDirty.bind(O);J.i=p,J.id=p.uid,O.scheduler=()=>mo(J),As(p,!0),T()},te=(p,g,k)=>{g.component=p;const N=p.vnode.props;p.vnode=g,p.next=null,pf(p,g.props,N,k),_f(p,g.children,k),Zt(),Fo(p),es()},ve=(p,g,k,N,M,j,K,q,O=!1)=>{const T=p&&p.children,J=p?p.shapeFlag:0,G=g.children,{patchFlag:ie,shapeFlag:de}=g;if(ie>0){if(ie&128){He(T,G,k,N,M,j,K,q,O);return}else if(ie&256){De(T,G,k,N,M,j,K,q,O);return}}de&8?(J&16&&Ve(T,M,j),G!==T&&c(k,G)):J&16?de&16?He(T,G,k,N,M,j,K,q,O):Ve(T,M,j,!0):(J&8&&c(k,""),de&16&&y(G,k,N,M,j,K,q,O))},De=(p,g,k,N,M,j,K,q,O)=>{p=p||nn,g=g||nn;const T=p.length,J=g.length,G=Math.min(T,J);let ie;for(ie=0;ie<G;ie++){const de=g[ie]=O?us(g[ie]):Dt(g[ie]);_(p[ie],de,k,null,M,j,K,q,O)}T>J?Ve(p,M,j,!0,!1,G):y(g,k,N,M,j,K,q,O,G)},He=(p,g,k,N,M,j,K,q,O)=>{let T=0;const J=g.length;let G=p.length-1,ie=J-1;for(;T<=G&&T<=ie;){const de=p[T],ye=g[T]=O?us(g[T]):Dt(g[T]);if(Cs(de,ye))_(de,ye,k,null,M,j,K,q,O);else break;T++}for(;T<=G&&T<=ie;){const de=p[G],ye=g[ie]=O?us(g[ie]):Dt(g[ie]);if(Cs(de,ye))_(de,ye,k,null,M,j,K,q,O);else break;G--,ie--}if(T>G){if(T<=ie){const de=ie+1,ye=de<J?g[de].el:N;for(;T<=ie;)_(null,g[T]=O?us(g[T]):Dt(g[T]),k,ye,M,j,K,q,O),T++}}else if(T>ie)for(;T<=G;)ee(p[T],M,j,!0),T++;else{const de=T,ye=T,Ie=new Map;for(T=ye;T<=ie;T++){const fe=g[T]=O?us(g[T]):Dt(g[T]);fe.key!=null&&Ie.set(fe.key,T)}let xe,tt=0;const Pe=ie-ye+1;let _t=!1,I=0;const U=new Array(Pe);for(T=0;T<Pe;T++)U[T]=0;for(T=de;T<=G;T++){const fe=p[T];if(tt>=Pe){ee(fe,M,j,!0);continue}let pe;if(fe.key!=null)pe=Ie.get(fe.key);else for(xe=ye;xe<=ie;xe++)if(U[xe-ye]===0&&Cs(fe,g[xe])){pe=xe;break}pe===void 0?ee(fe,M,j,!0):(U[pe-ye]=T+1,pe>=I?I=pe:_t=!0,_(fe,g[pe],k,null,M,j,K,q,O),tt++)}const Q=_t?Af(U):nn;for(xe=Q.length-1,T=Pe-1;T>=0;T--){const fe=ye+T,pe=g[fe],we=g[fe+1],me=fe+1<J?we.el||we.placeholder:N;U[T]===0?_(null,pe,k,me,M,j,K,q,O):_t&&(xe<0||T!==Q[xe]?ne(pe,k,me,2):xe--)}}},ne=(p,g,k,N,M=null)=>{const{el:j,type:K,transition:q,children:O,shapeFlag:T}=p;if(T&6){ne(p.component.subTree,g,k,N);return}if(T&128){p.suspense.move(g,k,N);return}if(T&64){K.move(p,g,k,re);return}if(K===Te){n(j,g,k);for(let G=0;G<O.length;G++)ne(O[G],g,k,N);n(p.anchor,g,k);return}if(K===yr){S(p,g,k);return}if(N!==2&&T&1&&q)if(N===0)q.beforeEnter(j),n(j,g,k),lt(()=>q.enter(j),M);else{const{leave:G,delayLeave:ie,afterLeave:de}=q,ye=()=>{p.ctx.isUnmounted?r(j):n(j,g,k)},Ie=()=>{j._isLeaving&&j[zt](!0),G(j,()=>{ye(),de&&de()})};ie?ie(j,ye,Ie):Ie()}else n(j,g,k)},ee=(p,g,k,N=!1,M=!1)=>{const{type:j,props:K,ref:q,children:O,dynamicChildren:T,shapeFlag:J,patchFlag:G,dirs:ie,cacheIndex:de}=p;if(G===-2&&(M=!1),q!=null&&(Zt(),Pn(q,null,k,p,!0),es()),de!=null&&(g.renderCache[de]=void 0),J&256){g.ctx.deactivate(p);return}const ye=J&1&&ie,Ie=!an(p);let xe;if(Ie&&(xe=K&&K.onVnodeBeforeUnmount)&&jt(xe,g,p),J&6)Qe(p.component,k,N);else{if(J&128){p.suspense.unmount(k,N);return}ye&&ws(p,null,g,"beforeUnmount"),J&64?p.type.remove(p,g,k,re,N):T&&!T.hasOnce&&(j!==Te||G>0&&G&64)?Ve(T,g,k,!1,!0):(j===Te&&G&384||!M&&J&16)&&Ve(O,g,k),N&&ue(p)}(Ie&&(xe=K&&K.onVnodeUnmounted)||ye)&&lt(()=>{xe&&jt(xe,g,p),ye&&ws(p,null,g,"unmounted")},k)},ue=p=>{const{type:g,el:k,anchor:N,transition:M}=p;if(g===Te){Ue(k,N);return}if(g===yr){R(p);return}const j=()=>{r(k),M&&!M.persisted&&M.afterLeave&&M.afterLeave()};if(p.shapeFlag&1&&M&&!M.persisted){const{leave:K,delayLeave:q}=M,O=()=>K(k,j);q?q(p.el,j,O):O()}else j()},Ue=(p,g)=>{let k;for(;p!==g;)k=f(p),r(p),p=k;r(g)},Qe=(p,g,k)=>{const{bum:N,scope:M,job:j,subTree:K,um:q,m:O,a:T}=p;ea(O),ea(T),N&&mr(N),M.stop(),j&&(j.flags|=8,ee(K,p,g,k)),q&&lt(q,g),lt(()=>{p.isUnmounted=!0},g)},Ve=(p,g,k,N=!1,M=!1,j=0)=>{for(let K=j;K<p.length;K++)ee(p[K],g,k,N,M)},L=p=>{if(p.shapeFlag&6)return L(p.component.subTree);if(p.shapeFlag&128)return p.suspense.next();const g=f(p.anchor||p.el),k=g&&g[ac];return k?f(k):g};let X=!1;const W=(p,g,k)=>{p==null?g._vnode&&ee(g._vnode,null,null,!0):_(g._vnode||null,p,g,null,null,null,k),g._vnode=p,X||(X=!0,Fo(),ic(),X=!1)},re={p:_,um:ee,m:ne,r:ue,mt:ce,mc:y,pc:ve,pbc:D,n:L,o:e};return{render:W,hydrate:void 0,createApp:df(W)}}function ci({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function As({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function wf(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function ko(e,t,s=!1){const n=e.children,r=t.children;if(le(n)&&le(r))for(let i=0;i<n.length;i++){const o=n[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=us(r[i]),a.el=o.el),!s&&a.patchFlag!==-2&&ko(o,a)),a.type===Wr&&a.patchFlag!==-1&&(a.el=o.el),a.type===rt&&!a.el&&(a.el=o.el)}}function Af(e){const t=e.slice(),s=[0];let n,r,i,o,a;const l=e.length;for(n=0;n<l;n++){const u=e[n];if(u!==0){if(r=s[s.length-1],e[r]<u){t[n]=r,s.push(n);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,e[s[a]]<u?i=a+1:o=a;u<e[s[i]]&&(i>0&&(t[n]=s[i-1]),s[i]=n)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=t[o];return s}function Ic(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Ic(t)}function ea(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const kf=Symbol.for("v-scx"),Sf=()=>At(kf);function ht(e,t,s){return $c(e,t,s)}function $c(e,t,s=$e){const{immediate:n,deep:r,flush:i,once:o}=s,a=Je({},s),l=t&&n||!t&&i!=="post";let u;if(cn){if(i==="sync"){const h=Sf();u=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=Vt,h.resume=Vt,h.pause=Vt,h}}const c=Ze;a.call=(h,m,_)=>$t(h,c,m,_);let d=!1;i==="post"?a.scheduler=h=>{lt(h,c&&c.suspense)}:i!=="sync"&&(d=!0,a.scheduler=(h,m)=>{m?h():mo(h)}),a.augmentJob=h=>{t&&(h.flags|=4),d&&(h.flags|=2,c&&(h.id=c.uid,h.i=c))};const f=Md(e,t,a);return cn&&(u?u.push(f):l&&f()),f}function Ef(e,t,s){const n=this.proxy,r=Me(e)?e.includes(".")?Lc(n,e):()=>n[e]:e.bind(n,n);let i;he(t)?i=t:(i=t.handler,s=t);const o=Qn(this),a=$c(r,i.bind(n),s);return o(),a}function Lc(e,t){const s=t.split(".");return()=>{let n=e;for(let r=0;r<s.length&&n;r++)n=n[s[r]];return n}}const Tf=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${St(t)}Modifiers`]||e[`${ys(t)}Modifiers`];function xf(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||$e;let r=s;const i=t.startsWith("update:"),o=i&&Tf(n,t.slice(7));o&&(o.trim&&(r=s.map(c=>Me(c)?c.trim():c)),o.number&&(r=s.map(Ar)));let a,l=n[a=gr(t)]||n[a=gr(St(t))];!l&&i&&(l=n[a=gr(ys(t))]),l&&$t(l,e,6,r);const u=n[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,$t(u,e,6,r)}}function jc(e,t,s=!1){const n=t.emitsCache,r=n.get(e);if(r!==void 0)return r;const i=e.emits;let o={},a=!1;if(!he(e)){const l=u=>{const c=jc(u,t,!0);c&&(a=!0,Je(o,c))};!s&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!a?(Le(e)&&n.set(e,null),null):(le(i)?i.forEach(l=>o[l]=null):Je(o,i),Le(e)&&n.set(e,o),o)}function Hr(e,t){return!e||!Ur(t)?!1:(t=t.slice(2).replace(/Once$/,""),Oe(e,t[0].toLowerCase()+t.slice(1))||Oe(e,ys(t))||Oe(e,t))}function ta(e){const{type:t,vnode:s,proxy:n,withProxy:r,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:d,data:f,setupState:h,ctx:m,inheritAttrs:_}=e,w=xr(e);let E,A;try{if(s.shapeFlag&4){const R=r||n,P=R;E=Dt(u.call(P,R,c,d,h,f,m)),A=a}else{const R=t;E=Dt(R.length>1?R(d,{attrs:a,slots:o,emit:l}):R(d,null)),A=t.props?a:Cf(a)}}catch(R){On.length=0,Jn(R,e,1),E=Ae(rt)}let S=E;if(A&&_!==!1){const R=Object.keys(A),{shapeFlag:P}=S;R.length&&P&7&&(i&&R.some(no)&&(A=Pf(A,i)),S=vs(S,A,!1,!0))}return s.dirs&&(S=vs(S,null,!1,!0),S.dirs=S.dirs?S.dirs.concat(s.dirs):s.dirs),s.transition&&js(S,s.transition),E=S,xr(w),E}const Cf=e=>{let t;for(const s in e)(s==="class"||s==="style"||Ur(s))&&((t||(t={}))[s]=e[s]);return t},Pf=(e,t)=>{const s={};for(const n in e)(!no(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function Rf(e,t,s){const{props:n,children:r,component:i}=e,{props:o,children:a,patchFlag:l}=t,u=i.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return n?sa(n,o,u):!!o;if(l&8){const c=t.dynamicProps;for(let d=0;d<c.length;d++){const f=c[d];if(o[f]!==n[f]&&!Hr(u,f))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?sa(n,o,u):!0:!!o;return!1}function sa(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let r=0;r<n.length;r++){const i=n[r];if(t[i]!==e[i]&&!Hr(s,i))return!0}return!1}function Of({vnode:e,parent:t},s){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=s,t=t.parent;else break}}const Nc=e=>e.__isSuspense;function If(e,t){t&&t.pendingBranch?le(e)?t.effects.push(...e):t.effects.push(e):Vd(e)}const Te=Symbol.for("v-fgt"),Wr=Symbol.for("v-txt"),rt=Symbol.for("v-cmt"),yr=Symbol.for("v-stc"),On=[];let ut=null;function C(e=!1){On.push(ut=e?null:[])}function $f(){On.pop(),ut=On[On.length-1]||null}let ln=1;function na(e,t=!1){ln+=e,e<0&&ut&&t&&(ut.hasOnce=!0)}function Uc(e){return e.dynamicChildren=ln>0?ut||nn:null,$f(),ln>0&&ut&&ut.push(e),e}function $(e,t,s,n,r,i){return Uc(b(e,t,s,n,r,i,!0))}function Fe(e,t,s,n,r){return Uc(Ae(e,t,s,n,r,!0))}function qn(e){return e?e.__v_isVNode===!0:!1}function Cs(e,t){return e.type===t.type&&e.key===t.key}const Mc=({key:e})=>e??null,br=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Me(e)||qe(e)||he(e)?{i:et,r:e,k:t,f:!!s}:e:null);function b(e,t=null,s=null,n=0,r=null,i=e===Te?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Mc(t),ref:t&&br(t),scopeId:Fr,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:et};return a?(So(l,s),i&128&&e.normalize(l)):s&&(l.shapeFlag|=Me(s)?8:16),ln>0&&!o&&ut&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&ut.push(l),l}const Ae=Lf;function Lf(e,t=null,s=null,n=0,r=null,i=!1){if((!e||e===yc)&&(e=rt),qn(e)){const a=vs(e,t,!0);return s&&So(a,s),ln>0&&!i&&ut&&(a.shapeFlag&6?ut[ut.indexOf(e)]=a:ut.push(a)),a.patchFlag=-2,a}if(Kf(e)&&(e=e.__vccOpts),t){t=jf(t);let{class:a,style:l}=t;a&&!Me(a)&&(t.class=We(a)),Le(l)&&(po(l)&&!le(l)&&(l=Je({},l)),t.style=Bt(l))}const o=Me(e)?1:Nc(e)?128:lc(e)?64:Le(e)?4:he(e)?2:0;return b(e,t,s,n,r,o,i,!0)}function jf(e){return e?po(e)||Tc(e)?Je({},e):e:null}function vs(e,t,s=!1,n=!1){const{props:r,ref:i,patchFlag:o,children:a,transition:l}=e,u=t?Uf(r||{},t):r,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&Mc(u),ref:t&&t.ref?s&&i?le(i)?i.concat(br(t)):[i,br(t)]:br(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Te?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&vs(e.ssContent),ssFallback:e.ssFallback&&vs(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&n&&js(c,l.clone(c)),c}function $s(e=" ",t=0){return Ae(Wr,null,e,t)}function Nf(e,t){const s=Ae(yr,null,e);return s.staticCount=t,s}function se(e="",t=!1){return t?(C(),Fe(rt,null,e)):Ae(rt,null,e)}function Dt(e){return e==null||typeof e=="boolean"?Ae(rt):le(e)?Ae(Te,null,e.slice()):qn(e)?us(e):Ae(Wr,null,String(e))}function us(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:vs(e)}function So(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(le(t))s=16;else if(typeof t=="object")if(n&65){const r=t.default;r&&(r._c&&(r._d=!1),So(e,r()),r._c&&(r._d=!0));return}else{s=32;const r=t._;!r&&!Tc(t)?t._ctx=et:r===3&&et&&(et.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else he(t)?(t={default:t,_ctx:et},s=32):(t=String(t),n&64?(s=16,t=[$s(t)]):s=8);e.children=t,e.shapeFlag|=s}function Uf(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const r in n)if(r==="class")t.class!==n.class&&(t.class=We([t.class,n.class]));else if(r==="style")t.style=Bt([t.style,n.style]);else if(Ur(r)){const i=t[r],o=n[r];o&&i!==o&&!(le(i)&&i.includes(o))&&(t[r]=i?[].concat(i,o):o)}else r!==""&&(t[r]=n[r])}return t}function jt(e,t,s,n=null){$t(e,t,7,[s,n])}const Mf=kc();let Df=0;function Bf(e,t,s){const n=e.type,r=(t?t.appContext:e.appContext)||Mf,i={uid:Df++,vnode:e,type:n,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new jl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Cc(n,r),emitsOptions:jc(n,r),emit:null,emitted:null,propsDefaults:$e,inheritAttrs:n.inheritAttrs,ctx:$e,data:$e,props:$e,attrs:$e,slots:$e,refs:$e,setupState:$e,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=xf.bind(null,i),e.ce&&e.ce(i),i}let Ze=null;const Kr=()=>Ze||et;let Pr,Li;{const e=Br(),t=(s,n)=>{let r;return(r=e[s])||(r=e[s]=[]),r.push(n),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};Pr=t("__VUE_INSTANCE_SETTERS__",s=>Ze=s),Li=t("__VUE_SSR_SETTERS__",s=>cn=s)}const Qn=e=>{const t=Ze;return Pr(e),e.scope.on(),()=>{e.scope.off(),Pr(t)}},ra=()=>{Ze&&Ze.scope.off(),Pr(null)};function Dc(e){return e.vnode.shapeFlag&4}let cn=!1;function Vf(e,t=!1,s=!1){t&&Li(t);const{props:n,children:r}=e.vnode,i=Dc(e);hf(e,n,i,t),vf(e,r,s||t);const o=i?Ff(e,t):void 0;return t&&Li(!1),o}function Ff(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,nf);const{setup:n}=s;if(n){Zt();const r=e.setupContext=n.length>1?Hf(e):null,i=Qn(e),o=zn(n,e,0,[e.props,r]),a=Cl(o);if(es(),i(),(a||e.sp)&&!an(e)&&_o(e),a){if(o.then(ra,ra),t)return o.then(l=>{ia(e,l)}).catch(l=>{Jn(l,e,0)});e.asyncDep=o}else ia(e,o)}else Bc(e)}function ia(e,t,s){he(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Le(t)&&(e.setupState=sc(t)),Bc(e)}function Bc(e,t,s){const n=e.type;e.render||(e.render=n.render||Vt);{const r=Qn(e);Zt();try{rf(e)}finally{es(),r()}}}const qf={get(e,t){return nt(e,"get",""),e[t]}};function Hf(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,qf),slots:e.slots,emit:e.emit,expose:t}}function Gr(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(sc(go(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in Rn)return Rn[s](e)},has(t,s){return s in t||s in Rn}})):e.proxy}function Wf(e,t=!0){return he(e)?e.displayName||e.name:e.name||t&&e.__name}function Kf(e){return he(e)&&"__vccOpts"in e}const Se=(e,t)=>Nd(e,t,cn);function Eo(e,t,s){const n=arguments.length;return n===2?Le(t)&&!le(t)?qn(t)?Ae(e,null,[t]):Ae(e,t):Ae(e,null,t):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&qn(s)&&(s=[s]),Ae(e,t,s))}function Pw(e,t){const s=e.memo;if(s.length!=t.length)return!1;for(let n=0;n<s.length;n++)if(Yt(s[n],t[n]))return!1;return ln>0&&ut&&ut.push(e),!0}const Gf="3.5.20";/**
* @vue/runtime-dom v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ji;const oa=typeof window<"u"&&window.trustedTypes;if(oa)try{ji=oa.createPolicy("vue",{createHTML:e=>e})}catch{}const Vc=ji?e=>ji.createHTML(e):e=>e,zf="http://www.w3.org/2000/svg",Jf="http://www.w3.org/1998/Math/MathML",Kt=typeof document<"u"?document:null,aa=Kt&&Kt.createElement("template"),Xf={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const r=t==="svg"?Kt.createElementNS(zf,e):t==="mathml"?Kt.createElementNS(Jf,e):s?Kt.createElement(e,{is:s}):Kt.createElement(e);return e==="select"&&n&&n.multiple!=null&&r.setAttribute("multiple",n.multiple),r},createText:e=>Kt.createTextNode(e),createComment:e=>Kt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Kt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,n,r,i){const o=s?s.previousSibling:t.lastChild;if(r&&(r===i||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),s),!(r===i||!(r=r.nextSibling)););else{aa.innerHTML=Vc(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const a=aa.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,s)}return[o?o.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},ns="transition",bn="animation",un=Symbol("_vtc"),Fc={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},qc=Je({},fc,Fc),Qf=e=>(e.displayName="Transition",e.props=qc,e),fs=Qf((e,{slots:t})=>Eo(Hd,Hc(e),t)),ks=(e,t=[])=>{le(e)?e.forEach(s=>s(...t)):e&&e(...t)},la=e=>e?le(e)?e.some(t=>t.length>1):e.length>1:!1;function Hc(e){const t={};for(const V in e)V in Fc||(t[V]=e[V]);if(e.css===!1)return t;const{name:s="v",type:n,duration:r,enterFromClass:i=`${s}-enter-from`,enterActiveClass:o=`${s}-enter-active`,enterToClass:a=`${s}-enter-to`,appearFromClass:l=i,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:d=`${s}-leave-from`,leaveActiveClass:f=`${s}-leave-active`,leaveToClass:h=`${s}-leave-to`}=e,m=Yf(r),_=m&&m[0],w=m&&m[1],{onBeforeEnter:E,onEnter:A,onEnterCancelled:S,onLeave:R,onLeaveCancelled:P,onBeforeAppear:B=E,onAppear:x=A,onAppearCancelled:y=S}=t,v=(V,oe,ce,H)=>{V._enterCancelled=H,os(V,oe?c:a),os(V,oe?u:o),ce&&ce()},D=(V,oe)=>{V._isLeaving=!1,os(V,d),os(V,h),os(V,f),oe&&oe()},z=V=>(oe,ce)=>{const H=V?x:A,Z=()=>v(oe,V,ce);ks(H,[oe,Z]),ca(()=>{os(oe,V?l:i),Nt(oe,V?c:a),la(H)||ua(oe,n,_,Z)})};return Je(t,{onBeforeEnter(V){ks(E,[V]),Nt(V,i),Nt(V,o)},onBeforeAppear(V){ks(B,[V]),Nt(V,l),Nt(V,u)},onEnter:z(!1),onAppear:z(!0),onLeave(V,oe){V._isLeaving=!0;const ce=()=>D(V,oe);Nt(V,d),V._enterCancelled?(Nt(V,f),Ni()):(Ni(),Nt(V,f)),ca(()=>{V._isLeaving&&(os(V,d),Nt(V,h),la(R)||ua(V,n,w,ce))}),ks(R,[V,ce])},onEnterCancelled(V){v(V,!1,void 0,!0),ks(S,[V])},onAppearCancelled(V){v(V,!0,void 0,!0),ks(y,[V])},onLeaveCancelled(V){D(V),ks(P,[V])}})}function Yf(e){if(e==null)return null;if(Le(e))return[ui(e.enter),ui(e.leave)];{const t=ui(e);return[t,t]}}function ui(e){return sd(e)}function Nt(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.add(s)),(e[un]||(e[un]=new Set)).add(t)}function os(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const s=e[un];s&&(s.delete(t),s.size||(e[un]=void 0))}function ca(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Zf=0;function ua(e,t,s,n){const r=e._endId=++Zf,i=()=>{r===e._endId&&n()};if(s!=null)return setTimeout(i,s);const{type:o,timeout:a,propCount:l}=Wc(e,t);if(!o)return n();const u=o+"end";let c=0;const d=()=>{e.removeEventListener(u,f),i()},f=h=>{h.target===e&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},a+1),e.addEventListener(u,f)}function Wc(e,t){const s=window.getComputedStyle(e),n=m=>(s[m]||"").split(", "),r=n(`${ns}Delay`),i=n(`${ns}Duration`),o=da(r,i),a=n(`${bn}Delay`),l=n(`${bn}Duration`),u=da(a,l);let c=null,d=0,f=0;t===ns?o>0&&(c=ns,d=o,f=i.length):t===bn?u>0&&(c=bn,d=u,f=l.length):(d=Math.max(o,u),c=d>0?o>u?ns:bn:null,f=c?c===ns?i.length:l.length:0);const h=c===ns&&/\b(transform|all)(,|$)/.test(n(`${ns}Property`).toString());return{type:c,timeout:d,propCount:f,hasTransform:h}}function da(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((s,n)=>fa(s)+fa(e[n])))}function fa(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Ni(){return document.body.offsetHeight}function eh(e,t,s){const n=e[un];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const Rr=Symbol("_vod"),Kc=Symbol("_vsh"),th={name:"show",beforeMount(e,{value:t},{transition:s}){e[Rr]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):wn(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:n}){!t!=!s&&(n?t?(n.beforeEnter(e),wn(e,!0),n.enter(e)):n.leave(e,()=>{wn(e,!1)}):wn(e,t))},beforeUnmount(e,{value:t}){wn(e,t)}};function wn(e,t){e.style.display=t?e[Rr]:"none",e[Kc]=!t}const sh=Symbol(""),nh=/(^|;)\s*display\s*:/;function rh(e,t,s){const n=e.style,r=Me(s);let i=!1;if(s&&!r){if(t)if(Me(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&wr(n,a,"")}else for(const o in t)s[o]==null&&wr(n,o,"");for(const o in s)o==="display"&&(i=!0),wr(n,o,s[o])}else if(r){if(t!==s){const o=n[sh];o&&(s+=";"+o),n.cssText=s,i=nh.test(s)}}else t&&e.removeAttribute("style");Rr in e&&(e[Rr]=i?n.display:"",e[Kc]&&(n.display="none"))}const ha=/\s*!important$/;function wr(e,t,s){if(le(s))s.forEach(n=>wr(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=ih(e,t);ha.test(s)?e.setProperty(ys(n),s.replace(ha,""),"important"):e[n]=s}}const pa=["Webkit","Moz","ms"],di={};function ih(e,t){const s=di[t];if(s)return s;let n=St(t);if(n!=="filter"&&n in e)return di[t]=n;n=Dr(n);for(let r=0;r<pa.length;r++){const i=pa[r]+n;if(i in e)return di[t]=i}return t}const ga="http://www.w3.org/1999/xlink";function ma(e,t,s,n,r,i=ld(t)){n&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(ga,t.slice(6,t.length)):e.setAttributeNS(ga,t,s):s==null||i&&!Il(s)?e.removeAttribute(t):e.setAttribute(t,i?"":It(s)?String(s):s)}function va(e,t,s,n,r){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?Vc(s):s);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?e.getAttribute("value")||"":e.value,l=s==null?e.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in e))&&(e.value=l),s==null&&e.removeAttribute(t),e._value=s;return}let o=!1;if(s===""||s==null){const a=typeof e[t];a==="boolean"?s=Il(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{e[t]=s}catch{}o&&e.removeAttribute(r||t)}function Qt(e,t,s,n){e.addEventListener(t,s,n)}function oh(e,t,s,n){e.removeEventListener(t,s,n)}const _a=Symbol("_vei");function ah(e,t,s,n,r=null){const i=e[_a]||(e[_a]={}),o=i[t];if(n&&o)o.value=n;else{const[a,l]=lh(t);if(n){const u=i[t]=dh(n,r);Qt(e,a,u,l)}else o&&(oh(e,a,o,l),i[t]=void 0)}}const ya=/(?:Once|Passive|Capture)$/;function lh(e){let t;if(ya.test(e)){t={};let n;for(;n=e.match(ya);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ys(e.slice(2)),t]}let fi=0;const ch=Promise.resolve(),uh=()=>fi||(ch.then(()=>fi=0),fi=Date.now());function dh(e,t){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;$t(fh(n,s.value),t,5,[n])};return s.value=e,s.attached=uh(),s}function fh(e,t){if(le(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>r=>!r._stopped&&n&&n(r))}else return t}const ba=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,hh=(e,t,s,n,r,i)=>{const o=r==="svg";t==="class"?eh(e,n,o):t==="style"?rh(e,s,n):Ur(t)?no(t)||ah(e,t,s,n,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):ph(e,t,n,o))?(va(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&ma(e,t,n,o,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Me(n))?va(e,St(t),n,i,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),ma(e,t,n,o))};function ph(e,t,s,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&ba(t)&&he(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return ba(t)&&Me(s)?!1:t in e}const Gc=new WeakMap,zc=new WeakMap,Or=Symbol("_moveCb"),wa=Symbol("_enterCb"),gh=e=>(delete e.props.mode,e),mh=gh({name:"TransitionGroup",props:Je({},qc,{tag:String,moveClass:String}),setup(e,{slots:t}){const s=Kr(),n=dc();let r,i;return vc(()=>{if(!r.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!bh(r[0].el,s.vnode.el,o)){r=[];return}r.forEach(vh),r.forEach(_h);const a=r.filter(yh);Ni(),a.forEach(l=>{const u=l.el,c=u.style;Nt(u,o),c.transform=c.webkitTransform=c.transitionDuration="";const d=u[Or]=f=>{f&&f.target!==u||(!f||/transform$/.test(f.propertyName))&&(u.removeEventListener("transitionend",d),u[Or]=null,os(u,o))};u.addEventListener("transitionend",d)}),r=[]}),()=>{const o=Ee(e),a=Hc(o);let l=o.tag||Te;if(r=[],i)for(let u=0;u<i.length;u++){const c=i[u];c.el&&c.el instanceof Element&&(r.push(c),js(c,Fn(c,a,n,s)),Gc.set(c,c.el.getBoundingClientRect()))}i=t.default?vo(t.default()):[];for(let u=0;u<i.length;u++){const c=i[u];c.key!=null&&js(c,Fn(c,a,n,s))}return Ae(l,null,i)}}}),Rw=mh;function vh(e){const t=e.el;t[Or]&&t[Or](),t[wa]&&t[wa]()}function _h(e){zc.set(e,e.el.getBoundingClientRect())}function yh(e){const t=Gc.get(e),s=zc.get(e),n=t.left-s.left,r=t.top-s.top;if(n||r){const i=e.el.style;return i.transform=i.webkitTransform=`translate(${n}px,${r}px)`,i.transitionDuration="0s",e}}function bh(e,t,s){const n=e.cloneNode(),r=e[un];r&&r.forEach(a=>{a.split(/\s+/).forEach(l=>l&&n.classList.remove(l))}),s.split(/\s+/).forEach(a=>a&&n.classList.add(a)),n.style.display="none";const i=t.nodeType===1?t:t.parentNode;i.appendChild(n);const{hasTransform:o}=Wc(n);return i.removeChild(n),o}const _s=e=>{const t=e.props["onUpdate:modelValue"]||!1;return le(t)?s=>mr(t,s):t};function wh(e){e.target.composing=!0}function Aa(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const kt=Symbol("_assign"),Rs={created(e,{modifiers:{lazy:t,trim:s,number:n}},r){e[kt]=_s(r);const i=n||r.props&&r.props.type==="number";Qt(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;s&&(a=a.trim()),i&&(a=Ar(a)),e[kt](a)}),s&&Qt(e,"change",()=>{e.value=e.value.trim()}),t||(Qt(e,"compositionstart",wh),Qt(e,"compositionend",Aa),Qt(e,"change",Aa))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:n,trim:r,number:i}},o){if(e[kt]=_s(o),e.composing)return;const a=(i||e.type==="number")&&!/^0\d/.test(e.value)?Ar(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(n&&t===s||r&&e.value.trim()===l)||(e.value=l))}},Ah={deep:!0,created(e,t,s){e[kt]=_s(s),Qt(e,"change",()=>{const n=e._modelValue,r=dn(e),i=e.checked,o=e[kt];if(le(n)){const a=oo(n,r),l=a!==-1;if(i&&!l)o(n.concat(r));else if(!i&&l){const u=[...n];u.splice(a,1),o(u)}}else if(mn(n)){const a=new Set(n);i?a.add(r):a.delete(r),o(a)}else o(Jc(e,i))})},mounted:ka,beforeUpdate(e,t,s){e[kt]=_s(s),ka(e,t,s)}};function ka(e,{value:t,oldValue:s},n){e._modelValue=t;let r;if(le(t))r=oo(t,n.props.value)>-1;else if(mn(t))r=t.has(n.props.value);else{if(t===s)return;r=Ls(t,Jc(e,!0))}e.checked!==r&&(e.checked=r)}const kh={created(e,{value:t},s){e.checked=Ls(t,s.props.value),e[kt]=_s(s),Qt(e,"change",()=>{e[kt](dn(e))})},beforeUpdate(e,{value:t,oldValue:s},n){e[kt]=_s(n),t!==s&&(e.checked=Ls(t,n.props.value))}},Sh={deep:!0,created(e,{value:t,modifiers:{number:s}},n){const r=mn(t);Qt(e,"change",()=>{const i=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>s?Ar(dn(o)):dn(o));e[kt](e.multiple?r?new Set(i):i:i[0]),e._assigning=!0,ts(()=>{e._assigning=!1})}),e[kt]=_s(n)},mounted(e,{value:t}){Sa(e,t)},beforeUpdate(e,t,s){e[kt]=_s(s)},updated(e,{value:t}){e._assigning||Sa(e,t)}};function Sa(e,t){const s=e.multiple,n=le(t);if(!(s&&!n&&!mn(t))){for(let r=0,i=e.options.length;r<i;r++){const o=e.options[r],a=dn(o);if(s)if(n){const l=typeof a;l==="string"||l==="number"?o.selected=t.some(u=>String(u)===String(a)):o.selected=oo(t,a)>-1}else o.selected=t.has(a);else if(Ls(dn(o),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function dn(e){return"_value"in e?e._value:e.value}function Jc(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const Ow={created(e,t,s){ir(e,t,s,null,"created")},mounted(e,t,s){ir(e,t,s,null,"mounted")},beforeUpdate(e,t,s,n){ir(e,t,s,n,"beforeUpdate")},updated(e,t,s,n){ir(e,t,s,n,"updated")}};function Eh(e,t){switch(e){case"SELECT":return Sh;case"TEXTAREA":return Rs;default:switch(t){case"checkbox":return Ah;case"radio":return kh;default:return Rs}}}function ir(e,t,s,n,r){const o=Eh(e.tagName,s.props&&s.props.type)[r];o&&o(e,t,s,n)}const Th=["ctrl","shift","alt","meta"],xh={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Th.some(s=>e[`${s}Key`]&&!t.includes(s))},gt=(e,t)=>{const s=e._withMods||(e._withMods={}),n=t.join(".");return s[n]||(s[n]=((r,...i)=>{for(let o=0;o<t.length;o++){const a=xh[t[o]];if(a&&a(r,t))return}return e(r,...i)}))},Ch={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ea=(e,t)=>{const s=e._withKeys||(e._withKeys={}),n=t.join(".");return s[n]||(s[n]=(r=>{if(!("key"in r))return;const i=ys(r.key);if(t.some(o=>o===i||Ch[o]===i))return e(r)}))},Ph=Je({patchProp:hh},Xf);let Ta;function Rh(){return Ta||(Ta=yf(Ph))}const Oh=((...e)=>{const t=Rh().createApp(...e),{mount:s}=t;return t.mount=n=>{const r=$h(n);if(!r)return;const i=t._component;!he(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=s(r,!1,Ih(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t});function Ih(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function $h(e){return Me(e)?document.querySelector(e):e}/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Xc;const zr=e=>Xc=e,Qc=Symbol();function Ui(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var In;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(In||(In={}));function Lh(){const e=Nl(!0),t=e.run(()=>F({}));let s=[],n=[];const r=go({install(i){zr(r),r._a=i,i.provide(Qc,r),i.config.globalProperties.$pinia=r,n.forEach(o=>s.push(o)),n=[]},use(i){return this._a?s.push(i):n.push(i),this},_p:s,_a:null,_e:e,_s:new Map,state:t});return r}const Yc=()=>{};function xa(e,t,s,n=Yc){e.push(t);const r=()=>{const i=e.indexOf(t);i>-1&&(e.splice(i,1),n())};return!s&&Ul()&&Ml(r),r}function Bs(e,...t){e.slice().forEach(s=>{s(...t)})}const jh=e=>e(),Ca=Symbol(),hi=Symbol();function Mi(e,t){e instanceof Map&&t instanceof Map?t.forEach((s,n)=>e.set(n,s)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const s in t){if(!t.hasOwnProperty(s))continue;const n=t[s],r=e[s];Ui(r)&&Ui(n)&&e.hasOwnProperty(s)&&!qe(n)&&!ps(n)?e[s]=Mi(r,n):e[s]=n}return e}const Nh=Symbol();function Uh(e){return!Ui(e)||!Object.prototype.hasOwnProperty.call(e,Nh)}const{assign:as}=Object;function Mh(e){return!!(qe(e)&&e.effect)}function Dh(e,t,s,n){const{state:r,actions:i,getters:o}=t,a=s.state.value[e];let l;function u(){a||(s.state.value[e]=r?r():{});const c=Id(s.state.value[e]);return as(c,i,Object.keys(o||{}).reduce((d,f)=>(d[f]=go(Se(()=>{zr(s);const h=s._s.get(e);return o[f].call(h,h)})),d),{}))}return l=Zc(e,u,t,s,n,!0),l}function Zc(e,t,s={},n,r,i){let o;const a=as({actions:{}},s),l={deep:!0};let u,c,d=[],f=[],h;const m=n.state.value[e];!i&&!m&&(n.state.value[e]={}),F({});let _;function w(y){let v;u=c=!1,typeof y=="function"?(y(n.state.value[e]),v={type:In.patchFunction,storeId:e,events:h}):(Mi(n.state.value[e],y),v={type:In.patchObject,payload:y,storeId:e,events:h});const D=_=Symbol();ts().then(()=>{_===D&&(u=!0)}),c=!0,Bs(d,v,n.state.value[e])}const E=i?function(){const{state:v}=s,D=v?v():{};this.$patch(z=>{as(z,D)})}:Yc;function A(){o.stop(),d=[],f=[],n._s.delete(e)}const S=(y,v="")=>{if(Ca in y)return y[hi]=v,y;const D=function(){zr(n);const z=Array.from(arguments),V=[],oe=[];function ce(te){V.push(te)}function H(te){oe.push(te)}Bs(f,{args:z,name:D[hi],store:P,after:ce,onError:H});let Z;try{Z=y.apply(this&&this.$id===e?this:P,z)}catch(te){throw Bs(oe,te),te}return Z instanceof Promise?Z.then(te=>(Bs(V,te),te)).catch(te=>(Bs(oe,te),Promise.reject(te))):(Bs(V,Z),Z)};return D[Ca]=!0,D[hi]=v,D},R={_p:n,$id:e,$onAction:xa.bind(null,f),$patch:w,$reset:E,$subscribe(y,v={}){const D=xa(d,y,v.detached,()=>z()),z=o.run(()=>ht(()=>n.state.value[e],V=>{(v.flush==="sync"?c:u)&&y({storeId:e,type:In.direct,events:h},V)},as({},l,v)));return D},$dispose:A},P=Pt(R);n._s.set(e,P);const x=(n._a&&n._a.runWithContext||jh)(()=>n._e.run(()=>(o=Nl()).run(()=>t({action:S}))));for(const y in x){const v=x[y];if(qe(v)&&!Mh(v)||ps(v))i||(m&&Uh(v)&&(qe(v)?v.value=m[y]:Mi(v,m[y])),n.state.value[e][y]=v);else if(typeof v=="function"){const D=S(v,y);x[y]=D,a.actions[y]=v}}return as(P,x),as(Ee(P),x),Object.defineProperty(P,"$state",{get:()=>n.state.value[e],set:y=>{w(v=>{as(v,y)})}}),n._p.forEach(y=>{as(P,o.run(()=>y({store:P,app:n._a,pinia:n,options:a})))}),m&&i&&s.hydrate&&s.hydrate(P.$state,m),u=!0,c=!0,P}/*! #__NO_SIDE_EFFECTS__ */function eu(e,t,s){let n;const r=typeof t=="function";n=r?s:t;function i(o,a){const l=ff();return o=o||(l?At(Qc,null):null),o&&zr(o),o=Xc,o._s.has(e)||(r?Zc(e,t,n,o):Dh(e,n,o)),o._s.get(e)}return i.$id=e,i}const Bh="modulepreload",Vh=function(e){return"/TaiyakiEduGames/"+e},Pa={},ke=function(t,s,n){let r=Promise.resolve();if(s&&s.length>0){let l=function(u){return Promise.all(u.map(c=>Promise.resolve(c).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");r=l(s.map(u=>{if(u=Vh(u),u in Pa)return;Pa[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":Bh,c||(f.as="script"),f.crossOrigin="",f.href=u,a&&f.setAttribute("nonce",a),document.head.appendChild(f),c)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})};/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Ys=typeof document<"u";function tu(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Fh(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&tu(e.default)}const Re=Object.assign;function pi(e,t){const s={};for(const n in t){const r=t[n];s[n]=Lt(r)?r.map(e):e(r)}return s}const $n=()=>{},Lt=Array.isArray,su=/#/g,qh=/&/g,Hh=/\//g,Wh=/=/g,Kh=/\?/g,nu=/\+/g,Gh=/%5B/g,zh=/%5D/g,ru=/%5E/g,Jh=/%60/g,iu=/%7B/g,Xh=/%7C/g,ou=/%7D/g,Qh=/%20/g;function To(e){return encodeURI(""+e).replace(Xh,"|").replace(Gh,"[").replace(zh,"]")}function Yh(e){return To(e).replace(iu,"{").replace(ou,"}").replace(ru,"^")}function Di(e){return To(e).replace(nu,"%2B").replace(Qh,"+").replace(su,"%23").replace(qh,"%26").replace(Jh,"`").replace(iu,"{").replace(ou,"}").replace(ru,"^")}function Zh(e){return Di(e).replace(Wh,"%3D")}function ep(e){return To(e).replace(su,"%23").replace(Kh,"%3F")}function tp(e){return e==null?"":ep(e).replace(Hh,"%2F")}function Hn(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const sp=/\/$/,np=e=>e.replace(sp,"");function gi(e,t,s="/"){let n,r={},i="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(n=t.slice(0,l),i=t.slice(l+1,a>-1?a:t.length),r=e(i)),a>-1&&(n=n||t.slice(0,a),o=t.slice(a,t.length)),n=ap(n??t,s),{fullPath:n+(i&&"?")+i+o,path:n,query:r,hash:Hn(o)}}function rp(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function Ra(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function ip(e,t,s){const n=t.matched.length-1,r=s.matched.length-1;return n>-1&&n===r&&fn(t.matched[n],s.matched[r])&&au(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function fn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function au(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(!op(e[s],t[s]))return!1;return!0}function op(e,t){return Lt(e)?Oa(e,t):Lt(t)?Oa(t,e):e===t}function Oa(e,t){return Lt(t)?e.length===t.length&&e.every((s,n)=>s===t[n]):e.length===1&&e[0]===t}function ap(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),n=e.split("/"),r=n[n.length-1];(r===".."||r===".")&&n.push("");let i=s.length-1,o,a;for(o=0;o<n.length;o++)if(a=n[o],a!==".")if(a==="..")i>1&&i--;else break;return s.slice(0,i).join("/")+"/"+n.slice(o).join("/")}const rs={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Wn;(function(e){e.pop="pop",e.push="push"})(Wn||(Wn={}));var Ln;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Ln||(Ln={}));function lp(e){if(!e)if(Ys){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),np(e)}const cp=/^[^#]+#/;function up(e,t){return e.replace(cp,"#")+t}function dp(e,t){const s=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-s.left-(t.left||0),top:n.top-s.top-(t.top||0)}}const Jr=()=>({left:window.scrollX,top:window.scrollY});function fp(e){let t;if("el"in e){const s=e.el,n=typeof s=="string"&&s.startsWith("#"),r=typeof s=="string"?n?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!r)return;t=dp(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Ia(e,t){return(history.state?history.state.position-t:-1)+e}const Bi=new Map;function hp(e,t){Bi.set(e,t)}function pp(e){const t=Bi.get(e);return Bi.delete(e),t}let gp=()=>location.protocol+"//"+location.host;function lu(e,t){const{pathname:s,search:n,hash:r}=t,i=e.indexOf("#");if(i>-1){let a=r.includes(e.slice(i))?e.slice(i).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),Ra(l,"")}return Ra(s,e)+n+r}function mp(e,t,s,n){let r=[],i=[],o=null;const a=({state:f})=>{const h=lu(e,location),m=s.value,_=t.value;let w=0;if(f){if(s.value=h,t.value=f,o&&o===m){o=null;return}w=_?f.position-_.position:0}else n(h);r.forEach(E=>{E(s.value,m,{delta:w,type:Wn.pop,direction:w?w>0?Ln.forward:Ln.back:Ln.unknown})})};function l(){o=s.value}function u(f){r.push(f);const h=()=>{const m=r.indexOf(f);m>-1&&r.splice(m,1)};return i.push(h),h}function c(){const{history:f}=window;f.state&&f.replaceState(Re({},f.state,{scroll:Jr()}),"")}function d(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:d}}function $a(e,t,s,n=!1,r=!1){return{back:e,current:t,forward:s,replaced:n,position:window.history.length,scroll:r?Jr():null}}function vp(e){const{history:t,location:s}=window,n={value:lu(e,s)},r={value:t.state};r.value||i(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(l,u,c){const d=e.indexOf("#"),f=d>-1?(s.host&&document.querySelector("base")?e:e.slice(d))+l:gp()+e+l;try{t[c?"replaceState":"pushState"](u,"",f),r.value=u}catch(h){console.error(h),s[c?"replace":"assign"](f)}}function o(l,u){const c=Re({},t.state,$a(r.value.back,l,r.value.forward,!0),u,{position:r.value.position});i(l,c,!0),n.value=l}function a(l,u){const c=Re({},r.value,t.state,{forward:l,scroll:Jr()});i(c.current,c,!0);const d=Re({},$a(n.value,l,null),{position:c.position+1},u);i(l,d,!1),n.value=l}return{location:n,state:r,push:a,replace:o}}function _p(e){e=lp(e);const t=vp(e),s=mp(e,t.state,t.location,t.replace);function n(i,o=!0){o||s.pauseListeners(),history.go(i)}const r=Re({location:"",base:e,go:n,createHref:up.bind(null,e)},t,s);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function yp(e){return typeof e=="string"||e&&typeof e=="object"}function cu(e){return typeof e=="string"||typeof e=="symbol"}const uu=Symbol("");var La;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(La||(La={}));function hn(e,t){return Re(new Error,{type:e,[uu]:!0},t)}function Ht(e,t){return e instanceof Error&&uu in e&&(t==null||!!(e.type&t))}const ja="[^/]+?",bp={sensitive:!1,strict:!1,start:!0,end:!0},wp=/[.+*?^${}()[\]/\\]/g;function Ap(e,t){const s=Re({},bp,t),n=[];let r=s.start?"^":"";const i=[];for(const u of e){const c=u.length?[]:[90];s.strict&&!u.length&&(r+="/");for(let d=0;d<u.length;d++){const f=u[d];let h=40+(s.sensitive?.25:0);if(f.type===0)d||(r+="/"),r+=f.value.replace(wp,"\\$&"),h+=40;else if(f.type===1){const{value:m,repeatable:_,optional:w,regexp:E}=f;i.push({name:m,repeatable:_,optional:w});const A=E||ja;if(A!==ja){h+=10;try{new RegExp(`(${A})`)}catch(R){throw new Error(`Invalid custom RegExp for param "${m}" (${A}): `+R.message)}}let S=_?`((?:${A})(?:/(?:${A}))*)`:`(${A})`;d||(S=w&&u.length<2?`(?:/${S})`:"/"+S),w&&(S+="?"),r+=S,h+=20,w&&(h+=-8),_&&(h+=-20),A===".*"&&(h+=-50)}c.push(h)}n.push(c)}if(s.strict&&s.end){const u=n.length-1;n[u][n[u].length-1]+=.7000000000000001}s.strict||(r+="/?"),s.end?r+="$":s.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const o=new RegExp(r,s.sensitive?"":"i");function a(u){const c=u.match(o),d={};if(!c)return null;for(let f=1;f<c.length;f++){const h=c[f]||"",m=i[f-1];d[m.name]=h&&m.repeatable?h.split("/"):h}return d}function l(u){let c="",d=!1;for(const f of e){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const h of f)if(h.type===0)c+=h.value;else if(h.type===1){const{value:m,repeatable:_,optional:w}=h,E=m in u?u[m]:"";if(Lt(E)&&!_)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const A=Lt(E)?E.join("/"):E;if(!A)if(w)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${m}"`);c+=A}}return c||"/"}return{re:o,score:n,keys:i,parse:a,stringify:l}}function kp(e,t){let s=0;for(;s<e.length&&s<t.length;){const n=t[s]-e[s];if(n)return n;s++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function du(e,t){let s=0;const n=e.score,r=t.score;for(;s<n.length&&s<r.length;){const i=kp(n[s],r[s]);if(i)return i;s++}if(Math.abs(r.length-n.length)===1){if(Na(n))return 1;if(Na(r))return-1}return r.length-n.length}function Na(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Sp={type:0,value:""},Ep=/[a-zA-Z0-9_]/;function Tp(e){if(!e)return[[]];if(e==="/")return[[Sp]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(h){throw new Error(`ERR (${s})/"${u}": ${h}`)}let s=0,n=s;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,l,u="",c="";function d(){u&&(s===0?i.push({type:0,value:u}):s===1||s===2||s===3?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&s!==2){n=s,s=4;continue}switch(s){case 0:l==="/"?(u&&d(),o()):l===":"?(d(),s=1):f();break;case 4:f(),s=n;break;case 1:l==="("?s=2:Ep.test(l)?f():(d(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:s=3:c+=l;break;case 3:d(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:t("Unknown state");break}}return s===2&&t(`Unfinished custom RegExp for param "${u}"`),d(),o(),r}function xp(e,t,s){const n=Ap(Tp(e.path),s),r=Re(n,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function Cp(e,t){const s=[],n=new Map;t=Ba({strict:!1,end:!0,sensitive:!1},t);function r(d){return n.get(d)}function i(d,f,h){const m=!h,_=Ma(d);_.aliasOf=h&&h.record;const w=Ba(t,d),E=[_];if("alias"in d){const R=typeof d.alias=="string"?[d.alias]:d.alias;for(const P of R)E.push(Ma(Re({},_,{components:h?h.record.components:_.components,path:P,aliasOf:h?h.record:_})))}let A,S;for(const R of E){const{path:P}=R;if(f&&P[0]!=="/"){const B=f.record.path,x=B[B.length-1]==="/"?"":"/";R.path=f.record.path+(P&&x+P)}if(A=xp(R,f,w),h?h.alias.push(A):(S=S||A,S!==A&&S.alias.push(A),m&&d.name&&!Da(A)&&o(d.name)),fu(A)&&l(A),_.children){const B=_.children;for(let x=0;x<B.length;x++)i(B[x],A,h&&h.children[x])}h=h||A}return S?()=>{o(S)}:$n}function o(d){if(cu(d)){const f=n.get(d);f&&(n.delete(d),s.splice(s.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=s.indexOf(d);f>-1&&(s.splice(f,1),d.record.name&&n.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return s}function l(d){const f=Op(d,s);s.splice(f,0,d),d.record.name&&!Da(d)&&n.set(d.record.name,d)}function u(d,f){let h,m={},_,w;if("name"in d&&d.name){if(h=n.get(d.name),!h)throw hn(1,{location:d});w=h.record.name,m=Re(Ua(f.params,h.keys.filter(S=>!S.optional).concat(h.parent?h.parent.keys.filter(S=>S.optional):[]).map(S=>S.name)),d.params&&Ua(d.params,h.keys.map(S=>S.name))),_=h.stringify(m)}else if(d.path!=null)_=d.path,h=s.find(S=>S.re.test(_)),h&&(m=h.parse(_),w=h.record.name);else{if(h=f.name?n.get(f.name):s.find(S=>S.re.test(f.path)),!h)throw hn(1,{location:d,currentLocation:f});w=h.record.name,m=Re({},f.params,d.params),_=h.stringify(m)}const E=[];let A=h;for(;A;)E.unshift(A.record),A=A.parent;return{name:w,path:_,params:m,matched:E,meta:Rp(E)}}e.forEach(d=>i(d));function c(){s.length=0,n.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:r}}function Ua(e,t){const s={};for(const n of t)n in e&&(s[n]=e[n]);return s}function Ma(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Pp(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Pp(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const n in e.components)t[n]=typeof s=="object"?s[n]:s;return t}function Da(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Rp(e){return e.reduce((t,s)=>Re(t,s.meta),{})}function Ba(e,t){const s={};for(const n in e)s[n]=n in t?t[n]:e[n];return s}function Op(e,t){let s=0,n=t.length;for(;s!==n;){const i=s+n>>1;du(e,t[i])<0?n=i:s=i+1}const r=Ip(e);return r&&(n=t.lastIndexOf(r,n-1)),n}function Ip(e){let t=e;for(;t=t.parent;)if(fu(t)&&du(e,t)===0)return t}function fu({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function $p(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<n.length;++r){const i=n[r].replace(nu," "),o=i.indexOf("="),a=Hn(o<0?i:i.slice(0,o)),l=o<0?null:Hn(i.slice(o+1));if(a in t){let u=t[a];Lt(u)||(u=t[a]=[u]),u.push(l)}else t[a]=l}return t}function Va(e){let t="";for(let s in e){const n=e[s];if(s=Zh(s),n==null){n!==void 0&&(t+=(t.length?"&":"")+s);continue}(Lt(n)?n.map(i=>i&&Di(i)):[n&&Di(n)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+s,i!=null&&(t+="="+i))})}return t}function Lp(e){const t={};for(const s in e){const n=e[s];n!==void 0&&(t[s]=Lt(n)?n.map(r=>r==null?null:""+r):n==null?n:""+n)}return t}const jp=Symbol(""),Fa=Symbol(""),Xr=Symbol(""),xo=Symbol(""),Vi=Symbol("");function An(){let e=[];function t(n){return e.push(n),()=>{const r=e.indexOf(n);r>-1&&e.splice(r,1)}}function s(){e=[]}return{add:t,list:()=>e.slice(),reset:s}}function ds(e,t,s,n,r,i=o=>o()){const o=n&&(n.enterCallbacks[r]=n.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const u=f=>{f===!1?l(hn(4,{from:s,to:t})):f instanceof Error?l(f):yp(f)?l(hn(2,{from:t,to:f})):(o&&n.enterCallbacks[r]===o&&typeof f=="function"&&o.push(f),a())},c=i(()=>e.call(n&&n.instances[r],t,s,u));let d=Promise.resolve(c);e.length<3&&(d=d.then(u)),d.catch(f=>l(f))})}function mi(e,t,s,n,r=i=>i()){const i=[];for(const o of e)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(tu(l)){const c=(l.__vccOpts||l)[t];c&&i.push(ds(c,s,n,o,a,r))}else{let u=l();i.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=Fh(c)?c.default:c;o.mods[a]=c,o.components[a]=d;const h=(d.__vccOpts||d)[t];return h&&ds(h,s,n,o,a,r)()}))}}return i}function qa(e){const t=At(Xr),s=At(xo),n=Se(()=>{const l=ze(e.to);return t.resolve(l)}),r=Se(()=>{const{matched:l}=n.value,{length:u}=l,c=l[u-1],d=s.matched;if(!c||!d.length)return-1;const f=d.findIndex(fn.bind(null,c));if(f>-1)return f;const h=Ha(l[u-2]);return u>1&&Ha(c)===h&&d[d.length-1].path!==h?d.findIndex(fn.bind(null,l[u-2])):f}),i=Se(()=>r.value>-1&&Dp(s.params,n.value.params)),o=Se(()=>r.value>-1&&r.value===s.matched.length-1&&au(s.params,n.value.params));function a(l={}){if(Mp(l)){const u=t[ze(e.replace)?"replace":"push"](ze(e.to)).catch($n);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:n,href:Se(()=>n.value.href),isActive:i,isExactActive:o,navigate:a}}function Np(e){return e.length===1?e[0]:e}const Up=it({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:qa,setup(e,{slots:t}){const s=Pt(qa(e)),{options:n}=At(Xr),r=Se(()=>({[Wa(e.activeClass,n.linkActiveClass,"router-link-active")]:s.isActive,[Wa(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const i=t.default&&Np(t.default(s));return e.custom?i:Eo("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:r.value},i)}}}),Ir=Up;function Mp(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Dp(e,t){for(const s in t){const n=t[s],r=e[s];if(typeof n=="string"){if(n!==r)return!1}else if(!Lt(r)||r.length!==n.length||n.some((i,o)=>i!==r[o]))return!1}return!0}function Ha(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Wa=(e,t,s)=>e??t??s,Bp=it({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const n=At(Vi),r=Se(()=>e.route||n.value),i=At(Fa,0),o=Se(()=>{let u=ze(i);const{matched:c}=r.value;let d;for(;(d=c[u])&&!d.components;)u++;return u}),a=Se(()=>r.value.matched[o.value]);_r(Fa,Se(()=>o.value+1)),_r(jp,a),_r(Vi,r);const l=F();return ht(()=>[l.value,a.value,e.name],([u,c,d],[f,h,m])=>{c&&(c.instances[d]=u,h&&h!==c&&u&&u===f&&(c.leaveGuards.size||(c.leaveGuards=h.leaveGuards),c.updateGuards.size||(c.updateGuards=h.updateGuards))),u&&c&&(!h||!fn(c,h)||!f)&&(c.enterCallbacks[d]||[]).forEach(_=>_(u))},{flush:"post"}),()=>{const u=r.value,c=e.name,d=a.value,f=d&&d.components[c];if(!f)return Ka(s.default,{Component:f,route:u});const h=d.props[c],m=h?h===!0?u.params:typeof h=="function"?h(u):h:null,w=Eo(f,Re({},m,t,{onVnodeUnmounted:E=>{E.component.isUnmounted&&(d.instances[c]=null)},ref:l}));return Ka(s.default,{Component:w,route:u})||w}}});function Ka(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const Vp=Bp;function Fp(e){const t=Cp(e.routes,e),s=e.parseQuery||$p,n=e.stringifyQuery||Va,r=e.history,i=An(),o=An(),a=An(),l=Pd(rs);let u=rs;Ys&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=pi.bind(null,L=>""+L),d=pi.bind(null,tp),f=pi.bind(null,Hn);function h(L,X){let W,re;return cu(L)?(W=t.getRecordMatcher(L),re=X):re=L,t.addRoute(re,W)}function m(L){const X=t.getRecordMatcher(L);X&&t.removeRoute(X)}function _(){return t.getRoutes().map(L=>L.record)}function w(L){return!!t.getRecordMatcher(L)}function E(L,X){if(X=Re({},X||l.value),typeof L=="string"){const k=gi(s,L,X.path),N=t.resolve({path:k.path},X),M=r.createHref(k.fullPath);return Re(k,N,{params:f(N.params),hash:Hn(k.hash),redirectedFrom:void 0,href:M})}let W;if(L.path!=null)W=Re({},L,{path:gi(s,L.path,X.path).path});else{const k=Re({},L.params);for(const N in k)k[N]==null&&delete k[N];W=Re({},L,{params:d(k)}),X.params=d(X.params)}const re=t.resolve(W,X),_e=L.hash||"";re.params=c(f(re.params));const p=rp(n,Re({},L,{hash:Yh(_e),path:re.path})),g=r.createHref(p);return Re({fullPath:p,hash:_e,query:n===Va?Lp(L.query):L.query||{}},re,{redirectedFrom:void 0,href:g})}function A(L){return typeof L=="string"?gi(s,L,l.value.path):Re({},L)}function S(L,X){if(u!==L)return hn(8,{from:X,to:L})}function R(L){return x(L)}function P(L){return R(Re(A(L),{replace:!0}))}function B(L){const X=L.matched[L.matched.length-1];if(X&&X.redirect){const{redirect:W}=X;let re=typeof W=="function"?W(L):W;return typeof re=="string"&&(re=re.includes("?")||re.includes("#")?re=A(re):{path:re},re.params={}),Re({query:L.query,hash:L.hash,params:re.path!=null?{}:L.params},re)}}function x(L,X){const W=u=E(L),re=l.value,_e=L.state,p=L.force,g=L.replace===!0,k=B(W);if(k)return x(Re(A(k),{state:typeof k=="object"?Re({},_e,k.state):_e,force:p,replace:g}),X||W);const N=W;N.redirectedFrom=X;let M;return!p&&ip(n,re,W)&&(M=hn(16,{to:N,from:re}),ne(re,re,!0,!1)),(M?Promise.resolve(M):D(N,re)).catch(j=>Ht(j)?Ht(j,2)?j:He(j):ve(j,N,re)).then(j=>{if(j){if(Ht(j,2))return x(Re({replace:g},A(j.to),{state:typeof j.to=="object"?Re({},_e,j.to.state):_e,force:p}),X||N)}else j=V(N,re,!0,g,_e);return z(N,re,j),j})}function y(L,X){const W=S(L,X);return W?Promise.reject(W):Promise.resolve()}function v(L){const X=Ue.values().next().value;return X&&typeof X.runWithContext=="function"?X.runWithContext(L):L()}function D(L,X){let W;const[re,_e,p]=qp(L,X);W=mi(re.reverse(),"beforeRouteLeave",L,X);for(const k of re)k.leaveGuards.forEach(N=>{W.push(ds(N,L,X))});const g=y.bind(null,L,X);return W.push(g),Ve(W).then(()=>{W=[];for(const k of i.list())W.push(ds(k,L,X));return W.push(g),Ve(W)}).then(()=>{W=mi(_e,"beforeRouteUpdate",L,X);for(const k of _e)k.updateGuards.forEach(N=>{W.push(ds(N,L,X))});return W.push(g),Ve(W)}).then(()=>{W=[];for(const k of p)if(k.beforeEnter)if(Lt(k.beforeEnter))for(const N of k.beforeEnter)W.push(ds(N,L,X));else W.push(ds(k.beforeEnter,L,X));return W.push(g),Ve(W)}).then(()=>(L.matched.forEach(k=>k.enterCallbacks={}),W=mi(p,"beforeRouteEnter",L,X,v),W.push(g),Ve(W))).then(()=>{W=[];for(const k of o.list())W.push(ds(k,L,X));return W.push(g),Ve(W)}).catch(k=>Ht(k,8)?k:Promise.reject(k))}function z(L,X,W){a.list().forEach(re=>v(()=>re(L,X,W)))}function V(L,X,W,re,_e){const p=S(L,X);if(p)return p;const g=X===rs,k=Ys?history.state:{};W&&(re||g?r.replace(L.fullPath,Re({scroll:g&&k&&k.scroll},_e)):r.push(L.fullPath,_e)),l.value=L,ne(L,X,W,g),He()}let oe;function ce(){oe||(oe=r.listen((L,X,W)=>{if(!Qe.listening)return;const re=E(L),_e=B(re);if(_e){x(Re(_e,{replace:!0,force:!0}),re).catch($n);return}u=re;const p=l.value;Ys&&hp(Ia(p.fullPath,W.delta),Jr()),D(re,p).catch(g=>Ht(g,12)?g:Ht(g,2)?(x(Re(A(g.to),{force:!0}),re).then(k=>{Ht(k,20)&&!W.delta&&W.type===Wn.pop&&r.go(-1,!1)}).catch($n),Promise.reject()):(W.delta&&r.go(-W.delta,!1),ve(g,re,p))).then(g=>{g=g||V(re,p,!1),g&&(W.delta&&!Ht(g,8)?r.go(-W.delta,!1):W.type===Wn.pop&&Ht(g,20)&&r.go(-1,!1)),z(re,p,g)}).catch($n)}))}let H=An(),Z=An(),te;function ve(L,X,W){He(L);const re=Z.list();return re.length?re.forEach(_e=>_e(L,X,W)):console.error(L),Promise.reject(L)}function De(){return te&&l.value!==rs?Promise.resolve():new Promise((L,X)=>{H.add([L,X])})}function He(L){return te||(te=!L,ce(),H.list().forEach(([X,W])=>L?W(L):X()),H.reset()),L}function ne(L,X,W,re){const{scrollBehavior:_e}=e;if(!Ys||!_e)return Promise.resolve();const p=!W&&pp(Ia(L.fullPath,0))||(re||!W)&&history.state&&history.state.scroll||null;return ts().then(()=>_e(L,X,p)).then(g=>g&&fp(g)).catch(g=>ve(g,L,X))}const ee=L=>r.go(L);let ue;const Ue=new Set,Qe={currentRoute:l,listening:!0,addRoute:h,removeRoute:m,clearRoutes:t.clearRoutes,hasRoute:w,getRoutes:_,resolve:E,options:e,push:R,replace:P,go:ee,back:()=>ee(-1),forward:()=>ee(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:Z.add,isReady:De,install(L){const X=this;L.component("RouterLink",Ir),L.component("RouterView",Vp),L.config.globalProperties.$router=X,Object.defineProperty(L.config.globalProperties,"$route",{enumerable:!0,get:()=>ze(l)}),Ys&&!ue&&l.value===rs&&(ue=!0,R(r.location).catch(_e=>{}));const W={};for(const _e in rs)Object.defineProperty(W,_e,{get:()=>l.value[_e],enumerable:!0});L.provide(Xr,X),L.provide(xo,Zl(W)),L.provide(Vi,l);const re=L.unmount;Ue.add(L),L.unmount=function(){Ue.delete(L),Ue.size<1&&(u=rs,oe&&oe(),oe=null,l.value=rs,ue=!1,te=!1),re()}}};function Ve(L){return L.reduce((X,W)=>X.then(()=>v(W)),Promise.resolve())}return Qe}function qp(e,t){const s=[],n=[],r=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(u=>fn(u,a))?n.push(a):s.push(a));const l=e.matched[o];l&&(t.matched.find(u=>fn(u,l))||r.push(l))}return[s,n,r]}function Co(){return At(Xr)}function hu(e){return At(xo)}const Hp=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>ke(async()=>{const{default:n}=await Promise.resolve().then(()=>vn);return{default:n}},void 0).then(({default:n})=>n(...s)):t=fetch,(...s)=>t(...s)};class Po extends Error{constructor(t,s="FunctionsError",n){super(t),this.name=s,this.context=n}}class Wp extends Po{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Ga extends Po{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class za extends Po{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Fi;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Fi||(Fi={}));var Kp=function(e,t,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};class Gp{constructor(t,{headers:s={},customFetch:n,region:r=Fi.Any}={}){this.url=t,this.headers=s,this.region=r,this.fetch=Hp(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,s={}){var n;return Kp(this,void 0,void 0,function*(){try{const{headers:r,method:i,body:o}=s;let a={},{region:l}=s;l||(l=this.region);const u=new URL(`${this.url}/${t}`);l&&l!=="any"&&(a["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let c;o&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),r),body:c}).catch(_=>{throw new Wp(_)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new Ga(d);if(!d.ok)throw new za(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),m;return h==="application/json"?m=yield d.json():h==="application/octet-stream"?m=yield d.blob():h==="text/event-stream"?m=d:h==="multipart/form-data"?m=yield d.formData():m=yield d.text(),{data:m,error:null,response:d}}catch(r){return{data:null,error:r,response:r instanceof za||r instanceof Ga?r.context:void 0}}})}}var Iw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Jp(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var s=function n(){var r=!1;try{r=this instanceof n}catch{}return r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(s,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}),s}var Xe={},Vs={},Fs={},qs={},Hs={},Ws={},Xp=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},pn=Xp();const Qp=pn.fetch,pu=pn.fetch.bind(pn),gu=pn.Headers,Yp=pn.Request,Zp=pn.Response,vn=Object.freeze(Object.defineProperty({__proto__:null,Headers:gu,Request:Yp,Response:Zp,default:pu,fetch:Qp},Symbol.toStringTag,{value:"Module"})),eg=Jp(vn);var or={},Ja;function mu(){if(Ja)return or;Ja=1,Object.defineProperty(or,"__esModule",{value:!0});class e extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return or.default=e,or}var Xa;function vu(){if(Xa)return Ws;Xa=1;var e=Ws&&Ws.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ws,"__esModule",{value:!0});const t=e(eg),s=e(mu());class n{constructor(i){var o,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(a=i.isMaybeSingle)!==null&&a!==void 0?a:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var c,d,f,h;let m=null,_=null,w=null,E=u.status,A=u.statusText;if(u.ok){if(this.method!=="HEAD"){const B=await u.text();B===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?_=B:_=JSON.parse(B))}const R=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),P=(f=u.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");R&&P&&P.length>1&&(w=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(m={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,w=null,E=406,A="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const R=await u.text();try{m=JSON.parse(R),Array.isArray(m)&&u.status===404&&(_=[],m=null,E=200,A="OK")}catch{u.status===404&&R===""?(E=204,A="No Content"):m={message:R}}if(m&&this.isMaybeSingle&&(!((h=m?.details)===null||h===void 0)&&h.includes("0 rows"))&&(m=null,E=200,A="OK"),m&&this.shouldThrowOnError)throw new s.default(m)}return{error:m,data:_,count:w,status:E,statusText:A}});return this.shouldThrowOnError||(l=l.catch(u=>{var c,d,f;return{error:{message:`${(c=u?.name)!==null&&c!==void 0?c:"FetchError"}: ${u?.message}`,details:`${(d=u?.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(f=u?.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}returns(){return this}overrideTypes(){return this}}return Ws.default=n,Ws}var Qa;function _u(){if(Qa)return Hs;Qa=1;var e=Hs&&Hs.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Hs,"__esModule",{value:!0});const t=e(vu());class s extends t.default{select(r){let i=!1;const o=(r??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${r}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${r}`),this}range(r,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${r}`),this.url.searchParams.set(u,`${i-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var c;const d=[r?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${f}"; options=${d};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}}return Hs.default=s,Hs}var Ya;function Ro(){if(Ya)return qs;Ya=1;var e=qs&&qs.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(qs,"__esModule",{value:!0});const t=e(_u());class s extends t.default{eq(r,i){return this.url.searchParams.append(r,`eq.${i}`),this}neq(r,i){return this.url.searchParams.append(r,`neq.${i}`),this}gt(r,i){return this.url.searchParams.append(r,`gt.${i}`),this}gte(r,i){return this.url.searchParams.append(r,`gte.${i}`),this}lt(r,i){return this.url.searchParams.append(r,`lt.${i}`),this}lte(r,i){return this.url.searchParams.append(r,`lte.${i}`),this}like(r,i){return this.url.searchParams.append(r,`like.${i}`),this}likeAllOf(r,i){return this.url.searchParams.append(r,`like(all).{${i.join(",")}}`),this}likeAnyOf(r,i){return this.url.searchParams.append(r,`like(any).{${i.join(",")}}`),this}ilike(r,i){return this.url.searchParams.append(r,`ilike.${i}`),this}ilikeAllOf(r,i){return this.url.searchParams.append(r,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(r,i){return this.url.searchParams.append(r,`ilike(any).{${i.join(",")}}`),this}is(r,i){return this.url.searchParams.append(r,`is.${i}`),this}in(r,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(r,`in.(${o})`),this}contains(r,i){return typeof i=="string"?this.url.searchParams.append(r,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(r,`cs.{${i.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(i)}`),this}containedBy(r,i){return typeof i=="string"?this.url.searchParams.append(r,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(r,`cd.{${i.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(i)}`),this}rangeGt(r,i){return this.url.searchParams.append(r,`sr.${i}`),this}rangeGte(r,i){return this.url.searchParams.append(r,`nxl.${i}`),this}rangeLt(r,i){return this.url.searchParams.append(r,`sl.${i}`),this}rangeLte(r,i){return this.url.searchParams.append(r,`nxr.${i}`),this}rangeAdjacent(r,i){return this.url.searchParams.append(r,`adj.${i}`),this}overlaps(r,i){return typeof i=="string"?this.url.searchParams.append(r,`ov.${i}`):this.url.searchParams.append(r,`ov.{${i.join(",")}}`),this}textSearch(r,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(r,`${l}fts${u}.${i}`),this}match(r){return Object.entries(r).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(r,i,o){return this.url.searchParams.append(r,`not.${i}.${o}`),this}or(r,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${r})`),this}filter(r,i,o){return this.url.searchParams.append(r,`${i}.${o}`),this}}return qs.default=s,qs}var Za;function yu(){if(Za)return Fs;Za=1;var e=Fs&&Fs.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Fs,"__esModule",{value:!0});const t=e(Ro());class s{constructor(r,{headers:i={},schema:o,fetch:a}){this.url=r,this.headers=new Headers(i),this.schema=o,this.fetch=a}select(r,{head:i=!1,count:o}={}){const a=i?"HEAD":"GET";let l=!1;const u=(r??"*").split("").map(c=>/\s/.test(c)&&!l?"":(c==='"'&&(l=!l),c)).join("");return this.url.searchParams.set("select",u),o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(r,{count:i,defaultToNull:o=!0}={}){var a;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const u=r.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(r,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var u;const c="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const d=r.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(d.length>0){const f=[...new Set(d)].map(h=>`"${h}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(r,{count:i}={}){var o;const a="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:r}={}){var i;const o="DELETE";return r&&this.headers.append("Prefer",`count=${r}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Fs.default=s,Fs}var el;function tg(){if(el)return Vs;el=1;var e=Vs&&Vs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Vs,"__esModule",{value:!0});const t=e(yu()),s=e(Ro());class n{constructor(i,{headers:o={},schema:a,fetch:l}={}){this.url=i,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(i){const o=new URL(`${this.url}/${i}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:a=!1,get:l=!1,count:u}={}){var c;let d;const f=new URL(`${this.url}/rpc/${i}`);let h;a||l?(d=a?"HEAD":"GET",Object.entries(o).filter(([_,w])=>w!==void 0).map(([_,w])=>[_,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([_,w])=>{f.searchParams.append(_,w)})):(d="POST",h=o);const m=new Headers(this.headers);return u&&m.set("Prefer",`count=${u}`),new s.default({method:d,url:f,headers:m,schema:this.schemaName,body:h,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return Vs.default=n,Vs}var tl;function sg(){if(tl)return Xe;tl=1;var e=Xe&&Xe.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.PostgrestError=Xe.PostgrestBuilder=Xe.PostgrestTransformBuilder=Xe.PostgrestFilterBuilder=Xe.PostgrestQueryBuilder=Xe.PostgrestClient=void 0;const t=e(tg());Xe.PostgrestClient=t.default;const s=e(yu());Xe.PostgrestQueryBuilder=s.default;const n=e(Ro());Xe.PostgrestFilterBuilder=n.default;const r=e(_u());Xe.PostgrestTransformBuilder=r.default;const i=e(vu());Xe.PostgrestBuilder=i.default;const o=e(mu());return Xe.PostgrestError=o.default,Xe.default={PostgrestClient:t.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:r.default,PostgrestBuilder:i.default,PostgrestError:o.default},Xe}var ng=sg();const rg=zp(ng),{PostgrestClient:ig,PostgrestQueryBuilder:$w,PostgrestFilterBuilder:Lw,PostgrestTransformBuilder:jw,PostgrestBuilder:Nw,PostgrestError:Uw}=rg;class og{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const s=parseInt(process.versions.node.split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let s=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(s+=`

Suggested solution: ${t.workaround}`),new Error(s)}static createWebSocket(t,s){const n=this.getWebSocketConstructor();return new n(t,s)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const ag="2.15.1",lg=`realtime-js/${ag}`,cg="1.0.0",qi=1e4,ug=1e3,dg=100;var jn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(jn||(jn={}));var Ke;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ke||(Ke={}));var xt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(xt||(xt={}));var Hi;(function(e){e.websocket="websocket"})(Hi||(Hi={}));var Ps;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ps||(Ps={}));class fg{constructor(){this.HEADER_LENGTH=1}decode(t,s){return t.constructor===ArrayBuffer?s(this._binaryDecode(t)):s(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const s=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,s,n)}_decodeBroadcast(t,s,n){const r=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(t.slice(o,o+r));o=o+r;const l=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class bu{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var je;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(je||(je={}));const sl=(e,t,s={})=>{var n;const r=(n=s.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=hg(o,e,t,r),i),{})},hg=(e,t,s,n)=>{const r=t.find(a=>a.name===e),i=r?.type,o=s[e];return i&&!n.includes(i)?wu(i,o):Wi(o)},wu=(e,t)=>{if(e.charAt(0)==="_"){const s=e.slice(1,e.length);return vg(t,s)}switch(e){case je.bool:return pg(t);case je.float4:case je.float8:case je.int2:case je.int4:case je.int8:case je.numeric:case je.oid:return gg(t);case je.json:case je.jsonb:return mg(t);case je.timestamp:return _g(t);case je.abstime:case je.date:case je.daterange:case je.int4range:case je.int8range:case je.money:case je.reltime:case je.text:case je.time:case je.timestamptz:case je.timetz:case je.tsrange:case je.tstzrange:return Wi(t);default:return Wi(t)}},Wi=e=>e,pg=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},gg=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},mg=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},vg=(e,t)=>{if(typeof e!="string")return e;const s=e.length-1,n=e[s];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>wu(t,a))}return e},_g=e=>typeof e=="string"?e.replace(" ","T"):e,Au=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class vi{constructor(t,s,n={},r=qi){this.channel=t,this.event=s,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var n;return this._hasReceived(t)&&s((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var nl;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(nl||(nl={}));class Nn{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Nn.syncState(this.state,r,i,o),this.pendingDiffs.forEach(l=>{this.state=Nn.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=Nn.syncDiff(this.state,r,i,o),a())}),this.onJoin((r,i,o)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:i,newPresences:o})}),this.onLeave((r,i,o)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,n,r){const i=this.cloneDeep(t),o=this.transformState(s),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=i[u];if(d){const f=c.map(w=>w.presence_ref),h=d.map(w=>w.presence_ref),m=c.filter(w=>h.indexOf(w.presence_ref)<0),_=d.filter(w=>f.indexOf(w.presence_ref)<0);m.length>0&&(a[u]=m),_.length>0&&(l[u]=_)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},n,r)}static syncDiff(t,s,n,r){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),c.length>0){const d=t[a].map(h=>h.presence_ref),f=c.filter(h=>d.indexOf(h.presence_ref)<0);t[a].unshift(...f)}n(a,c,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),t[a]=u,r(a,u,l),u.length===0&&delete t[a]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(n=>s(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,n)=>{const r=t[n];return"metas"in r?s[n]=r.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[n]=r,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var rl;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(rl||(rl={}));var Un;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Un||(Un={}));var Gt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Gt||(Gt={}));class Oo{constructor(t,s={config:{}},n){this.topic=t,this.params=s,this.socket=n,this.bindings={},this.state=Ke.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new vi(this,xt.join,this.params,this.timeout),this.rejoinTimer=new bu(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ke.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ke.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=Ke.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ke.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=Ke.errored,this.rejoinTimer.scheduleTimeout())}),this._on(xt.reply,{},(r,i)=>{this._trigger(this._replyEventName(i),r)}),this.presence=new Nn(this),this.broadcastEndpointURL=Au(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,s=this.timeout){var n,r;if(this.socket.isConnected()||this.socket.connect(),this.state==Ke.closed){const{config:{broadcast:i,presence:o,private:a}}=this.params,l=(r=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&r!==void 0?r:[],u=!!this.bindings[Un.PRESENCE]&&this.bindings[Un.PRESENCE].length>0,c={},d={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:u}),postgres_changes:l,private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this._onError(f=>t?.(Gt.CHANNEL_ERROR,f)),this._onClose(()=>t?.(Gt.CLOSED)),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:f})=>{var h;if(this.socket.setAuth(),f===void 0){t?.(Gt.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,_=(h=m?.length)!==null&&h!==void 0?h:0,w=[];for(let E=0;E<_;E++){const A=m[E],{filter:{event:S,schema:R,table:P,filter:B}}=A,x=f&&f[E];if(x&&x.event===S&&x.schema===R&&x.table===P&&x.filter===B)w.push(Object.assign(Object.assign({},A),{id:x.id}));else{this.unsubscribe(),this.state=Ke.errored,t?.(Gt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(Gt.SUBSCRIBED);return}}).receive("error",f=>{this.state=Ke.errored,t?.(Gt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t?.(Gt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,n){return this.state===Ke.joined&&t===Un.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,s,n)}async send(t,s={}){var n,r;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);return await((r=u.body)===null||r===void 0?void 0:r.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ke.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(xt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(r=>{n=new vi(this,xt.leave,{},t),n.receive("ok",()=>{s(),r("ok")}).receive("timeout",()=>{s(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ke.closed,this.bindings={}}async _fetchWithTimeout(t,s,n){const r=new AbortController,i=setTimeout(()=>r.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:r.signal}));return clearTimeout(i),o}_push(t,s,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new vi(this,t,s,n);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>dg){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(t,s,n){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,n){var r,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=xt;if(n&&[a,l,u,c].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,s,n);if(s&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(h=>{var m,_,w;return((m=h.filter)===null||m===void 0?void 0:m.event)==="*"||((w=(_=h.filter)===null||_===void 0?void 0:_.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(h=>h.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(h=>{var m,_,w,E,A,S;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const R=h.id,P=(m=h.filter)===null||m===void 0?void 0:m.event;return R&&((_=s.ids)===null||_===void 0?void 0:_.includes(R))&&(P==="*"||P?.toLocaleLowerCase()===((w=s.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const R=(A=(E=h?.filter)===null||E===void 0?void 0:E.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return R==="*"||R===((S=s?.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof f=="object"&&"ids"in f){const m=f.data,{schema:_,table:w,commit_timestamp:E,type:A,errors:S}=m;f=Object.assign(Object.assign({},{schema:_,table:w,commit_timestamp:E,eventType:A,new:{},old:{},errors:S}),this._getPayloadRecords(m))}h.callback(f,n)})}_isClosed(){return this.state===Ke.closed}_isJoined(){return this.state===Ke.joined}_isJoining(){return this.state===Ke.joining}_isLeaving(){return this.state===Ke.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,n){const r=t.toLocaleLowerCase(),i={type:r,filter:s,callback:n};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(t,s){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(r=>{var i;return!(((i=r.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Oo.isEqual(r.filter,s))})),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const n in t)if(t[n]!==s[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(xt.close,{},t)}_onError(t){this._on(xt.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ke.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=sl(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=sl(t.columns,t.old_record)),s}}const il=()=>{},ar={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},yg=[1e3,2e3,5e3,1e4],bg=1e4,wg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ag{constructor(t,s){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=qi,this.transport=null,this.heartbeatIntervalMs=ar.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=il,this.ref=0,this.reconnectTimer=null,this.logger=il,this.conn=null,this.sendBuffer=[],this.serializer=new fg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=r=>{let i;return r?i=r:typeof fetch>"u"?i=(...o)=>ke(async()=>{const{default:a}=await Promise.resolve().then(()=>vn);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=s?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${t}/${Hi.websocket}`,this.httpEndpoint=Au(t),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=og.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const s=t.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:cg}))}disconnect(t,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,s,n){this.logger(t,s,n)}connectionState(){switch(this.conn&&this.conn.readyState){case jn.connecting:return Ps.Connecting;case jn.open:return Ps.Open;case jn.closing:return Ps.Closing;default:return Ps.Closed}}isConnected(){return this.connectionState()===Ps.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,s={config:{}}){const n=`realtime:${t}`,r=this.getChannels().find(i=>i.topic===n);if(r)return r;{const i=new Oo(`realtime:${t}`,s,this);return this.channels.push(i),i}}push(t){const{topic:s,event:n,payload:r,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${n} (${i})`,r),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(ug,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},ar.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,s=>{s.topic==="phoenix"&&s.event==="phx_reply"&&this.heartbeatCallback(s.payload.status==="ok"?"ok":"error"),s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:r,payload:i,ref:o}=s,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${r} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(r,i,o)),this._triggerStateCallbacks("message",s)})}_clearTimer(t){var s;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var s;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(xt.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const n=t.match(/\?/)?"&":"?",r=new URLSearchParams(s);return`${t}${n}${r}`}_workerObjectUrl(t){let s;if(t)s=t;else{const n=new Blob([wg],{type:"application/javascript"});s=URL.createObjectURL(n)}return s}_setConnectionState(t,s=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(t=null){let s;t?s=t:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(n=>{const r={access_token:s,version:lg};s&&n.updateJoinPayload(r),n.joinedOnce&&n._isJoined()&&n._push(xt.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${t}`,s)})}_triggerStateCallbacks(t,s){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(s)}catch(r){this.log("error",`error in ${t} callback`,r)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new bu(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ar.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var s,n,r,i,o,a,l,u;if(this.transport=(s=t?.transport)!==null&&s!==void 0?s:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:qi,this.heartbeatIntervalMs=(r=t?.heartbeatIntervalMs)!==null&&r!==void 0?r:ar.HEARTBEAT_INTERVAL,this.worker=(i=t?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(a=t?.reconnectAfterMs)!==null&&a!==void 0?a:(c=>yg[c-1]||bg),this.encode=(l=t?.encode)!==null&&l!==void 0?l:((c,d)=>d(JSON.stringify(c))),this.decode=(u=t?.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class Io extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ge(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class kg extends Io{constructor(t,s,n){super(t),this.name="StorageApiError",this.status=s,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ki extends Io{constructor(t,s){super(t),this.name="StorageUnknownError",this.originalError=s}}var Sg=function(e,t,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const ku=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>ke(async()=>{const{default:n}=await Promise.resolve().then(()=>vn);return{default:n}},void 0).then(({default:n})=>n(...s)):t=fetch,(...s)=>t(...s)},Eg=()=>Sg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ke(()=>Promise.resolve().then(()=>vn),void 0)).Response:Response}),Gi=e=>{if(Array.isArray(e))return e.map(s=>Gi(s));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([s,n])=>{const r=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[r]=Gi(n)}),t},Tg=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Us=function(e,t,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const _i=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),xg=(e,t,s)=>Us(void 0,void 0,void 0,function*(){const n=yield Eg();e instanceof n&&!s?.noResolveJson?e.json().then(r=>{const i=e.status||500,o=r?.statusCode||i+"";t(new kg(_i(r),i,o))}).catch(r=>{t(new Ki(_i(r),r))}):t(new Ki(_i(e),e))}),Cg=(e,t,s,n)=>{const r={method:e,headers:t?.headers||{}};return e==="GET"||!n?r:(Tg(n)?(r.headers=Object.assign({"Content-Type":"application/json"},t?.headers),r.body=JSON.stringify(n)):r.body=n,t?.duplex&&(r.duplex=t.duplex),Object.assign(Object.assign({},r),s))};function Yn(e,t,s,n,r,i){return Us(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(s,Cg(t,n,r,i)).then(l=>{if(!l.ok)throw l;return n?.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>xg(l,a,n))})})}function $r(e,t,s,n){return Us(this,void 0,void 0,function*(){return Yn(e,"GET",t,s,n)})}function Mt(e,t,s,n,r){return Us(this,void 0,void 0,function*(){return Yn(e,"POST",t,n,r,s)})}function zi(e,t,s,n,r){return Us(this,void 0,void 0,function*(){return Yn(e,"PUT",t,n,r,s)})}function Pg(e,t,s,n){return Us(this,void 0,void 0,function*(){return Yn(e,"HEAD",t,Object.assign(Object.assign({},s),{noResolveJson:!0}),n)})}function Su(e,t,s,n,r){return Us(this,void 0,void 0,function*(){return Yn(e,"DELETE",t,n,r,s)})}var ot=function(e,t,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const Rg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ol={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Og{constructor(t,s={},n,r){this.url=t,this.headers=s,this.bucketId=n,this.fetch=ku(r)}uploadOrUpdate(t,s,n,r){return ot(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},ol),r);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),r?.headers&&(a=Object.assign(Object.assign({},a),r.headers));const u=this._removeEmptyFolders(s),c=this._getFinalPath(u),d=yield(t=="PUT"?zi:Mt)(this.fetch,`${this.url}/object/${c}`,i,Object.assign({headers:a},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(Ge(i))return{data:null,error:i};throw i}})}upload(t,s,n){return ot(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,s,n)})}uploadToSignedUrl(t,s,n,r){return ot(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const u=Object.assign({upsert:ol.upsert},r),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield zi(this.fetch,a.toString(),l,{headers:c});return{data:{path:i,fullPath:d.Key},error:null}}catch(l){if(Ge(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,s){return ot(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const r=Object.assign({},this.headers);s?.upsert&&(r["x-upsert"]="true");const i=yield Mt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:r}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Io("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(Ge(n))return{data:null,error:n};throw n}})}update(t,s,n){return ot(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,s,n)})}move(t,s,n){return ot(this,void 0,void 0,function*(){try{return{data:yield Mt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}})}copy(t,s,n){return ot(this,void 0,void 0,function*(){try{return{data:{path:(yield Mt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}})}createSignedUrl(t,s,n){return ot(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),i=yield Mt(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:s},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}})}createSignedUrls(t,s,n){return ot(this,void 0,void 0,function*(){try{const r=yield Mt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:t},{headers:this.headers}),i=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:r.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}})}download(t,s){return ot(this,void 0,void 0,function*(){const r=typeof s?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(s?.transform||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield $r(this.fetch,`${this.url}/${r}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Ge(a))return{data:null,error:a};throw a}})}info(t){return ot(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{const n=yield $r(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Gi(n),error:null}}catch(n){if(Ge(n))return{data:null,error:n};throw n}})}exists(t){return ot(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{return yield Pg(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Ge(n)&&n instanceof Ki){const r=n.originalError;if([400,404].includes(r?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,s){const n=this._getFinalPath(t),r=[],i=s?.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&r.push(i);const a=typeof s?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(s?.transform||{});l!==""&&r.push(l);let u=r.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(t){return ot(this,void 0,void 0,function*(){try{return{data:yield Su(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(s){if(Ge(s))return{data:null,error:s};throw s}})}list(t,s,n){return ot(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},Rg),s),{prefix:t||""});return{data:yield Mt(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}})}listV2(t,s){return ot(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Mt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},s),error:null}}catch(n){if(Ge(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const s=[];return t.width&&s.push(`width=${t.width}`),t.height&&s.push(`height=${t.height}`),t.resize&&s.push(`resize=${t.resize}`),t.format&&s.push(`format=${t.format}`),t.quality&&s.push(`quality=${t.quality}`),s.join("&")}}const Ig="2.11.0",$g={"X-Client-Info":`storage-js/${Ig}`};var Ks=function(e,t,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};class Lg{constructor(t,s={},n,r){const i=new URL(t);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},$g),s),this.fetch=ku(n)}listBuckets(){return Ks(this,void 0,void 0,function*(){try{return{data:yield $r(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ge(t))return{data:null,error:t};throw t}})}getBucket(t){return Ks(this,void 0,void 0,function*(){try{return{data:yield $r(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(s){if(Ge(s))return{data:null,error:s};throw s}})}createBucket(t,s={public:!1}){return Ks(this,void 0,void 0,function*(){try{return{data:yield Mt(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ge(n))return{data:null,error:n};throw n}})}updateBucket(t,s){return Ks(this,void 0,void 0,function*(){try{return{data:yield zi(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ge(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Ks(this,void 0,void 0,function*(){try{return{data:yield Mt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(Ge(s))return{data:null,error:s};throw s}})}deleteBucket(t){return Ks(this,void 0,void 0,function*(){try{return{data:yield Su(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(Ge(s))return{data:null,error:s};throw s}})}}class jg extends Lg{constructor(t,s={},n,r){super(t,s,n,r)}from(t){return new Og(this.url,this.headers,t,this.fetch)}}const Ng="2.56.0";let Sn="";typeof Deno<"u"?Sn="deno":typeof document<"u"?Sn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Sn="react-native":Sn="node";const Ug={"X-Client-Info":`supabase-js-${Sn}/${Ng}`},Mg={headers:Ug},Dg={schema:"public"},Bg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Vg={};var Fg=function(e,t,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const qg=e=>{let t;return e?t=e:typeof fetch>"u"?t=pu:t=fetch,(...s)=>t(...s)},Hg=()=>typeof Headers>"u"?gu:Headers,Wg=(e,t,s)=>{const n=qg(s),r=Hg();return(i,o)=>Fg(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new r(o?.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var Kg=function(e,t,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};function Gg(e){return e.endsWith("/")?e:e+"/"}function zg(e,t){var s,n;const{db:r,auth:i,realtime:o,global:a}=e,{db:l,auth:u,realtime:c,global:d}=t,f={db:Object.assign(Object.assign({},l),r),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(s=d?.headers)!==null&&s!==void 0?s:{}),(n=a?.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Kg(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const Eu="2.71.1",Zs=30*1e3,Ji=3,yi=Ji*Zs,Jg="http://localhost:9999",Xg="supabase.auth.token",Qg={"X-Client-Info":`gotrue-js/${Eu}`},Xi="X-Supabase-Api-Version",Tu={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Yg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Zg=600*1e3;class $o extends Error{constructor(t,s,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=n}}function ge(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class em extends $o{constructor(t,s,n){super(t,s,n),this.name="AuthApiError",this.status=s,this.code=n}}function tm(e){return ge(e)&&e.name==="AuthApiError"}class xu extends $o{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class bs extends $o{constructor(t,s,n,r){super(t,n,r),this.name=s,this.status=n}}class ls extends bs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function sm(e){return ge(e)&&e.name==="AuthSessionMissingError"}class lr extends bs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class cr extends bs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ur extends bs{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function nm(e){return ge(e)&&e.name==="AuthImplicitGrantRedirectError"}class al extends bs{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Qi extends bs{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function bi(e){return ge(e)&&e.name==="AuthRetryableFetchError"}class ll extends bs{constructor(t,s,n){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=n}}class Yi extends bs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Lr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),cl=` 	
\r=`.split(""),rm=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<cl.length;t+=1)e[cl[t].charCodeAt(0)]=-2;for(let t=0;t<Lr.length;t+=1)e[Lr[t].charCodeAt(0)]=t;return e})();function ul(e,t,s){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;s(Lr[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;s(Lr[n]),t.queuedBits-=6}}function Cu(e,t,s){const n=rm[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function dl(e){const t=[],s=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},i=o=>{am(o,n,s)};for(let o=0;o<e.length;o+=1)Cu(e.charCodeAt(o),r,i);return t.join("")}function im(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function om(e,t){for(let s=0;s<e.length;s+=1){let n=e.charCodeAt(s);if(n>55295&&n<=56319){const r=(n-55296)*1024&65535;n=(e.charCodeAt(s+1)-56320&65535|r)+65536,s+=1}im(n,t)}}function am(e,t,s){if(t.utf8seq===0){if(e<=127){s(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function lm(e){const t=[],s={queue:0,queuedBits:0},n=r=>{t.push(r)};for(let r=0;r<e.length;r+=1)Cu(e.charCodeAt(r),s,n);return new Uint8Array(t)}function cm(e){const t=[];return om(e,s=>t.push(s)),new Uint8Array(t)}function um(e){const t=[],s={queue:0,queuedBits:0},n=r=>{t.push(r)};return e.forEach(r=>ul(r,s,n)),ul(null,s,n),t.join("")}function dm(e){return Math.round(Date.now()/1e3)+e}function fm(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Tt=()=>typeof window<"u"&&typeof document<"u",Ss={tested:!1,writable:!1},Pu=()=>{if(!Tt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ss.tested)return Ss.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ss.tested=!0,Ss.writable=!0}catch{Ss.tested=!0,Ss.writable=!1}return Ss.writable};function hm(e){const t={},s=new URL(e);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((r,i)=>{t[i]=r})}catch{}return s.searchParams.forEach((n,r)=>{t[r]=n}),t}const Ru=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>ke(async()=>{const{default:n}=await Promise.resolve().then(()=>vn);return{default:n}},void 0).then(({default:n})=>n(...s)):t=fetch,(...s)=>t(...s)},pm=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",en=async(e,t,s)=>{await e.setItem(t,JSON.stringify(s))},Es=async(e,t)=>{const s=await e.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},is=async(e,t)=>{await e.removeItem(t)};class Qr{constructor(){this.promise=new Qr.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}Qr.promiseConstructor=Promise;function wi(e){const t=e.split(".");if(t.length!==3)throw new Yi("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Yg.test(t[n]))throw new Yi("JWT not in base64url format");return{header:JSON.parse(dl(t[0])),payload:JSON.parse(dl(t[1])),signature:lm(t[2]),raw:{header:t[0],payload:t[1]}}}async function gm(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function mm(e,t){return new Promise((n,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){r(o);return}}})()})}function vm(e){return("0"+e.toString(16)).substr(-2)}function _m(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=s.length;let r="";for(let i=0;i<56;i++)r+=s.charAt(Math.floor(Math.random()*n));return r}return crypto.getRandomValues(t),Array.from(t,vm).join("")}async function ym(e){const s=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",s),r=new Uint8Array(n);return Array.from(r).map(i=>String.fromCharCode(i)).join("")}async function bm(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const s=await ym(e);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Gs(e,t,s=!1){const n=_m();let r=n;s&&(r+="/PASSWORD_RECOVERY"),await en(e,`${t}-code-verifier`,r);const i=await bm(n);return[i,n===i?"plain":"s256"]}const wm=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Am(e){const t=e.headers.get(Xi);if(!t||!t.match(wm))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function km(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Sm(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Em=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function zs(e){if(!Em.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ai(){const e={};return new Proxy(e,{get:(t,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const n=s.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function fl(e){return JSON.parse(JSON.stringify(e))}var Tm=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(s[n[r]]=e[n[r]]);return s};const xs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),xm=[502,503,504];async function hl(e){var t;if(!pm(e))throw new Qi(xs(e),0);if(xm.includes(e.status))throw new Qi(xs(e),e.status);let s;try{s=await e.json()}catch(i){throw new xu(xs(i),i)}let n;const r=Am(e);if(r&&r.getTime()>=Tu["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?n=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(n=s.error_code),n){if(n==="weak_password")throw new ll(xs(s),e.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ls}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new ll(xs(s),e.status,s.weak_password.reasons);throw new em(xs(s),e.status||500,n)}const Cm=(e,t,s,n)=>{const r={method:e,headers:t?.headers||{}};return e==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),r.body=JSON.stringify(n),Object.assign(Object.assign({},r),s))};async function be(e,t,s,n){var r;const i=Object.assign({},n?.headers);i[Xi]||(i[Xi]=Tu["2024-01-01"].name),n?.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(r=n?.query)!==null&&r!==void 0?r:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Pm(e,t,s+a,{headers:i,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(l):{data:Object.assign({},l),error:null}}async function Pm(e,t,s,n,r,i){const o=Cm(t,n,r,i);let a;try{a=await e(s,Object.assign({},o))}catch(l){throw console.error(l),new Qi(xs(l),0)}if(a.ok||await hl(a),n?.noResolveJson)return a;try{return await a.json()}catch(l){await hl(l)}}function Wt(e){var t;let s=null;$m(e)&&(s=Object.assign({},e),e.expires_at||(s.expires_at=dm(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:s,user:n},error:null}}function pl(e){const t=Wt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((s,n)=>s&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function hs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Rm(e){return{data:e,error:null}}function Om(e){const{action_link:t,email_otp:s,hashed_token:n,redirect_to:r,verification_type:i}=e,o=Tm(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:s,hashed_token:n,redirect_to:r,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Im(e){return e}function $m(e){return e.access_token&&e.refresh_token&&e.expires_in}const ki=["global","local","others"];var Lm=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(s[n[r]]=e[n[r]]);return s};class jm{constructor({url:t="",headers:s={},fetch:n}){this.url=t,this.headers=s,this.fetch=Ru(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,s=ki[0]){if(ki.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ki.join(", ")}`);try{return await be(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,s={}){try{return await be(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:hs})}catch(n){if(ge(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:s}=t,n=Lm(t,["options"]),r=Object.assign(Object.assign({},n),s);return"newEmail"in n&&(r.new_email=n?.newEmail,delete r.newEmail),await be(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:Om,redirectTo:s?.redirectTo})}catch(s){if(ge(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await be(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:hs})}catch(s){if(ge(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,n,r,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await be(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(s=t?.page)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:"",per_page:(i=(r=t?.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:Im});if(c.error)throw c.error;const d=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(m=>{const _=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(m.split(";")[1].split("=")[1]);u[`${w}Page`]=_}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(ge(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){zs(t);try{return await be(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:hs})}catch(s){if(ge(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){zs(t);try{return await be(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:hs})}catch(n){if(ge(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,s=!1){zs(t);try{return await be(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:hs})}catch(n){if(ge(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){zs(t.userId);try{const{data:s,error:n}=await be(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:s,error:n}}catch(s){if(ge(s))return{data:null,error:s};throw s}}async _deleteFactor(t){zs(t.userId),zs(t.id);try{return{data:await be(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}}}function gl(e={}){return{getItem:t=>e[t]||null,setItem:(t,s)=>{e[t]=s},removeItem:t=>{delete e[t]}}}function Nm(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Js={debug:!!(globalThis&&Pu()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ou extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Um extends Ou{}async function Mm(e,t,s){Js.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Js.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async r=>{if(r){Js.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await s()}finally{Js.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}else{if(t===0)throw Js.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Um(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Js.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}Nm();const Dm={url:Jg,storageKey:Xg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Qg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ml(e,t,s){return await s()}const Xs={};class Kn{constructor(t){var s,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Kn.nextInstanceID,Kn.nextInstanceID+=1,this.instanceID>0&&Tt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},Dm),t);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new jm({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Ru(r.fetch),this.lock=r.lock||ml,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:Tt()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=Mm:this.lock=ml,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(r.storage?this.storage=r.storage:Pu()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=gl(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=gl(this.memoryStorage)),Tt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,s;return(s=(t=Xs[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(t){Xs[this.storageKey]=Object.assign(Object.assign({},Xs[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,s;return(s=(t=Xs[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Xs[this.storageKey]=Object.assign(Object.assign({},Xs[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Eu}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const s=hm(window.location.href);let n="none";if(this._isImplicitGrantCallback(s)?n="implicit":await this._isPKCECallback(s)&&(n="pkce"),Tt()&&this.detectSessionInUrl&&n!=="none"){const{data:r,error:i}=await this._getSessionFromURL(s,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),nm(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return ge(s)?{error:s}:{error:new xu("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,n,r;try{const i=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(s=t?.options)===null||s===void 0?void 0:s.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(r=t?.options)===null||r===void 0?void 0:r.captchaToken}},xform:Wt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(ge(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var s,n,r;try{let i;if("email"in t){const{email:c,password:d,options:f}=t;let h=null,m=null;this.flowType==="pkce"&&([h,m]=await Gs(this.storage,this.storageKey)),i=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:c,password:d,data:(s=f?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:h,code_challenge_method:m},xform:Wt})}else if("phone"in t){const{phone:c,password:d,options:f}=t;i=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(n=f?.data)!==null&&n!==void 0?n:{},channel:(r=f?.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Wt})}else throw new cr("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(ge(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let s;if("email"in t){const{email:i,password:o,options:a}=t;s=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:pl})}else if("phone"in t){const{phone:i,password:o,options:a}=t;s=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:pl})}else throw new cr("You must provide either an email or phone number and a password");const{data:n,error:r}=s;return r?{data:{user:null,session:null},error:r}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new lr}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r})}catch(s){if(ge(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(t){var s,n,r,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(r=t.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:s}=t;if(s==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(t){var s,n,r,i,o,a,l,u,c,d,f,h;let m,_;if("message"in t)m=t.message,_=t.signature;else{const{chain:w,wallet:E,statement:A,options:S}=t;let R;if(Tt())if(typeof E=="object")R=E;else{const B=window;if("solana"in B&&typeof B.solana=="object"&&("signIn"in B.solana&&typeof B.solana.signIn=="function"||"signMessage"in B.solana&&typeof B.solana.signMessage=="function"))R=B.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!S?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=E}const P=new URL((s=S?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in R&&R.signIn){const B=await R.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S?.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),A?{statement:A}:null));let x;if(Array.isArray(B)&&B[0]&&typeof B[0]=="object")x=B[0];else if(B&&typeof B=="object"&&"signedMessage"in B&&"signature"in B)x=B;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in x&&"signature"in x&&(typeof x.signedMessage=="string"||x.signedMessage instanceof Uint8Array)&&x.signature instanceof Uint8Array)m=typeof x.signedMessage=="string"?x.signedMessage:new TextDecoder().decode(x.signedMessage),_=x.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in R)||typeof R.signMessage!="function"||!("publicKey"in R)||typeof R!="object"||!R.publicKey||!("toBase58"in R.publicKey)||typeof R.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${P.host} wants you to sign in with your Solana account:`,R.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${P.href}`,`Issued At: ${(r=(n=S?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((i=S?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((o=S?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((a=S?.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((l=S?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((u=S?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((d=(c=S?.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...S.signInWithSolana.resources.map(x=>`- ${x}`)]:[]].join(`
`);const B=await R.signMessage(new TextEncoder().encode(m),"utf8");if(!B||!(B instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=B}}try{const{data:w,error:E}=await be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:um(_)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Wt});if(E)throw E;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new lr}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:E})}catch(w){if(ge(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const s=await Es(this.storage,`${this.storageKey}-code-verifier`),[n,r]=(s??"").split("/");try{const{data:i,error:o}=await be(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Wt});if(await is(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new lr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:r??null}),error:o})}catch(i){if(ge(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:s,provider:n,token:r,access_token:i,nonce:o}=t,a=await be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:Wt}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new lr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(s){if(ge(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(t){var s,n,r,i,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Gs(this.storage,this.storageKey));const{error:d}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l?.data)!==null&&s!==void 0?s:{},create_user:(n=l?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:c}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(i=l?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(o=l?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:c}}throw new cr("You must provide either an email or phone number.")}catch(a){if(ge(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var s,n;try{let r,i;"options"in t&&(r=(s=t.options)===null||s===void 0?void 0:s.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await be(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:Wt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(r){if(ge(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(t){var s,n,r;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Gs(this.storage,this.storageKey)),await be(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&n!==void 0?n:void 0}),!((r=t?.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Rm})}catch(i){if(ge(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:n}=t;if(n)throw n;if(!s)throw new ls;const{error:r}=await be(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:r}})}catch(t){if(ge(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:n,type:r,options:i}=t,{error:o}=await be(this.fetch,"POST",s,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:r,options:i}=t,{data:o,error:a}=await be(this.fetch,"POST",s,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:a}}throw new cr("You must provide either an email or phone number and a type")}catch(s){if(ge(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await n,await s()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=s();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await Es(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<yi:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Es(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=Ai()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:t},error:null}}const{session:r,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:hs}):await this._useSession(async s=>{var n,r,i;const{data:o,error:a}=s;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ls}:await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0,xform:hs})})}catch(s){if(ge(s))return sm(s)&&(await this._removeSession(),await is(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async n=>{const{data:r,error:i}=n;if(i)throw i;if(!r.session)throw new ls;const o=r.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Gs(this.storage,this.storageKey));const{data:u,error:c}=await be(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:hs});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(ge(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ls;const s=Date.now()/1e3;let n=s,r=!0,i=null;const{payload:o}=wi(t.access_token);if(o.exp&&(n=o.exp,r=n<=s),r){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-s,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(ge(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var n;if(!t){const{data:o,error:a}=s;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new ls;const{session:r,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(ge(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(t,s){try{if(!Tt())throw new ur("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ur(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new al("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ur("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new al("No code detected.");const{data:A,error:S}=await this._exchangeCodeForSession(t.code);if(S)throw S;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!i||!a||!o||!u)throw new ur("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let f=c+d;l&&(f=parseInt(l));const h=f-c;h*1e3<=Zs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);const m=f-d;c-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,c):c-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,c);const{data:_,error:w}=await this._getUser(i);if(w)throw w;const E={provider_token:n,provider_refresh_token:r,access_token:i,expires_in:d,expires_at:f,refresh_token:o,token_type:u,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:E,redirectType:t.type},error:null}}catch(n){if(ge(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await Es(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var n;const{data:r,error:i}=s;if(i)return{error:i};const o=(n=r.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(tm(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await is(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const s=fm(),n={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async s=>{var n,r;try{const{data:{session:i},error:o}=s;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,s={}){let n=null,r=null;this.flowType==="pkce"&&([n,r]=await Gs(this.storage,this.storageKey,!0));try{return await be(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(ge(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:s,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}}async linkIdentity(t){var s;try{const{data:n,error:r}=await this._useSession(async i=>{var o,a,l,u,c;const{data:d,error:f}=i;if(f)throw f;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await be(this.fetch,"GET",h,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(r)throw r;return Tt()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:t.provider,url:n?.url},error:null}}catch(n){if(ge(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async s=>{var n,r;const{data:i,error:o}=s;if(o)throw o;return await be(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(r=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:void 0})})}catch(s){if(ge(s))return{data:null,error:s};throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const n=Date.now();return await mm(async r=>(r>0&&await gm(200*Math.pow(2,r-1)),this._debug(s,"refreshing attempt",r),await be(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Wt})),(r,i)=>{const o=200*Math.pow(2,r);return i&&bi(i)&&Date.now()+o-n<Zs})}catch(n){if(this._debug(s,"error",n),ge(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",n),Tt()&&!s.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,s;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Es(this.storage,this.storageKey);if(r&&this.userStorage){let o=await Es(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:r.user},await en(this.userStorage,this.storageKey+"-user",o)),r.user=(t=o?.user)!==null&&t!==void 0?t:Ai()}else if(r&&!r.user&&!r.user){const o=await Es(this.storage,this.storageKey+"-user");o&&o?.user?(r.user=o.user,await is(this.storage,this.storageKey+"-user"),await en(this.storage,this.storageKey,r)):r.user=Ai()}if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=((s=r.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<yi;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${yi}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),bi(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(r.access_token);!a&&o?.user?(r.user=o.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var s,n;if(!t)throw new ls;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Qr;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new ls;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(r,"error",i),ge(i)){const o={session:null,error:i};return bi(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(t,s,n=!0){const r=`#_notifyAllSubscribers(${t})`;this._debug(r,"begin",s,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(r,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const s=Object.assign({},t),n=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&s.user&&await en(this.userStorage,this.storageKey+"-user",{user:s.user});const r=Object.assign({},s);delete r.user;const i=fl(r);await en(this.storage,this.storageKey,i)}else{const r=fl(s);await en(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),await is(this.storage,this.storageKey),await is(this.storage,this.storageKey+"-code-verifier"),await is(this.storage,this.storageKey+"-user"),this.userStorage&&await is(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Tt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Zs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:n}}=s;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((n.expires_at*1e3-t)/Zs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${Zs}ms, refresh threshold is ${Ji} ticks`),r<=Ji&&await this._callRefreshToken(n.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Ou)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Tt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,n){const r=[`provider=${encodeURIComponent(s)}`];if(n?.redirectTo&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Gs(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});r.push(a.toString())}if(n?.queryParams){const i=new URLSearchParams(n.queryParams);r.push(i.toString())}return n?.skipBrowserRedirect&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${r.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;return i?{data:null,error:i}:await be(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=r?.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(ge(s))return{data:null,error:s};throw s}}async _enroll(t){try{return await this._useSession(async s=>{var n,r;const{data:i,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await be(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((r=l?.totp)===null||r===void 0)&&r.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(ge(s))return{data:null,error:s};throw s}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await be(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=r?.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(ge(s))return{data:null,error:s};throw s}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;return i?{data:null,error:i}:await be(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=r?.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(ge(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(t){const{data:s,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const n=t?.factors||[],r=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:r,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var s,n;const{data:{session:r},error:i}=t;if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=wi(r.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(s=r.user.factors)===null||s===void 0?void 0:s.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(t,s={keys:[]}){let n=s.keys.find(a=>a.kid===t);if(n)return n;const r=Date.now();if(n=this.jwks.keys.find(a=>a.kid===t),n&&this.jwks_cached_at+Zg>r)return n;const{data:i,error:o}=await be(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=r,n=i.keys.find(a=>a.kid===t),!n)?null:n}async getClaims(t,s={}){try{let n=t;if(!n){const{data:h,error:m}=await this.getSession();if(m||!h.session)return{data:null,error:m};n=h.session.access_token}const{header:r,payload:i,signature:o,raw:{header:a,payload:l}}=wi(n);s?.allowExpired||km(i.exp);const u=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!u){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:i,header:r,signature:o},error:null}}const c=Sm(r.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,o,cm(`${a}.${l}`)))throw new Yi("Invalid JWT signature");return{data:{claims:i,header:r,signature:o},error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}}}Kn.nextInstanceID=0;const Bm=Kn;class Vm extends Bm{constructor(t){super(t)}}var Fm=function(e,t,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};class qm{constructor(t,s,n){var r,i,o;if(this.supabaseUrl=t,this.supabaseKey=s,!t)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=Gg(t),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:Dg,realtime:Vg,auth:Object.assign(Object.assign({},Bg),{storageKey:u}),global:Mg},d=zg(n??{},c);this.storageKey=(r=d.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Wg(s,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new ig(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new jg(this.storageUrl.href,this.headers,this.fetch,n?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Gp(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,s={},n={}){return this.rest.rpc(t,s,n)}channel(t,s={config:{}}){return this.realtime.channel(t,s)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,s;return Fm(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(s=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:s,detectSessionInUrl:n,storage:r,storageKey:i,flowType:o,lock:a,debug:l},u,c){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Vm({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:i,autoRefreshToken:t,persistSession:s,detectSessionInUrl:n,storage:r,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Ag(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,n)=>{this._handleTokenChanged(s,"CLIENT",n?.access_token)})}_handleTokenChanged(t,s,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Hm=(e,t,s)=>new qm(e,t,s);function Wm(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Wm()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Km="https://pnyzcsqgoqwgtbhckmuq.supabase.co",Gm="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBueXpjc3Fnb3F3Z3RiaGNrbXVxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY5NzU2MDAsImV4cCI6MjA3MjU1MTYwMH0.xLT1olWC4LCOaIdIX2uWdRnLj0ddZdp_GCKJtbRCK8A",Y=Hm(Km,Gm,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,flowType:"pkce"}}),dr="org_ctx",vl=(e,t)=>`org_settings:${e}:v${t}`;function _l(e){if(!e)return;const t=document.documentElement;Object.entries(e).forEach(([s,n])=>t.style.setProperty(String(s),String(n)))}const Yr=eu("user",{state:()=>({session:null,sessionLoadedOnce:!1,profile:null,loadingAuth:!1,loadingProfile:!1,error:null,xpTotal:0,xpLoaded:!1,isDev:!1,orgCtx:null,orgSettings:null,loadingOrg:!1}),getters:{isAuthenticated:e=>!!e.session,displayName:e=>e.profile?.name||e.profile?.display_name||e.session?.user.user_metadata?.display_name||"Guest",userId:e=>e.profile?.id??e.session?.user.id??null,loading:e=>e.loadingAuth||e.loadingProfile||e.loadingOrg,needsSetup:e=>!!e.session&&!!e.profile&&e.profile?.setup_complete===!1,orgId:e=>e.orgCtx?.org_id??null,orgRole:e=>e.orgCtx?.role??null,orgName:e=>e.orgCtx?.name??null,orgSlug:e=>e.orgCtx?.slug??null,themeVars:e=>e.orgSettings?.theme?.cssVars??{},featureFlags:e=>e.orgSettings?.flags??{}},actions:{async checkDevStatus(){if(!this.session?.user)return this.isDev=!1,!1;try{const{data:e,error:t}=await Y.rpc("is_staff");this.isDev=!!e&&!t}catch{this.isDev=!1}return this.isDev},async refreshSession(){const{data:e,error:t}=await Y.auth.getSession();return t&&console.warn("supabase.auth.getSession error:",t),this.session=e.session??null,this.sessionLoadedOnce=!0,this.session?.user?await this.checkDevStatus().catch(()=>{this.isDev=!1}):this.isDev=!1,this.session},async ensureIdentityLoaded(){this.sessionLoadedOnce||await this.refreshSession(),this.session&&!this.profile&&!this.loadingProfile&&await this.loadProfile(),this.session&&!this.orgCtx&&!this.loadingOrg&&await this.afterLoginHydrateOrg()},async signInWithGoogle(e){this.loadingAuth=!0;try{await Y.auth.signInWithOAuth({provider:"google",options:{redirectTo:e}})}finally{this.loadingAuth=!1}},async signInWithPassword(e,t){this.error=null,this.loadingAuth=!0;try{const{error:s}=await Y.auth.signInWithPassword({email:e,password:t});if(s)throw s;await this.refreshSession(),this.session&&(await this.loadProfile(),await this.afterLoginHydrateOrg())}catch(s){throw this.error=s?.message||"Invalid email or password",s}finally{this.loadingAuth=!1}},async signOut(){await Y.auth.signOut(),this.session=null,this.profile=null,this.error=null,this.xpLoaded=!1,this.xpTotal=0,this.isDev=!1,this.orgCtx=null,this.orgSettings=null,localStorage.removeItem(dr)},async loadProfile(){if(!this.session?.user){this.profile=null;return}this.loadingProfile=!0,this.error=null;try{const e=this.session.user.id,t="id, name, display_name, email, avatar_url, setup_complete, settings",{data:s,error:n}=await Y.from("profiles").select(t).eq("id",e).maybeSingle();if(n)throw n;this.profile=s??null}catch(e){console.error("loadProfile:",e),this.error=e?.message??String(e),this.profile=null}finally{this.loadingProfile=!1}},async completeFirstRunSetup(e){if(this.error=null,!this.session?.user)return!1;try{const t=this.session.user.id,{error:s}=await Y.from("profiles").update({name:e.name,avatar_url:e.avatarUrl??null,setup_complete:!0,updated_at:new Date().toISOString()}).eq("id",t);if(s)throw s;const{error:n}=await Y.from("public_profiles").upsert({user_id:t,display_name:e.name},{onConflict:"user_id"});if(n)throw n;return await this.loadProfile(),!0}catch(t){return this.error=t?.message||"Failed to save profile",!1}},async saveProfileSetup(e){return this.completeFirstRunSetup({name:e.displayName,avatarUrl:e.avatarUrl??null})},async loadXp(e=!1){if(!this.session?.user){this.xpTotal=0,this.xpLoaded=!0;return}if(!(this.xpLoaded&&!e))try{const{data:t,error:s}=await Y.from("user_xp_total").select("xp_total").eq("user_id",this.session.user.id).maybeSingle();if(s)throw s;this.xpTotal=Number(t?.xp_total??0)}catch(t){console.warn("loadXp error:",t),this.xpTotal=0}finally{this.xpLoaded=!0}},async signUpUser(e,t,s,n){this.error=null,this.loadingAuth=!0;try{const r=n??`${window.location.origin}/login?confirmed=1`,{error:i}=await Y.auth.signUp({email:e,password:t,options:{data:{display_name:s??""},emailRedirectTo:r}});if(i)throw i;return{ok:!0,needsEmailConfirm:!0}}catch(r){return this.error=r?.message||"Sign up failed",{ok:!1,needsEmailConfirm:!1}}finally{this.loadingAuth=!1}},saveOrgCtx(e){this.orgCtx=e,e?localStorage.setItem(dr,JSON.stringify(e)):localStorage.removeItem(dr)},saveOrgSettings(e){this.orgSettings=e,e&&localStorage.setItem(vl(e.org_id,e.version),JSON.stringify(e))},hydrateOrgFromLocalStorage(){try{const e=localStorage.getItem(dr);this.orgCtx=e?JSON.parse(e):null}catch{this.orgCtx=null}if(this.orgCtx?.org_id){for(let e=10;e>=1;e--){const t=vl(this.orgCtx.org_id,e),s=localStorage.getItem(t);if(s)try{this.orgSettings=JSON.parse(s);break}catch{}}_l(this.orgSettings?.theme?.cssVars)}},async loadOrgContext(){if(!this.session?.user?.id)return this.saveOrgCtx(null),null;this.loadingOrg=!0;try{const{data:e,error:t}=await Y.from("org_memberships").select("org_id, role").eq("user_id",this.session.user.id).limit(1).maybeSingle();if(t||!e)return this.saveOrgCtx(null),null;let s=null,n=null;const{data:r,error:i}=await Y.from("orgs").select("name, slug").eq("id",e.org_id).maybeSingle();!i&&r&&(s=r.name??null,n=r.slug??null);const o={org_id:e.org_id,role:e.role??null,name:s,slug:n};return this.saveOrgCtx(o),o}finally{this.loadingOrg=!1}},async loadOrgSettings(e=!1){if(!this.orgCtx?.org_id)return this.saveOrgSettings(null),null;const{data:t,error:s}=await Y.from("org_settings").select("org_id, version, theme, flags, org_code").eq("org_id",this.orgCtx.org_id).order("version",{ascending:!1}).limit(1);if(s)return this.saveOrgSettings(null),null;const n=t&&t[0]||null;if(!n)return this.saveOrgSettings(null),null;const r={org_id:n.org_id,version:n.version??1,theme:n.theme??{},flags:n.flags??{},org_code:n?.org_code??null};return this.saveOrgSettings(r),_l(r.theme?.cssVars),r},async afterLoginHydrateOrg(){if(this.hydrateOrgFromLocalStorage(),!((this.orgCtx?.name?this.orgCtx:await this.loadOrgContext())??null)){this.orgSettings=null;return}await this.loadOrgSettings(!1)}}}),jr=F(0),zm=Se(()=>jr.value>0);function Iu(){jr.value++}function Lo(){jr.value=Math.max(0,jr.value-1)}let Mn=null,Ct=null,Nr=null,sn=[];const $u=document.title;function Jm(){Ct||(Ct=document.querySelector('link[rel="icon"]'),Ct||(Ct=document.createElement("link"),Ct.rel="icon",document.head.appendChild(Ct)),Nr||(Nr=Ct.href||""))}function Xm(){if(sn.length)return sn;const e=12,t=32,s=12;for(let n=0;n<e;n++){const r=document.createElement("canvas");r.width=r.height=t;const i=r.getContext("2d");i.clearRect(0,0,t,t),i.lineWidth=2,i.strokeStyle="rgba(255,255,255,0.25)",i.beginPath(),i.arc(t/2,t/2,s,0,Math.PI*2),i.stroke();const o=n/e*Math.PI*2,a=Math.PI*1.2;i.lineCap="round",i.lineWidth=3,i.strokeStyle="#ffffff",i.shadowColor="rgba(255,255,255,0.7)",i.shadowBlur=4,i.beginPath(),i.arc(t/2,t/2,s,o,o+a),i.stroke(),sn.push(r.toDataURL("image/png"))}return sn}function Lu(){if(Mn)return;Jm(),Xm();let e=0;Mn=window.setInterval(()=>{Ct&&(Ct.href=sn[e++%sn.length])},90),document.title.startsWith("")||(document.title=` ${$u}`)}function jo(){Mn&&(window.clearInterval(Mn),Mn=null,Ct&&Nr&&(Ct.href=Nr),document.title=$u)}const Qm=eu("gameTransit",{state:()=>({cards:[],mode:"bomb",startedAt:0,startMode:"easy",deckName:"",deckId:null,audioLocale:"en-US",ttsRate:1}),actions:{set(e){e.cards&&(this.cards=e.cards),e.mode&&(this.mode=e.mode),e.startMode&&(this.startMode=e.startMode),typeof e.deckName=="string"&&(this.deckName=e.deckName),typeof e.deckId=="string"&&(this.deckId=e.deckId),typeof e.audioLocale=="string"&&(this.audioLocale=e.audioLocale),typeof e.ttsRate=="number"&&(this.ttsRate=e.ttsRate),this.startedAt=Date.now()},setAudioPrefs(e){typeof e.audioLocale=="string"&&(this.audioLocale=e.audioLocale),typeof e.ttsRate=="number"&&(this.ttsRate=e.ttsRate)},seedForListening(e){this.cards=e.cards??[],e.startMode&&(this.startMode=e.startMode),typeof e.deckName=="string"&&(this.deckName=e.deckName),typeof e.deckId=="string"&&(this.deckId=e.deckId),typeof e.audioLocale=="string"&&(this.audioLocale=e.audioLocale),typeof e.ttsRate=="number"&&(this.ttsRate=e.ttsRate),this.mode="listening",this.startedAt=Date.now()},clear(){this.cards=[],this.startedAt=0,this.deckName="",this.deckId=null}}}),Ym=[{path:"/",redirect:{name:"dashboard"}},{path:"/dashboard",name:"dashboard",component:()=>ke(()=>import("./Dashboard-Bdhu0JMh.js"),__vite__mapDeps([0,1,2,3,4,5]))},{path:"/login",name:"login",component:()=>ke(()=>import("./Login-CtSAC-tG.js"),__vite__mapDeps([6,7]))},{path:"/reset-password",name:"reset-password",component:()=>ke(()=>import("./ResetPassword-C00FVloI.js"),__vite__mapDeps([8,9]))},{path:"/users",name:"users",component:()=>ke(()=>import("./UsersList-CNAXrovI.js"),__vite__mapDeps([10,11])),meta:{authRequired:!0,requiresDev:!0}},{path:"/admin-panel",name:"admin-panel",component:()=>ke(()=>import("./AdminPanel-CkJQqijS.js"),__vite__mapDeps([12,13])),meta:{authRequired:!0}},{path:"/theme-editor",name:"theme-editor",component:()=>ke(()=>Promise.resolve().then(()=>r_),void 0),meta:{authRequired:!0}},{path:"/auth/callback",name:"auth-callback",component:()=>ke(()=>import("./AuthCallback-_Me17VYt.js"),__vite__mapDeps([14,15])),meta:{hideHeader:!0}},{path:"/set-up",name:"set-up",component:()=>ke(()=>import("./ProfileSetUp-DZALo4wl.js"),__vite__mapDeps([16,17])),meta:{requiresAuth:!0}},{path:"/textbooks",name:"textbooks",component:()=>ke(()=>import("./TextbookGridPage-BgbrMWZI.js"),__vite__mapDeps([18,3,4,19]))},{path:"/textbook/:id",name:"textbook_details",component:()=>ke(()=>import("./TextbookDetails-CYlk9SUd.js"),__vite__mapDeps([20,21]))},{path:"/deck/:id",name:"deck",component:()=>ke(()=>import("./DeckViewer-BRo3NOce.js"),__vite__mapDeps([22,23,24])),meta:{hideHeader:!0}},{path:"/review/en/:id",name:"FlashcardReview",component:()=>ke(()=>import("./FlashcardReview-CY5M71wW.js"),__vite__mapDeps([25,26])),meta:{hideHeader:!0}},{path:"/review/jp/:id",name:"JapaneseFlashcardReview",component:()=>ke(()=>import("./JapaneseFlashcardReview-CWUpEV00.js"),__vite__mapDeps([27,28])),meta:{hideHeader:!0}},{path:"/bombgame/:id",name:"bomb-game",component:()=>ke(()=>import("./BombGame-D28l7QF1.js"),__vite__mapDeps([29,30])),meta:{hideHeader:!0}},{path:"/sharknado/:id",name:"sharknado",component:()=>ke(()=>import("./Sharknado-C6P5hPJV.js"),__vite__mapDeps([31,32])),meta:{hideHeader:!0}},{path:"/headsup/:id",name:"headsup",component:()=>ke(()=>import("./HeadsUp-P9g08xGj.js"),__vite__mapDeps([33,34])),meta:{hideHeader:!0}},{path:"/spellingblitz/:id",name:"spellingblitz",component:()=>ke(()=>import("./SpellingBlitz-BjJMu3bu.js"),__vite__mapDeps([35,36,37])),meta:{hideHeader:!0},props:e=>{const t=Qm();let s=t.cards,n=e.query.mode||t.startMode||"easy";if(!s?.length){const r=sessionStorage.getItem("eitake.spellingblitz.transit.v1");if(r)try{const i=JSON.parse(r);s=i.cards||[],n=e.query.mode||i.startMode||"easy"}catch{}}return{cards:s,deckId:e.params.id,startMode:n}}},{path:"/spelling-guesser/:id",name:"spellingguesser",component:()=>ke(()=>import("./SpellingGuesser-C3ovCgri.js"),__vite__mapDeps([38,39,40,41,36,42])),props:e=>({deckId:e.params.id,deckName:e.query.title||void 0}),meta:{hideHeader:!0}},{path:"/sound-matcher/:deckId",name:"sound-matcher",component:()=>ke(()=>import("./SoundMatcher-Cdg8iem0.js"),__vite__mapDeps([43,39,23,44])),meta:{hideHeader:!0},props:!0},{path:"/bingo/:id",name:"bingo",component:()=>ke(()=>import("./Bingo-C702A9Oi.js").then(e=>e.B),__vite__mapDeps([45,23,40,46,47])),meta:{hideHeader:!0}},{path:"/custom-decks",name:"custom-decks",component:()=>ke(()=>import("./CustomDecks-glvuaO6q.js"),__vite__mapDeps([48,49])),meta:{authRequired:!0}},{path:"/activities",name:"activities",component:()=>ke(()=>import("./ActivitiesGrid-DxjeOpo8.js"),__vite__mapDeps([1,2]))},{path:"/activities/:slug",name:"activity-runner",component:()=>ke(()=>import("./ActivityRunner-DdadF6Lf.js"),__vite__mapDeps([50,51]))},{path:"/roulette-wheel",name:"roulette-wheel",component:()=>ke(()=>import("./RouletteWheel-CQ-zbFxR.js"),__vite__mapDeps([52,23,40,53])),meta:{hideHeader:!0}},{path:"/random-points",name:"random-points",component:()=>ke(()=>import("./RandomPoints-CiL0qs_N.js"),__vite__mapDeps([54,23,40,41,55])),meta:{hideHeader:!0}},{path:"/random-time",name:"random-time",component:()=>ke(()=>import("./RandomTime-C-SQSl2b.js"),__vite__mapDeps([56,40,23,39,36,46,57])),meta:{hideHeader:!0}},{path:"/hot-potato",name:"hot-potato",component:()=>ke(()=>import("./HotPotato-Bech6W2k.js"),__vite__mapDeps([58,23,40,59])),meta:{hideHeader:!0}},{path:"/classroom-timer",name:"classroom-timer",component:()=>ke(()=>import("./ClassroomTimer-YFBDRhFb.js"),__vite__mapDeps([60,61])),meta:{hideHeader:!0}},{path:"/wordle",name:"wordle",component:()=>ke(()=>import("./Wordle-C7D9GBCt.js"),__vite__mapDeps([62,41,36,23,63])),meta:{hideHeader:!0}},{path:"/othello",name:"othello",component:()=>ke(()=>import("./Othello-DDdrIMM4.js"),__vite__mapDeps([64,23,65])),meta:{hideHeader:!0}}],Zn=Fp({history:_p("/TaiyakiEduGames/"),routes:Ym});let gn=!1;Zn.beforeEach(async e=>{gn||(gn=!0,Iu(),Lu());const t=Yr();if(e.name==="login")return!0;if(t.session||await t.ensureIdentityLoaded(),e.meta.requiresAuth&&!t.session)return{name:"login",query:{redirect:e.fullPath}};t.session&&!t.profile&&!t.loadingProfile&&await t.loadProfile();const s=!!(t.profile?.display_name||t.profile?.name),n=!!t.profile&&(t.profile.setup_complete===!1||!s);return t.session&&n&&e.name!=="set-up"?{name:"set-up"}:t.session&&!n&&e.name==="set-up"?{name:"dashboard"}:!0});Zn.afterEach(()=>{gn&&(gn=!1,Lo(),jo())});Zn.onError(()=>{gn&&(gn=!1,Lo(),jo())});const Zm={key:0,class:"overlay","aria-live":"polite","aria-busy":"true"},ev=it({__name:"PageLoader",setup(e){const t=Se(()=>zm.value);return(s,n)=>(C(),Fe(fs,{name:"fade"},{default:pt(()=>[t.value?(C(),$("div",Zm,[...n[0]||(n[0]=[b("div",{class:"spinner","aria-hidden":"true"},null,-1),b("div",{class:"label"},"Loading",-1)])])):se("",!0)]),_:1}))}}),mt=(e,t)=>{const s=e.__vccOpts||e;for(const[n,r]of t)s[n]=r;return s},tv=mt(ev,[["__scopeId","data-v-54054880"]]),fr="/TaiyakiEduGames/assets/EiTake_Kanji-D8bqLzXh.png",sv={class:"av-modal"},nv={class:"av-body"},rv={key:0,class:"av-status"},iv={key:1,class:"av-status av-error"},ov={key:2,class:"av-status"},av={key:3,class:"av-grid",role:"list"},lv=["aria-label","onClick","disabled","title"],cv=["src","alt","onError"],uv={class:"av-foot"},dv={class:"left"},fv={key:0,class:"saving"},hv={key:1,class:"save-error"},pv={key:2,class:"save-ok"},hr="public-assets",gv="avatars",mv=it({__name:"AvatarSelection",props:{currentUrl:{},currentKey:{},targetUserId:{}},emits:["close","updated","selected"],setup(e,{emit:t}){const s=e,n=t,r=F(!1),i=F([]),o=F(!0),a=F(null),l=F(!1),u=F(!1),c=F(null),d=/\.(png|jpe?g|webp|gif|svg)$/i,f=y=>d.test(y);function h(y){if(!y)return"";try{const v=new URL(y);return v.search="",v.hash="",v.toString()}catch{return y.split("?")[0]}}function m(y){return!!(s.currentKey&&y.path===s.currentKey||s.currentUrl&&h(y.url)===h(s.currentUrl))}async function _(y){const D=Y.storage.from(hr).getPublicUrl(y)?.data?.publicUrl||"";if(D)return D;const{data:z}=await Y.storage.from(hr).createSignedUrl(y,3600);return z?.signedUrl??""}function w(y){return r.value?!0:!y.split("/").some(v=>v.trim().toLowerCase()==="secret-avatars")}async function E(y,v){let D=0;const z=100;for(;;){const{data:V,error:oe}=await Y.storage.from(hr).list(y,{limit:z,offset:D,sortBy:{column:"name",order:"asc"}});if(oe)throw oe;if(!V||V.length===0)break;for(const ce of V){const H=y?`${y}/${ce.name}`:ce.name;if(ce.metadata){if(f(ce.name)){const Z=`${y}/${ce.name}`.replace(/^\/+/,"");if(w(Z)){const te=await _(Z);te&&v.push({name:ce.name,path:Z,url:te})}}}else{const{data:Z}=await Y.storage.from(hr).list(H,{limit:1});(Z?.length??0)>0&&await E(H,v)}}if(V.length<z)break;D+=z}}async function A(){r.value=!1;try{const{data:y,error:v}=await Y.rpc("is_staff");if(!v&&typeof y=="boolean")r.value=y;else{const{data:D}=await Y.auth.getUser(),z=D?.user?.id;if(z){const{data:V}=await Y.from("staff_roles").select("role").eq("user_id",z),oe=(V??[]).some(ce=>["DEV","ADMIN"].includes(String(ce.role).toUpperCase()));r.value=oe}}}catch{}}async function S(){o.value=!0,a.value=null,i.value=[];try{await A();const y=[];await E(gv,y);const v=new Set;i.value=y.filter(D=>w(D.path)).filter(D=>!v.has(D.path)&&(v.add(D.path),!0))}catch(y){a.value=y?.message??String(y)}finally{o.value=!1}}async function R(y){if(!l.value){l.value=!0,u.value=!1,c.value=null;try{const{data:v}=await Y.auth.getUser(),D=v?.user?.id??null,z=s.targetUserId&&String(s.targetUserId).trim()!==""?String(s.targetUserId):D;if(!z)throw new Error("You must be logged in to change an avatar.");if(z!==D&&!r.value)throw new Error("Only staff can change other users avatars.");const{error:V}=await Y.from("profiles").update({avatar_url:y.path}).eq("id",z);if(V)throw V;D&&D===z&&await Yr?.()?.loadProfile?.(),u.value=!0,n("updated",{key:y.path,userId:z}),n("selected",{key:y.path,userId:z}),setTimeout(()=>n("close"),250)}catch(v){c.value=v?.message??String(v)}finally{l.value=!1}}}function P(){n("close")}function B(y,v){const D=y.target;D&&(D.style.visibility="hidden")}function x(y){y.key==="Escape"&&P()}return dt(()=>{window.addEventListener("keydown",x),S()}),Et(()=>window.removeEventListener("keydown",x)),(y,v)=>(C(),Fe(gs,{to:"body"},[b("div",{class:"av-modal-overlay",role:"dialog","aria-modal":"true","aria-labelledby":"av-modal-title",onClick:gt(P,["self"])},[b("div",sv,[b("header",{class:"av-modal-head"},[v[0]||(v[0]=b("h2",{id:"av-modal-title"},"Choose an avatar",-1)),b("button",{class:"av-close",type:"button",onClick:P,"aria-label":"Close"},"")]),b("div",nv,[o.value?(C(),$("div",rv,"Loading avatars")):a.value?(C(),$("div",iv,"Couldnt load avatars: "+ae(a.value),1)):i.value.length===0?(C(),$("div",ov,[...v[1]||(v[1]=[$s(" No avatars found in ",-1),b("code",null,"public-assets/avatars/",-1),$s(" (including subfolders).",-1),b("br",null,null,-1),b("small",null,"Check the bucket name, folder path, and List/Read permissions.",-1)])])):(C(),$("div",av,[(C(!0),$(Te,null,Rt(i.value,D=>(C(),$("button",{key:D.path,role:"listitem",type:"button",class:We(["av-item",{selected:m(D)}]),"aria-label":D.name,onClick:z=>R(D),disabled:l.value,title:D.path},[b("img",{src:D.url,alt:D.name,onError:z=>B(z)},null,40,cv)],10,lv))),128))]))]),b("footer",uv,[b("div",dv,[l.value?(C(),$("span",fv,"Saving")):se("",!0),c.value?(C(),$("span",hv,"Error: "+ae(c.value),1)):se("",!0),u.value?(C(),$("span",pv,"Updated!")):se("",!0)])])])])]))}}),ju=mt(mv,[["__scopeId","data-v-a9b76350"]]),Si="/TaiyakiEduGames/assets/Mushroom_Avatar-Cx3OQd_U.png",vv="/TaiyakiEduGames/assets/Type_Click-BQqWoTgW.ogg",_v="data:audio/mpeg;base64,SUQzAwAAAAAAUFRFTkMAAAAVIAAAU291bmQgR3JpbmRlciA0LjAuNABBUElDAAAABCAAAAAAAFRDT1AAAAAZIAAAQ29weXJpZ2h0IEFsYW4gTWNLaW5uZXkA//uUyAAAAAAAAAAAAAAAAAAAAAAAWGluZwAAAA8AAAALAAAKyAAfHx8fHx8fHx84ODg4ODg4ODhSUlJSUlJSUlJsbGxsbGxsbGyGhoaGhoaGhoabm5ubm5ubm5u1tbW1tbW1tbXJycnJycnJycnj4+Pj4+Pj4+P19fX19fX19fX///////////8AAABOTEFNRTMuMTAwA7oAAAAAAAAAANQgJAVhgQAB4AAACsgx+HG3AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//t0yAAACNQxRHWRgAL0rCo3N4AAARKm3ARbBgAYbDxwPG0kAkG9RPMQQxAi1jBLMNv/D9ugYGBgYGHxGfEAILBA5Pvg++H+UDH8u//3wf/wQl3lwf/lDn/nIIAAAEuJWVuNyOaTXbTeiDwNOQQv3O+F9AeDzHhEDHo6BkwyOgpMCgALTCRfgYqhssEEUmlG3mUdsLGKNMypEomwLYW8o4x3TZnlkkJp3wryiDuRe5WhN2Rbm52hwoYHoaerLLsiu0fzv4YWrmdyGKCVTUzcpZNcovo9Ue+471vW5bdns57dHdo/ot2MLHMtXdXe71ObnNWO0+qf7erfc+4dqfr9fr9/vdf6nanLn75vvKnLvLvbvbnbnFqUpa0gaCdUcm2a//tkyAOACiybWf2mgCHfr+g9zMxwZSvX0YUUDZyQ5QpV0mMo+QA3bU1gXGUo6qwbxWSII6MjpDGBUdIvAm0kqRsKb65b81+j9H5l852bduSyOnTo0aMTZbVr15fKZTKIEaDqCAlpBalytwiBoj6BscDmzYDBzJ2TrHMQ+cFPLprUZZUowou7vigQLFPZgHRgFhNM4HlBoQ6zJDkgDENXRUoaDePXya+UvlP5fbz57yif8lX8s/OP6j/rLfnD3nEfUb+sqfLVXKtXMquUK2y5tm+2bMt8pOrVUHsHEBM5EGVbS6wAC4V/B0cGmMw8BAKY//tkyAwAD51/P+5hqYGfLOf9zCkwDEhg0XigdGl2D3LF1XHFC6bGfcUXhGGa3radoaeLY6zfQTjIM8XAB5QXmYWt/Fb5I/J/xyH+scJ/yv5g/on/K384/qP9isj+VLqzhDr0yF5wu1ai/Xy35dq5Pr5vtl3bK6+Zu9aAkA4GYEwACUooEWdMC8YBycFCpdIXAQNCrmDy+GrNd1dLChktBnfnU5iad/n13ADjZ/+Ldgwdr88Dz8wRvif8Vvip8fN4u+Y/jJvKP6l/Kfl/Kv6F/Uv6mfL/O+Z875BXltsiymVfUnCKDlFCXNkpKVYxaEQz//tkyAcADKV/S+3iJOGCLqk9uAl8w+7hiMkil8I1pKEYjeOQZUozILvfQDUw95PiXAXBVSWcFDgFYvoZiJ8buMr8cHyj83+Ufpt5Y+m3nPqP+c/P+d/P+tXz3rQr5a+Z181+Z1822zOrpNbOQDWNwBkkiABSqPwOFQvIE+GRDTQS7Q6JkgwLCQAAWHHSCAbhcZ7JB/RBiOgQMLeUNy6C4efLAodXYcXyD/DfG+E+F+dvB/RvBP4Jvj+Db1H9RvRfjfP833+E+F2yfB0Q5YB8CjSBXxEoKVaxWEBdkJ8InepwRSCySw5xANVY27hKUNFT//tkyBGADM1/Se3iI6GSLOi9zMR44SyLpqB4W4loFuVkUjocIE+cXYvh6z9RCN5FPlH5e+bt5h8o/Rf1t5z6m+/rPev6j3z9eo39Zl81q5pXzP5l96uh864RYORkiVsNu3OcGAgGlAbIwTWNCBjY0YQpDzhfl3saxIKHAUuv2xhL2pvRmQACST0CbBHj6GiKg3WON/IH858x+XX8+3mD+cfzvzjepvv6z3rPepP1pes2+e+f+n8w3zu2Y5bQgHoJQDFbGSUnWnmCAQFwkJh4H3TUBRzIIdAU4Essms2hQIXEa7Chg7b8RICYKqSKQtID//tUyBmADMF/Re5iIyHBLSi9vB08ENXywHzpcwGM+Oj5Z+WPlL5R+ZfMm86/nD3qPes/89898/896zT5v80+h8z+c2znzu+ccIoJYlBtWU2rXTBAMIQUN6jHwVBQBAZggZDxMakwIXYjYgYPZsdzqLBt93/pGthHbGeq7PAMWkz3qJpzZ6/R4Efgr8UfH/iO3ih/Ect4+W8wv7jHxj1GfQt6FvV/Q2ug1pqPU0K14/Tjnx/4/TOJh6pQigsjJErb//tkyAOACwEfRe3iA0GUpuZx3UhwrWukqWgqXhtMcToqFnzA5Rce6hg9etpSKa63ULsPkR4uw382axeDNn/Gi3Yg3yl8p/Lj+VH8vN5j87859bfb7+cPec+tD1H/n9GW1ZfKaMtrQtGAgOABS3EcAgCpSc3hAY02XMSrCwIZjgqyXCYblVIRgknnuctpUhXS06CZFAJMnWcErC/B1WcFjfpDRbyA/IZ8r/LzeWfmD+z+cbzretvW/nG84f+e9Zt61fN/muV1actr1fVVcI0rklR9mmk7V4lUOJVMNCh07CBV4goWMtfAVlcxaEgFQUz1//tUyBIAC+1DRe3iIyGIKGd9vEB0HQ/geqhrDhANgquzlwC9NHqI8SxfWPfyLfM/mvyN+XH8ybzn7ed+tvW/nH+f9TetvlX6vm/zbL6NerLIDYDiJmkiIJTTARkGILk8kEBiV5AiIQIgqRbQOfnuDCxo2etbW0CPNmdAnwJqGsawWPm2swC6k90BzPkF+THy98w+ZfM28ybzredfzres/5w/6z/qP/NfUb/NfofNcpp1fWpQfApGom9bTbrZaKhB//tkyAaAC7VDQe00UWF9pyX1t4l8FhA4YHPVzAoyY0SqiUBksop+iwDR4lusY4reFk/DGB5mzKQE3AAqTQzgZn6ZX8lvl/5N+O3g28K/nbwf4/g29X9B/VPj+j+or0H9AfxS/X9aC44BrdAABQVKYKJGKb5n4UBjlWIeETCQMRAYYjICYa1YSEDzNvMhshmKG1Lp0Ftf/B2gcZveQ9xDIPpequ//yy/xHwz+A/Z/BP4X9/BD+Fb1f0H9W9TfFV1Gb0+BPhNhc+ti+qKpFlsTCxgx6VJkEX6nERpA02chFgNVXU7Lws0FlpM96WyF9bTC//tEyBWADaEHJ63ho6D7juP1hZk8IB9KKUvg4AN5OTuXQPU0fMhhW6h5PzharUbE1uokj/kk9NnHEqupA+2gO4hXaZP5i3opff1mvrPXPdK5XK6devLLAMjjdilrQAD+sOETz1MmI+bZn7aatESnqTDyge+SSIF1XA3E2P0ja/0h3L/mgy8pnIo/5RsyoFrdcdw18O/RMyAAqZ//9v9f/8UVTEFNRTMu//sUyAkDwWgA+ECEYCAAADSAAAAEMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVEFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP8=",yv="/TaiyakiEduGames/assets/level-up-glisando-B2e__w9C.mp3",bv="/TaiyakiEduGames/assets/level-ding-prnSuyC9.mp3",wv="/TaiyakiEduGames/assets/Wood_Block-B0qGLkpH.ogg",Av={class:"ul-panel"},kv={class:"body"},Sv={key:0,class:"loading"},Ev={key:1,class:"guest-msg"},Tv={class:"level-wrap"},xv={class:"level-circle"},Cv={viewBox:"0 0 120 120"},Pv={class:"bars"},Rv={class:"bar"},Ov={class:"label"},Iv={class:"lvlchip chip-red"},$v={class:"track"},Lv={class:"bar"},jv={class:"label"},Nv={class:"lvlchip chip-green"},Uv={class:"track"},Mv={class:"bar"},Dv={class:"label"},Bv={class:"lvlchip chip-blue"},Vv={class:"track"},Fv={class:"xp-holder","aria-live":"polite"},qv={key:1,class:"dev-toolbar"},Hv={class:"dev-row"},Wv={class:"dev-row"},Kv=["disabled"],Gv=["disabled"],zv={class:"hint"},pr=200,Jv=it({__name:"UserLevels",props:{overlay:{type:Boolean,default:!1},showDevTools:{type:Boolean,default:!1},userId:{default:null}},setup(e,{expose:t}){const s=e,n=Yr(),r=Se(()=>s.userId?s.userId:n?.profile?.id??null),i={numMin:500,numPerXp:7,numCap:2200,barMin:400,barPerXp:6,barCap:1800,tweenToServer:700,levelPause:500,beatShort:280,bounce:700},o={tick:new Audio(vv),fill:new Audio(_v),levelupMain:new Audio(yv),skillup:new Audio(bv),complete:new Audio(wv)};o.tick.volume=.7,o.fill.volume=.35,o.levelupMain.volume=.7,o.skillup.volume=.65,o.complete.volume=.6;let a=null;function l(I=55){a==null&&(a=window.setInterval(()=>{try{o.tick.currentTime=0,o.tick.play()}catch{}},I))}function u(){a!=null&&(clearInterval(a),a=null)}let c=null,d=0;function f(){c==null&&(d=performance.now(),o.fill.loop=!1,c=window.setInterval(()=>{const U=1+Math.min(1,(performance.now()-d)/1500)*.6;try{o.fill.playbackRate=U,o.fill.currentTime=0,o.fill.play()}catch{}},90))}function h(){c!=null&&(clearInterval(c),c=null)}const m=F(!s.overlay),_=F(!1),w=F(!0),E=F("");function A(){s.overlay&&(m.value=!0,document.documentElement.style.overflow="hidden")}function S(){s.overlay&&(m.value=!1,document.documentElement.style.overflow="")}function R(){s.overlay&&A()}function P(I){!s.overlay||!m.value||I.key==="Escape"&&(I.preventDefault(),S())}dt(()=>{window.addEventListener("user-levels:show",R),window.addEventListener("keydown",P)}),Et(()=>{window.removeEventListener("user-levels:show",R),window.removeEventListener("keydown",P),u(),h()});const B=Se(()=>!r.value),x=F(1),y=F(1),v=F(1),D=F(1),z=F(0),V=F(0),oe=F(0),ce=F(0),H=Pt({total:0,reading:0,writing:0,listening:0,other:0}),Z=Pt({levelMin:0,levelNext:1,readingMin:0,readingNext:1,writingMin:0,writingNext:1,listeningMin:0,listeningNext:1});function te(I){const U=Math.max(0,(I-1)*pr);return{min:U,next:U+pr}}function ve(I,U){const Q=te(U);return g(I,Q)}const De=Pt({reading:0,writing:0,listening:0}),He=F(!1),ne=F(!1);ht(x,async()=>{ne.value||(He.value=!1,await Promise.resolve(),He.value=!0,setTimeout(()=>{He.value=!1},i.levelPause+200))});const ee=Pt({visible:!1,value:0,target:0,color:"var(--accent-primary)",bouncing:!1});function ue(I){return 1-Math.pow(1-I,3)}function Ue(I){return I<.5?4*I*I*I:1-Math.pow(-2*I+2,3)/2}function Qe(I){return Math.max(0,Math.min(1,I))}const Ve=I=>new Promise(U=>setTimeout(U,I));function L(I,U,Q,fe,pe=!0){const we=performance.now();return pe&&f(),new Promise(me=>{const Ce=()=>{const Be=Math.max(0,Math.min(1,(performance.now()-we)/fe)),yt=Ue(Be);I.value=U+(Q-U)*yt,Be<1?requestAnimationFrame(Ce):(I.value=Q,pe&&h(),me())};requestAnimationFrame(Ce)})}async function X(I,U){if(I<=0)return;const Q=Math.min(i.numCap,Math.max(i.numMin,I*i.numPerXp));ee.visible=!0,ee.value=0,ee.target=I,ee.color=U,ee.bouncing=!1,l();const fe=performance.now();await new Promise(pe=>{const we=()=>{const me=Math.max(0,Math.min(1,(performance.now()-fe)/Q)),Ce=ue(me);ee.value=Math.floor(I*Ce),me<1?requestAnimationFrame(we):pe()};requestAnimationFrame(we)}),u();try{o.complete.currentTime=0,o.complete.play()}catch{}ee.bouncing=!0,await Ve(i.bounce),ee.bouncing=!1,ee.visible=!1}async function W(){if(r.value)return r.value;const{data:I}=await Y.auth.getUser();return I?.user?.id??null}async function re(){const{data:I}=await Y.auth.getUser();return I?.user?.id??null}async function _e(I){const U=await W();if(!U){I?.noMainLevelUpdate||(x.value=1),y.value=1,v.value=1,D.value=1,I?.skipMainRing||(z.value=ve(H.total,x.value)),V.value=ve(H.reading,y.value),oe.value=ve(H.writing,v.value),ce.value=ve(H.listening,D.value);const pe=te(x.value);Z.levelMin=pe.min,Z.levelNext=pe.next;const we=te(y.value);Z.readingMin=we.min,Z.readingNext=we.next;const me=te(v.value);Z.writingMin=me.min,Z.writingNext=me.next;const Ce=te(D.value);Z.listeningMin=Ce.min,Z.listeningNext=Ce.next;return}const{data:Q}=await Y.from("v_profile_progress").select(`
      user_id, xp_total, level, level_min_xp, next_level_min_xp, pct_progress,
      reading_level, writing_level, listening_level,
      reading_pct, writing_pct, listening_pct,
      reading_min_xp, reading_next_min_xp,
      writing_min_xp, writing_next_min_xp,
      listening_min_xp, listening_next_min_xp
    `).eq("user_id",U).maybeSingle(),{data:fe}=await Y.from("user_xp_total").select("reading_xp, writing_xp, listening_xp, other_xp, xp_total").eq("user_id",U).maybeSingle();I?.noMainLevelUpdate||(x.value=Number(Q?.level??1)),y.value=Number(Q?.reading_level??1),v.value=Number(Q?.writing_level??1),D.value=Number(Q?.listening_level??1),Z.levelMin=Number(Q?.level_min_xp??0),Z.levelNext=Number(Q?.next_level_min_xp??Z.levelMin+1),Z.readingMin=Number(Q?.reading_min_xp??0),Z.readingNext=Number(Q?.reading_next_min_xp??Z.readingMin+1),Z.writingMin=Number(Q?.writing_min_xp??0),Z.writingNext=Number(Q?.writing_next_min_xp??Z.writingMin+1),Z.listeningMin=Number(Q?.listening_min_xp??0),Z.listeningNext=Number(Q?.listening_next_min_xp??Z.listeningMin+1),H.total=Number(fe?.xp_total??0),H.reading=Number(fe?.reading_xp??0),H.writing=Number(fe?.writing_xp??0),H.listening=Number(fe?.listening_xp??0),H.other=Number(fe?.other_xp??0),I?.skipMainRing||(z.value=Qe(Number(Q?.pct_progress??0))*100),V.value=Qe(Number(Q?.reading_pct??0))*100,oe.value=Qe(Number(Q?.writing_pct??0))*100,ce.value=Qe(Number(Q?.listening_pct??0))*100}async function p(I){const U=await W();if(!U){H.reading=Math.max(0,H.reading+Math.max(0,I.reading||0)),H.writing=Math.max(0,H.writing+Math.max(0,I.writing||0)),H.listening=Math.max(0,H.listening+Math.max(0,I.listening||0)),H.other=Math.max(0,H.other+Math.max(0,I.other||0)),H.total=Math.max(0,H.reading+H.writing+H.listening+H.other);return}const Q=await re(),fe=Q&&Q===U,pe=Math.max(0,I.reading||0),we=Math.max(0,I.writing||0),me=Math.max(0,I.listening||0),Ce=Math.max(0,I.other||0);if(fe){const{data:yt}=await Y.from("user_xp_total").select("reading_xp, writing_xp, listening_xp, other_xp, xp_total").eq("user_id",U).maybeSingle();if(yt){const Ft={reading_xp:Math.max(0,Number(yt.reading_xp||0)+pe),writing_xp:Math.max(0,Number(yt.writing_xp||0)+we),listening_xp:Math.max(0,Number(yt.listening_xp||0)+me),other_xp:Math.max(0,Number(yt.other_xp||0)+Ce)},{data:ft}=await Y.from("user_xp_total").update(Ft).eq("user_id",U).select("reading_xp, writing_xp, listening_xp, other_xp, xp_total").maybeSingle();H.reading=Number(ft?.reading_xp??Ft.reading_xp),H.writing=Number(ft?.writing_xp??Ft.writing_xp),H.listening=Number(ft?.listening_xp??Ft.listening_xp),H.other=Number(ft?.other_xp??Ft.other_xp),H.total=Number(ft?.xp_total??H.reading+H.writing+H.listening+H.other)}else{const Ft=n?.profile?.name||n?.profile?.display_name||"User",{data:ft}=await Y.from("user_xp_total").insert({user_id:U,user_name:Ft,reading_xp:pe,writing_xp:we,listening_xp:me,other_xp:Ce}).select("reading_xp, writing_xp, listening_xp, other_xp, xp_total").maybeSingle();H.reading=Number(ft?.reading_xp??pe),H.writing=Number(ft?.writing_xp??we),H.listening=Number(ft?.listening_xp??me),H.other=Number(ft?.other_xp??Ce),H.total=Number(ft?.xp_total??H.reading+H.writing+H.listening+H.other)}return}pe>0&&await Y.rpc("dev_adjust_skill_xp",{target_user:U,skill:"reading",delta:pe}),we>0&&await Y.rpc("dev_adjust_skill_xp",{target_user:U,skill:"writing",delta:we}),me>0&&await Y.rpc("dev_adjust_skill_xp",{target_user:U,skill:"listening",delta:me}),Ce>0&&await Y.rpc("dev_adjust_other_xp",{user_id:U,delta:Ce});const{data:Be}=await Y.from("user_xp_total").select("reading_xp, writing_xp, listening_xp, other_xp, xp_total").eq("user_id",U).maybeSingle();H.reading=Number(Be?.reading_xp??0),H.writing=Number(Be?.writing_xp??0),H.listening=Number(Be?.listening_xp??0),H.other=Number(Be?.other_xp??0),H.total=Number(Be?.xp_total??H.reading+H.writing+H.listening+H.other)}function g(I,U){const Q=(I-U.min)/Math.max(1,U.next-U.min);return Qe(Q)*100}async function k(I){const U=await W();if(!U)return te(I==="main"?x.value:I==="reading"?y.value:I==="writing"?v.value:D.value);if(I==="main"){const{data:Q}=await Y.from("v_profile_progress").select("level_min_xp,next_level_min_xp").eq("user_id",U).maybeSingle();return Q?{min:Number(Q.level_min_xp??0),next:Number(Q.next_level_min_xp??1)}:null}else if(I==="reading"){const{data:Q}=await Y.from("v_profile_progress").select("reading_min_xp,reading_next_min_xp").eq("user_id",U).maybeSingle();return Q?{min:Number(Q.reading_min_xp??0),next:Number(Q.reading_next_min_xp??1)}:null}else if(I==="writing"){const{data:Q}=await Y.from("v_profile_progress").select("writing_min_xp,writing_next_min_xp").eq("user_id",U).maybeSingle();return Q?{min:Number(Q.writing_min_xp??0),next:Number(Q.writing_next_min_xp??1)}:null}else{const{data:Q}=await Y.from("v_profile_progress").select("listening_min_xp,listening_next_min_xp").eq("user_id",U).maybeSingle();return Q?{min:Number(Q.listening_min_xp??0),next:Number(Q.listening_next_min_xp??1)}:null}}async function N(I,U){if(!await W())return te(U);const{data:fe}=await Y.from("skill_levels").select("level,min_xp").eq("skill",I).in("level",[U,U+1]).order("level",{ascending:!0});if(!fe?.length)return await k(I)??{min:0,next:1};const pe=fe.find(Be=>Be.level===U),we=fe.find(Be=>Be.level===U+1),me=Number(pe?.min_xp??0),Ce=Number(we?.min_xp??me+1);return{min:me,next:Ce}}async function M(I,U){if(U<=0)return;const Q=await W();Q&&await _e({skipMainRing:!0,noMainLevelUpdate:!0});const fe=I==="reading"?y:I==="writing"?v:D,pe=I==="reading"?V:I==="writing"?oe:ce,we=I==="reading"?H.reading:I==="writing"?H.writing:H.listening;let me=we;const Ce=we+U;let Be=await N(I,fe.value);pe.value=g(me,Be);const yt=1e-6;let Ft=0;for(;me<Ce-yt;){if(++Ft>5e3){console.warn("[skill tween] safety break");break}const ft=Be.next,Gu=Math.max(0,ft-me),zu=Ce-me,_n=Math.min(Gu,zu);await p({reading:I==="reading"?_n:0,writing:I==="writing"?_n:0,listening:I==="listening"?_n:0,other:0}),me+=_n;const Ju=pe.value,Xu=g(me,Be),Qu=Math.min(i.barCap,Math.max(i.barMin,_n*i.barPerXp));if(await L(pe,Ju,Xu,Qu,!0),Math.abs(me-ft)<yt){try{o.skillup.currentTime=0,o.skillup.play()}catch{}I==="reading"&&De.reading++,I==="writing"&&De.writing++,I==="listening"&&De.listening++,fe.value=fe.value+1,await Ve(i.levelPause),Q&&await _e({skipMainRing:!0,noMainLevelUpdate:!0}),Be=await N(I,fe.value),pe.value=g(me,Be),await Ve(i.beatShort)}}}function j(I){const U=I;return Math.min(i.barCap,Math.max(i.barMin,U*i.barPerXp))}async function K(I,U,Q,fe){z.value=U,ne.value=!0;const pe=Math.max(0,Q-I);if(pe===0){const Ce=j(Math.abs(fe-U));await L(z,U,fe,Ce,!0),ne.value=!1;return}let we=U;for(let Ce=0;Ce<pe;Ce++){const Be=j(100-we);await L(z,we,100,Be,!0),z.value=100,await Ve(140);try{o.levelupMain.currentTime=0,o.levelupMain.play()}catch{}try{window.dispatchEvent(new CustomEvent("confetti:burst",{detail:{power:"levelup"}}))}catch{}const yt=(x.value||1)+1;x.value=yt,He.value=!1,await Promise.resolve(),He.value=!0,setTimeout(()=>{He.value=!1},i.levelPause+200),await Ve(i.levelPause),z.value=0,we=0,await Ve(i.beatShort)}const me=j(fe);await L(z,0,fe,me,!0),x.value=Q,ne.value=!1}async function q(I,U){if(U<=0)return;const Q=x.value,fe=z.value;await X(U,I==="reading"?"var(--level-reading)":I==="writing"?"var(--accent-success)":"var(--level-listening)"),ne.value=!0,await M(I,U);const we=await W();if(we?await _e({skipMainRing:!0,noMainLevelUpdate:!0}):z.value=ve(H.total,x.value),we){const{data:me}=await Y.from("v_profile_progress").select("level, pct_progress").eq("user_id",we).maybeSingle(),Ce=Number(me?.level??Q),Be=Qe(Number(me?.pct_progress??0))*100;await K(Q,fe,Ce,Be)}else{const me=Math.floor(H.total/pr)+1,Ce=g(H.total,te(me));await K(Q,fe,me,Ce)}ne.value=!1}async function O(I){if(I<=0)return;const U=x.value,Q=z.value;await X(I,"var(--accent-primary)"),ne.value=!0,await p({reading:0,writing:0,listening:0,other:I});const fe=await W();if(fe){await _e({skipMainRing:!0,noMainLevelUpdate:!0});const{data:pe}=await Y.from("v_profile_progress").select("level, pct_progress").eq("user_id",fe).maybeSingle(),we=Number(pe?.level??U),me=Qe(Number(pe?.pct_progress??0))*100;await K(U,Q,we,me)}else{const pe=Math.floor(H.total/pr)+1,we=g(H.total,te(pe));await K(U,Q,pe,we)}ne.value=!1}const T=[];let J=!1;async function G(I){if(T.push(I),!J){J=!0,_.value=!0;try{for(;T.length;)await T.shift()()}finally{J=!1,_.value=!1}}}async function ie(I){await G(()=>q("reading",I))}async function de(I){await G(()=>q("writing",I))}async function ye(I){await G(()=>q("listening",I))}async function Ie(I){await G(()=>O(I))}async function xe(){if(_.value)return;w.value=!0;const I={prog:z.value,r:V.value,w:oe.value,l:ce.value};try{await _e({skipMainRing:!0}),await tt(I,{prog:z.value,r:V.value,w:oe.value,l:ce.value}),E.value="Refreshed",setTimeout(()=>{E.value=""},1500)}catch(U){console.error("[UserLevels] refreshFromDb error:",U),E.value="Refresh failed",setTimeout(()=>{E.value=""},2e3)}finally{w.value=!1}}function tt(I,U){const Q=performance.now(),fe=i.tweenToServer;return new Promise(pe=>{const we=()=>{const me=Math.max(0,Math.min(1,(performance.now()-Q)/fe)),Ce=Ue(me);z.value=I.prog+(U.prog-I.prog)*Ce,V.value=I.r+(U.r-I.r)*Ce,oe.value=I.w+(U.w-I.w)*Ce,ce.value=I.l+(U.l-I.l)*Ce,me<1?requestAnimationFrame(we):(z.value=U.prog,V.value=U.r,oe.value=U.w,ce.value=U.l,pe())};requestAnimationFrame(we)})}const Pe=Pt({r:100,w:60,l:40,b:25});async function _t(){const I=[];Pe.r>0&&I.push(()=>ie(Pe.r)),Pe.w>0&&I.push(()=>de(Pe.w)),Pe.l>0&&I.push(()=>ye(Pe.l)),Pe.b>0&&I.push(()=>Ie(Pe.b));for(const U of I)await U()}return dt(async()=>{w.value=!0,await _e(),w.value=!1}),ht(r,async()=>{w.value=!0,z.value=0,V.value=0,oe.value=0,ce.value=0,await _e(),w.value=!1}),t({open:A,close:S,addReadingXp:ie,addWritingXp:de,addListeningXp:ye,addBonusXp:Ie,refreshFromDb:xe}),(I,U)=>(C(),Fe(fs,{name:"ul-fade-zoom"},{default:pt(()=>[!s.overlay||m.value?(C(),$("div",{key:0,class:We(["ul-root",s.overlay?"is-overlay":"is-embedded"]),role:"region","aria-label":"User Levels"},[s.overlay?(C(),$("div",{key:0,class:"ul-backdrop",onClick:S})):se("",!0),b("div",Av,[s.overlay?(C(),$("button",{key:0,class:"close-x",type:"button","aria-label":"Close",title:"Close",onClick:S},"  ")):se("",!0),b("section",kv,[w.value?(C(),$("div",Sv,"Loading current progress")):B.value?(C(),$("div",Ev," Please log in or sign up to track levels and progress. ")):(C(),$(Te,{key:2},[b("div",Tv,[b("div",xv,[(C(),$("svg",Cv,[U[6]||(U[6]=b("defs",null,[b("linearGradient",{id:"ringRainbow",x1:"0%",y1:"0%",x2:"100%"},[b("stop",{offset:"0%",style:{"stop-color":"var(--level-reading)"}}),b("stop",{offset:"33%",style:{"stop-color":"var(--accent-warning)"}}),b("stop",{offset:"66%",style:{"stop-color":"var(--accent-success)"}}),b("stop",{offset:"100%",style:{"stop-color":"var(--level-listening)"}})])],-1)),U[7]||(U[7]=b("circle",{cx:"60",cy:"60",r:"50",class:"trk"},null,-1)),b("circle",{cx:"60",cy:"60",r:"50",class:"prg",style:Bt({strokeDasharray:2*Math.PI*50+" "+2*Math.PI*50,strokeDashoffset:2*Math.PI*50*(1-z.value/100)}),stroke:"url(#ringRainbow)"},null,4),b("text",{x:"60",y:"60",class:We(["lvl",{"lvl-pulse":He.value}]),"dominant-baseline":"middle","text-anchor":"middle"}," Lv "+ae(x.value),3)]))])]),b("div",Pv,[b("div",Rv,[b("div",Ov,[U[8]||(U[8]=$s(" Reading ",-1)),b("span",Iv,[Ae(fs,{name:"chip-slide",mode:"out-in"},{default:pt(()=>[(C(),$("span",{key:De.reading},"Lv "+ae(y.value),1))]),_:1})])]),b("div",$v,[b("div",{class:"fill reading",style:Bt({width:V.value+"%"})},null,4)])]),b("div",Lv,[b("div",jv,[U[9]||(U[9]=$s(" Writing ",-1)),b("span",Nv,[Ae(fs,{name:"chip-slide",mode:"out-in"},{default:pt(()=>[(C(),$("span",{key:De.writing},"Lv "+ae(v.value),1))]),_:1})])]),b("div",Uv,[b("div",{class:"fill writing",style:Bt({width:oe.value+"%"})},null,4)])]),b("div",Mv,[b("div",Dv,[U[10]||(U[10]=$s(" Listening ",-1)),b("span",Bv,[Ae(fs,{name:"chip-slide",mode:"out-in"},{default:pt(()=>[(C(),$("span",{key:De.listening},"Lv "+ae(D.value),1))]),_:1})])]),b("div",Vv,[b("div",{class:"fill listening",style:Bt({width:ce.value+"%"})},null,4)])])])],64))]),b("div",Fv,[Ae(fs,{name:"xpnum"},{default:pt(()=>[ee.visible?(C(),$("div",{key:0,class:We(["xp-big",{bounce:ee.bouncing}]),style:Bt({color:ee.color})}," +"+ae(ee.value)+" XP ",7)):se("",!0)]),_:1})]),I.showDevTools?(C(),$("section",qv,[b("div",Hv,[U[11]||(U[11]=b("label",null,"Reading",-1)),tn(b("input",{class:"nb",type:"number","onUpdate:modelValue":U[0]||(U[0]=Q=>Pe.r=Q),min:"0"},null,512),[[Rs,Pe.r,void 0,{number:!0}]]),U[12]||(U[12]=b("label",null,"Writing",-1)),tn(b("input",{class:"nb",type:"number","onUpdate:modelValue":U[1]||(U[1]=Q=>Pe.w=Q),min:"0"},null,512),[[Rs,Pe.w,void 0,{number:!0}]]),U[13]||(U[13]=b("label",null,"Listening",-1)),tn(b("input",{class:"nb",type:"number","onUpdate:modelValue":U[2]||(U[2]=Q=>Pe.l=Q),min:"0"},null,512),[[Rs,Pe.l,void 0,{number:!0}]]),U[14]||(U[14]=b("label",null,"Bonus",-1)),tn(b("input",{class:"nb",type:"number","onUpdate:modelValue":U[3]||(U[3]=Q=>Pe.b=Q),min:"0"},null,512),[[Rs,Pe.b,void 0,{number:!0}]])]),b("div",Wv,[b("button",{class:"btn",disabled:_.value,onClick:U[4]||(U[4]=Q=>_t())},"Add XP (Sequential)",8,Kv),b("button",{class:"btn gray",disabled:_.value,onClick:U[5]||(U[5]=Q=>xe())},"Refresh (DB)",8,Gv),b("span",zv,ae(E.value),1),s.overlay?(C(),$("button",{key:0,class:"btn danger",onClick:S},"Close")):se("",!0)])])):se("",!0)])],2)):se("",!0)]),_:1}))}}),Nu=mt(Jv,[["__scopeId","data-v-9ce72d63"]]),Zi={Chalkboard:new URL("/TaiyakiEduGames/assets/chalkboard-bwg_JTx6.css",import.meta.url).href,Tron:new URL("/TaiyakiEduGames/assets/tron-k195yjVI.css",import.meta.url).href,Sakura:new URL("/TaiyakiEduGames/assets/sakura-BybDJTAr.css",import.meta.url).href,Halloween:new URL("/TaiyakiEduGames/assets/halloween-wQPGbuDB.css",import.meta.url).href},yl="app-theme-css",bl="eitake.theme";function Xv(){let e=document.getElementById(yl);return e||(e=document.createElement("link"),e.id=yl,e.rel="stylesheet",document.head.appendChild(e)),e}function Qv(){const e=F("Chalkboard"),t=Object.keys(Zi),s=n=>{const r=Zi[n],i=Xv();i.href=r,e.value=n,localStorage.setItem(bl,n),document.documentElement.setAttribute("data-theme",n)};return dt(()=>{const n=localStorage.getItem(bl)||"Chalkboard";s(n)}),{current:e,keys:t,applyTheme:s}}const Yv={class:"theme-modal",role:"dialog","aria-modal":"true","aria-labelledby":"theme-editor-title"},Zv={class:"theme-modal__body"},e_={class:"select-wrap"},t_=["value"],s_=["value"],n_=it({__name:"ThemeEditor",props:{open:{type:Boolean}},emits:["update:open","close","apply-theme"],setup(e,{emit:t}){const s=t,n=e,{current:r,keys:i,applyTheme:o}=Qv(),a=F(n.open);ht(()=>n.open,f=>a.value=f);function l(){a.value=!1,s("update:open",!1),s("close")}function u(f){f.target===f.currentTarget&&l()}function c(f){f.key==="Escape"&&l()}async function d(f){const h=f.target.value;s("apply-theme",h),await o(h)}return dt(()=>document.addEventListener("keydown",c)),Et(()=>document.removeEventListener("keydown",c)),(f,h)=>(C(),Fe(gs,{to:"body"},[tn(b("div",{class:"theme-modal__backdrop",role:"presentation",onClick:u},[b("section",Yv,[b("header",{class:"theme-modal__head"},[h[0]||(h[0]=b("h2",{id:"theme-editor-title"},"Choose a Theme",-1)),b("button",{class:"icon-btn close",type:"button","aria-label":"Close",title:"Close",onClick:l},"")]),b("div",Zv,[h[2]||(h[2]=b("label",{class:"theme-label",for:"theme-select"},"Theme",-1)),b("div",e_,[b("select",{id:"theme-select",class:"theme-select",value:ze(r),onChange:d},[(C(!0),$(Te,null,Rt(ze(i),m=>(C(),$("option",{key:m,value:m},ae(m),9,s_))),128))],40,t_),h[1]||(h[1]=b("span",{class:"chevron","aria-hidden":"true"},null,-1))]),h[3]||(h[3]=b("p",{class:"hint"},"Your choice saves automatically.",-1))]),b("footer",{class:"theme-modal__foot"},[b("button",{class:"btn",type:"button",onClick:l},"Done")])])],512),[[th,a.value]])]))}}),Uu=mt(n_,[["__scopeId","data-v-ceda6acc"]]),r_=Object.freeze(Object.defineProperty({__proto__:null,default:Uu},Symbol.toStringTag,{value:"Module"})),i_={class:"panel",role:"dialog","aria-modal":"true","aria-label":"Enter School Code"},o_=["data-filled"],a_=["value"],l_={class:"actions"},c_=["disabled"],u_={key:0,class:"error",role:"alert"},d_={key:1,class:"ok"},f_=it({__name:"SchoolCodeInput",props:{open:{type:Boolean}},emits:["update:open","close","joined"],setup(e,{emit:t}){const s=e,n=t,r=F(""),i=F(!1),o=F(null),a=F(null),l=F(null),u=Se(()=>r.value.replace(/\D/g,"").slice(0,6).split(""));function c(E){const A=E.target;r.value=(A.value||"").replace(/\D/g,"").slice(0,6)}function d(E){E.key==="Enter"&&(E.preventDefault(),_())}function f(){l.value?.focus()}function h(){r.value="",i.value=!1,o.value=null,a.value=null}function m(){n("update:open",!1),n("close"),setTimeout(h,50)}async function _(){if(o.value=null,a.value=null,u.value.length!==6){o.value="Please enter the 6-digit code.";return}i.value=!0;try{const{data:E}=await Y.auth.getUser(),A=E.user?.id;if(!A)throw new Error("You must be signed in.");const{data:S,error:R}=await Y.rpc("lookup_org_by_code",{p_code:r.value});if(R)throw R;const P=S?.[0];if(!P)throw new Error("No school found for that code.");const{data:B,error:x}=await Y.from("org_memberships").select("org_id, user_id, role").eq("org_id",P.id).eq("user_id",A).limit(1);if(x)throw x;if(B&&B.length){a.value="You are already a member of this school.",n("joined",{orgId:P.id,orgName:P.name??null}),setTimeout(m,650);return}const{error:y}=await Y.from("org_memberships").upsert({org_id:P.id,user_id:A,role:"student"},{onConflict:"org_id,user_id",ignoreDuplicates:!0});if(y)throw y;a.value=`Joined: ${P.name??"School"}.`,n("joined",{orgId:P.id,orgName:P.name??null}),setTimeout(m,900)}catch(E){o.value=E?.message??"Something went wrong."}finally{i.value=!1}}function w(E){E.key==="Escape"&&s.open&&!i.value&&m()}return ht(()=>s.open,E=>{E?(setTimeout(()=>l.value?.focus(),50),window.addEventListener("keydown",w)):window.removeEventListener("keydown",w)},{immediate:!0}),dt(()=>{s.open&&window.addEventListener("keydown",w)}),Et(()=>window.removeEventListener("keydown",w)),(E,A)=>(C(),Fe(gs,{to:"body"},[E.open?(C(),$("div",{key:0,class:"overlay",onClick:gt(m,["self"])},[b("section",i_,[b("header",{class:"head"},[A[0]||(A[0]=b("h2",{class:"title"},"Enter School Code",-1)),b("button",{class:"close-btn",onClick:m,"aria-label":"Close"},"")]),A[2]||(A[2]=b("p",{class:"hint"}," Ask your teacher for the 6-digit school code. ",-1)),b("form",{class:"form",onSubmit:gt(_,["prevent"])},[A[1]||(A[1]=b("label",{for:"code",class:"label"},"6-digit code",-1)),b("div",{class:"code-boxes",onClick:f},[(C(),$(Te,null,Rt(6,S=>b("span",{key:S,class:"box","data-filled":u.value[S-1]?"y":"n"},ae(u.value[S-1]??""),9,o_)),64)),b("input",{id:"code",ref_key:"realInput",ref:l,class:"real-input",inputmode:"numeric",autocomplete:"one-time-code","aria-label":"Six digit school code",value:r.value,onInput:c,onKeydown:d,maxlength:"6",pattern:"[0-9]*"},null,40,a_)]),b("div",l_,[b("button",{class:"btn join-btn",type:"submit",disabled:i.value||u.value.length!==6},ae(i.value?"Joining":"Join School"),9,c_)]),o.value?(C(),$("p",u_,ae(o.value),1)):se("",!0),a.value?(C(),$("p",d_,ae(a.value),1)):se("",!0)],32)])])):se("",!0)]))}}),h_=mt(f_,[["__scopeId","data-v-7ae16680"]]),p_={class:"panel",role:"dialog","aria-modal":"true","aria-label":"Profile"},g_={key:0,class:"header"},m_={class:"left"},v_={class:"avatar"},__=["src"],y_={key:1,class:"avatar-fallback"},b_={class:"id-block"},w_={class:"name"},A_=["disabled"],k_={key:2,class:"role-badge staff"},S_={class:"email"},E_=["title"],T_={class:"right"},x_={class:"actions-bar"},C_=["aria-expanded"],P_={key:0,class:"menu-dropdown"},R_={key:1,class:"save-messages"},O_={key:0,class:"save-error"},I_={key:1,class:"save-ok"},$_={key:2,class:"loading"},L_={key:3,class:"error"},j_={key:4,class:"body"},N_={class:"center-flex"},U_={key:0,class:"soon-pop",role:"dialog","aria-modal":"true","aria-label":"Coming Soon"},M_={class:"soon-pop-head"},D_={class:"soon-title"},B_={key:0,class:"theme-loading-overlay",role:"status","aria-live":"polite","aria-label":"Applying theme"},V_=it({__name:"Profile",props:{open:{type:Boolean},onClose:{type:Function},userId:{}},emits:["close","chooseAvatar","update:open","enterOrgCode"],setup(e,{emit:t}){const s=e,n=t,r=F(!1),i=F(null),o=F(null),a=F(!1),l=F(!1),u=F(null),c=F(null),d=F(!1),f=F(!1),h=F(0),m=F(!1),_=F(!1),w=F(!1),E=F(null),A=F({name:""}),S=Se(()=>(A.value.name||"").trim()),R=F(!1),P=F(!1),B=F(null),x=F(null),y=F(null),v=F(!1),D=F("Coming Soon");function z(){v.value=!1}const V=Se(()=>d.value||c.value&&c.value===o.value?.id),oe=Se(()=>d.value&&c.value&&o.value?.id===c.value);function ce(){V.value&&(m.value=!m.value,w.value=!1,E.value=null,m.value&&o.value&&(A.value.name=o.value.name||""))}function H(O){if(!l.value)return;const T=u.value;T&&!T.contains(O.target)&&(l.value=!1)}const Z=F(!1);function te(){Z.value=!0}function ve(){g(o.value?.id||"")}const De=F(!1);function He(){De.value=!0}function ne(){De.value=!1}const ee=F(!1);function ue(){ee.value=!0,document.documentElement.classList.add("theme-loading")}function Ue(){ee.value=!1,document.documentElement.classList.remove("theme-loading")}const Qe=Se(()=>{const O=o.value?.avatar_url;if(!O)return Si;const{data:T}=Y.storage.from("public-assets").getPublicUrl(String(O)),J=T?.publicUrl||Si,G=J.includes("?")?"&":"?";return`${J}${G}v=${h.value}`}),Ve=Se(()=>{const T=(o.value?.name?.trim()||o.value?.email||"U").split(/\s+/).filter(Boolean);if(T.length>=2)return(T[0][0]+T[1][0]).toUpperCase();const J=T[0]||"";return((J.includes("@")?J.split("@")[0]:J).slice(0,2)||"U").toUpperCase()}),L=F(!1);function X(){try{s.onClose?.()}finally{l.value=!1,n("update:open",!1),n("close")}}function W(O){const T=O.target;T.onerror=null,T.src=Si}async function re(){if(s.userId)return s.userId;const{data:O}=await Y.auth.getUser();return O.user?.id??null}async function _e(){const{data:O}=await Y.auth.getUser();if(c.value=O.user?.id??null,d.value=!1,f.value=!1,!!c.value)try{const{data:T}=await Y.rpc("is_staff");d.value=!!T}catch{}}async function p(){r.value=!0,i.value=null,o.value=null;try{const O=await re();if(!O){i.value="No user id available.";return}const{data:T,error:J}=await Y.from("profiles").select("id, name, email, avatar_url").eq("id",O).single();if(J)throw J;o.value=T||null,h.value=Date.now(),await g(O)}catch(O){i.value=O?.message??String(O)}finally{r.value=!1}}async function g(O){R.value=!1,P.value=!1,B.value=null,x.value=null,y.value=null;try{const{data:T,error:J}=await Y.from("org_memberships").select("org_id, role").eq("user_id",O).limit(1);if(J)throw J;const G=T?.[0];if(G&&(P.value=!0,x.value=G.org_id||null,B.value=G.role||null,x.value)){const{data:ie,error:de}=await Y.from("orgs").select("name").eq("id",x.value).single();!de&&ie&&(y.value=ie.name??null)}}catch{}finally{R.value=!0}}function k(O){const T=O.toLowerCase();return T.includes("admin")?"Admin":T.includes("teacher")||T.includes("staff")?"Teacher":"Student"}function N(O){const T=O.toLowerCase();return T.includes("admin")?"admin":T.includes("teacher")||T.includes("staff")?"teacher":"student"}async function M(){if(!o.value||!V.value)return;const O=S.value;if(!O){E.value="Name cannot be empty.";return}_.value=!0,w.value=!1,E.value=null;try{const T=o.value.id,{error:J}=await Y.rpc("set_user_display_name",{target_user:T,new_name:O});if(J)throw J;o.value={...o.value,name:O};try{await Y.from("public_profiles").upsert({user_id:T,display_name:O,updated_at:new Date().toISOString()},{onConflict:"user_id"})}catch{}w.value=!0,m.value=!1}catch(T){E.value=T?.message??String(T)}finally{_.value=!1}}function j(){L.value=!1}function K(O){let T;typeof O=="string"?T=O:O&&typeof O=="object"&&(T=O.key??O.url),T&&o.value&&(o.value={...o.value,avatar_url:T},n("chooseAvatar",T)),h.value=Date.now()}function q(O){O.key==="Escape"&&X()}return ht([()=>s.open,()=>s.userId],async([O])=>{if(O){l.value=!1,a.value=!0,i.value=null;try{await Promise.all([_e(),p()])}finally{a.value=!1}window.addEventListener("keydown",q),window.addEventListener("click",H)}else window.removeEventListener("keydown",q),window.removeEventListener("click",H)},{immediate:!0}),Et(()=>{window.removeEventListener("keydown",q),window.removeEventListener("click",H)}),(O,T)=>(C(),$(Te,null,[(C(),Fe(gs,{to:"body"},[O.open?(C(),$("div",{key:0,class:"overlay",onClick:gt(X,["self"])},[b("section",p_,[o.value?(C(),$("header",g_,[b("div",m_,[b("button",{class:"avatar-button",type:"button",onClick:T[0]||(T[0]=J=>L.value=!0),"aria-label":"Change avatar",title:"Change avatar"},[b("div",v_,[Qe.value?(C(),$("img",{key:0,src:Qe.value,alt:"User avatar",onError:W},null,40,__)):(C(),$("div",y_,ae(Ve.value),1))])]),b("div",b_,[b("h2",w_,[m.value&&V.value?(C(),$(Te,{key:0},[tn(b("input",{"onUpdate:modelValue":T[1]||(T[1]=J=>A.value.name=J),class:"name-input",type:"text",placeholder:"Enter display name",maxlength:64},null,512),[[Rs,A.value.name]]),b("button",{class:"save-inline btn",disabled:_.value||!S.value,onClick:M},ae(_.value?"Saving":"Save"),9,A_)],64)):(C(),$(Te,{key:1},[$s(ae(o.value?.name??"Unnamed User"),1)],64)),oe.value?(C(),$("span",k_,"Staff")):se("",!0),P.value&&B.value?(C(),$("span",{key:3,class:We(["role-badge",N(B.value)])},ae(k(B.value)),3)):se("",!0)]),b("p",S_,ae(o.value?.email),1),P.value&&y.value?(C(),$("p",{key:0,class:"org-title",title:y.value},ae(y.value),9,E_)):se("",!0)])]),b("div",T_,[b("div",x_,[b("div",{class:"menu-wrapper",ref_key:"menuRef",ref:u},[b("button",{type:"button",class:We(["menu-toggle",{open:l.value}]),"aria-expanded":l.value?"true":"false","aria-haspopup":"true","aria-label":"Profile menu",onClick:T[2]||(T[2]=gt(J=>l.value=!l.value,["stop"]))},[...T[6]||(T[6]=[b("span",{class:"menu-line"},null,-1),b("span",{class:"menu-line"},null,-1),b("span",{class:"menu-line"},null,-1)])],10,C_),Ae(fs,{name:"menu-pop"},{default:pt(()=>[l.value?(C(),$("div",P_,[b("button",{class:"menu-item",type:"button",onClick:He}," Theme Selector "),!R.value||!P.value?(C(),$("button",{key:0,class:"menu-item",type:"button",onClick:te}," Enter School Code ")):se("",!0),d.value?(C(),$("button",{key:1,class:We(["menu-item",{on:f.value}]),type:"button",onClick:T[3]||(T[3]=J=>f.value=!f.value)},ae(f.value?"Hide Dev Tools":"Show Dev Tools"),3)):se("",!0),V.value?(C(),$("button",{key:2,class:"menu-item",type:"button",onClick:ce},ae(m.value?"Cancel Name Edit":"Edit Display Name"),1)):se("",!0)])):se("",!0)]),_:1})],512),b("button",{class:"close-btn",onClick:X,"aria-label":"Close",title:"Close"},"")])])])):se("",!0),m.value?(C(),$("div",R_,[E.value?(C(),$("span",O_,ae(E.value),1)):se("",!0),w.value?(C(),$("span",I_,"Saved ")):se("",!0)])):se("",!0),a.value?(C(),$("div",$_,[...T[7]||(T[7]=[b("span",{class:"spinner","aria-hidden":"true"},null,-1),b("span",null,"Loading profile",-1)])])):i.value?(C(),$("div",L_,ae(i.value),1)):(C(),$("section",j_,[b("div",N_,[Ae(Nu,{overlay:!1,showDevTools:f.value,"user-id":o.value?.id||null},null,8,["showDevTools","user-id"])]),v.value?(C(),$("div",U_,[b("div",M_,[b("strong",D_,ae(D.value),1),b("button",{class:"soon-x",onClick:z,"aria-label":"Close"},"")]),T[8]||(T[8]=b("p",{class:"soon-desc"},"Coming Soon",-1))])):se("",!0)])),L.value?(C(),Fe(ju,{key:"picker:"+(o.value?.id||"me"),"current-key":o.value?.avatar_url||"","target-user-id":o.value?.id||null,onClose:j,onUpdated:K,onSelected:K},null,8,["current-key","target-user-id"])):se("",!0)]),Ae(h_,{open:Z.value,"onUpdate:open":T[4]||(T[4]=J=>Z.value=J),onJoined:ve},null,8,["open"])])):se("",!0)])),(C(),Fe(gs,{to:"body"},[ee.value?(C(),$("div",B_,[...T[9]||(T[9]=[b("div",{class:"spinner","aria-hidden":"true"},null,-1),b("div",{class:"loading-caption"},"Applying theme",-1)])])):se("",!0)])),Ae(Uu,{open:De.value,"onUpdate:open":T[5]||(T[5]=J=>De.value=J),onClose:ne,onApplyingTheme:ue,onApplied:Ue},null,8,["open"])],64))}}),F_=mt(V_,[["__scopeId","data-v-42f1d6e8"]]),q_={class:"app-header appheader-bg"},H_={class:"inner"},W_={class:"left"},K_=["src"],G_={class:"meta"},z_={class:"name"},J_={class:"org"},X_={key:1,class:"brand-name",title:"EiTake"},Q_={class:"top-right"},Y_=["src"],Z_={class:"pill-list",role:"menubar"},ey={key:0,class:"icon","aria-hidden":"true"},ty=["aria-expanded"],sy={class:"menu-sheet"},ny={key:0,class:"icon","aria-hidden":"true"},ry=it({__name:"AppHeader",setup(e){const t=Co(),s=hu(),n=Yr();function r(ne,ee=3500,ue="op"){let Ue;const Qe=new Promise((Ve,L)=>Ue=setTimeout(()=>L(new Error(`${ue}:timeout`)),ee));return Promise.race([ne,Qe]).finally(()=>clearTimeout(Ue))}let i=!1;Ml(()=>{i=!0});function o(){n.isAuthenticated&&(Promise.allSettled([n.loadProfile?.(),n.loadXp?.()]),w(!0))}function a(){document.visibilityState==="visible"&&o()}const l=F([]),u=F(!1);let c=!1;function d(ne){return Array.isArray(ne)?ne.map(ue=>({level:Number(ue?.level),min_xp:Number(ue?.min_xp)})).filter(ue=>Number.isFinite(ue.level)&&Number.isFinite(ue.min_xp)).sort((ue,Ue)=>ue.min_xp-Ue.min_xp):[]}async function f(ne=!1){if(!c&&!(u.value&&!ne)){c=!0;try{const ee=await r(Y.from("xp_levels").select("level,min_xp").order("min_xp",{ascending:!0}),4e3,"xp_levels");if(ee.error){u.value=!1;return}const ue=d(ee.data);l.value=ue,u.value=ue.length>0}catch{u.value=!1}finally{c=!1}}}function h(ne,ee){if(!ee.length||!Number.isFinite(ne))return 1;let ue=ee[0]?.level??1;for(const Ue of ee)if(ne>=Ue.min_xp)ue=Ue.level;else break;return ue}async function m(ne){try{const ee=await r(Y.from("v_profile_progress").select("level").eq("user_id",ne).maybeSingle(),3500,"v_profile_progress");if(ee?.error)return null;const ue=Number(ee?.data?.level);return Number.isFinite(ue)&&ue>0?ue:1}catch{return null}}const _=F(1);async function w(ne=!1){if(!n.isAuthenticated){_.value=1;return}const ee=n.profile?.id||(await Y.auth.getUser()).data?.user?.id||null;if(!ee){_.value=1;return}const ue=await m(ee);if(ue!=null){_.value=ue;return}(!u.value||ne)&&await f(!0);const Ue=Number(n.xpTotal??0);_.value=h(Ue,l.value)}const E=Se(()=>n.isAuthenticated?String(_.value):"");ht(()=>n.xpTotal,()=>{n.isAuthenticated&&w()});let A=null;dt(()=>{window.addEventListener("focus",o),document.addEventListener("visibilitychange",a),window.addEventListener("keydown",te),(async()=>{try{await r(n.ensureIdentityLoaded?.()??Promise.resolve(),2500,"identity")}catch{}finally{if(i)return;n.isAuthenticated?(await Promise.allSettled([n.loadProfile?.(),n.loadXp?.()]),await w(!0)):f()}})();const{data:{subscription:ne}}=Y.auth.onAuthStateChange(ee=>{queueMicrotask(async()=>{if(!i){if(ee==="SIGNED_IN"){await Promise.allSettled([n.loadProfile?.(),n.loadXp?.()]),await w(!0);return}if(ee==="SIGNED_OUT"){_.value=1,l.value=[],u.value=!1;return}n.isAuthenticated&&(Promise.allSettled([n.loadProfile?.(),n.loadXp?.()]),w())}})});A=ne}),Et(()=>{window.removeEventListener("keydown",te),window.removeEventListener("focus",o),document.removeEventListener("visibilitychange",a),document.documentElement.style.overflow="",document.body.style.overflow="",A?.unsubscribe(),A=null});const S=Se(()=>{const ne=n.profile?.avatar_url;return ne?/^https?:\/\//i.test(ne)?ne:Y.storage.from("public-assets").getPublicUrl(ne).data.publicUrl||fr:fr}),R=Se(()=>n.displayName||"");Se(()=>{const ne=s.name||"",ee=s.path||"";return ne?.toLowerCase().includes("dashboard")||ee==="/dashboard"});const P=Se(()=>{const ne=[{label:"Home",to:"/dashboard",icon:""},{label:"Games",to:"/activities",icon:""}];return n.isDev&&ne.push({label:"Users",to:"/users",icon:"",title:"Users (Dev only)"}),n.orgRole==="admin"&&ne.push({label:"Admin",to:"/admin-panel",icon:"",title:"Admin Panel"}),ne});async function B(){try{await t.push({name:"Login"})}catch{await t.push("/login")}}async function x(){try{await n.signOut?.()}finally{try{Object.keys(localStorage).forEach(ne=>{ne.startsWith("sb-")&&localStorage.removeItem(ne)}),n.$reset?.()}catch{}await t.replace("/dashboard")}}const y=F(!1),v=F(!1);function D(){y.value=!0}function z(){y.value=!1}function V(){v.value=!0}async function oe(){v.value=!1,n.loadProfile?.()}const ce=F(!1);function H(){ce.value=!ce.value}function Z(){ce.value=!1}function te(ne){if(ne.key==="Escape"){if(v.value){v.value=!1;return}if(y.value){y.value=!1;return}Z()}}ht(()=>s.fullPath,()=>Z());const ve=Se(()=>ce.value||y.value||v.value);ht(ve,async ne=>{document.documentElement.style.overflow=ne?"hidden":"",document.body.style.overflow=ne?"hidden":"",await ts()});const De=F(null);function He(ne){const ee=ne.target;ee.onerror=null,ee.src=fr}return(ne,ee)=>(C(),$("header",q_,[ee[2]||(ee[2]=b("div",{class:"code-bg","aria-hidden":"true"},null,-1)),b("div",H_,[b("div",W_,[ze(n).isAuthenticated?(C(),$(Te,{key:0},[b("button",{class:"avatar-btn",type:"button",onClick:ee[0]||(ee[0]=ue=>D()),"aria-label":"Open profile",title:"Open profile"},[b("img",{class:"avatar",src:S.value,alt:"User avatar",onError:He},null,40,K_)]),b("div",G_,[b("div",z_,ae(R.value),1),b("div",J_,"Lv. "+ae(E.value),1)])],64)):(C(),$("div",X_,"EiTake"))]),b("div",Q_,[b("img",{src:ze(fr),alt:"EiTake logo",class:"brand-logo",title:"EiTake"},null,8,Y_),ze(n).isAuthenticated?(C(),$("button",{key:1,class:"btn logout small auth-btn",type:"button",onClick:x,"aria-label":"Log out",title:"Log out"}," Log out ")):(C(),$("button",{key:0,class:"btn small auth-btn",type:"button",onClick:B,"aria-label":"Log in",title:"Log in"}," Log in "))]),b("nav",{class:"actions","aria-label":"Primary navigation",ref_key:"actionsEl",ref:De},[b("div",Z_,[(C(!0),$(Te,null,Rt(P.value,(ue,Ue)=>(C(),Fe(ze(Ir),{key:Ue,class:We(["btn action small",{active:ne.$route.path.startsWith(ue.to)}]),to:ue.to,role:"menuitem",title:ue.title||ue.label},{default:pt(()=>[ue.icon?(C(),$("span",ey,ae(ue.icon),1)):se("",!0),b("span",null,ae(ue.label),1)]),_:2},1032,["class","to","title"]))),128))]),b("button",{class:We(["btn action small menu-toggle",{"is-open":ce.value}]),type:"button","aria-expanded":ce.value?"true":"false","aria-controls":"actions-menu",onClick:H},[...ee[1]||(ee[1]=[Nf('<span class="menu-icon" aria-hidden="true" data-v-0be5b77a><span class="bar" data-v-0be5b77a></span><span class="bar" data-v-0be5b77a></span><span class="bar" data-v-0be5b77a></span></span><span class="menu-label" data-v-0be5b77a>Menu</span>',2)])],10,ty)],512)]),(C(),Fe(gs,{to:"body"},[Ae(fs,{name:"menu-fade"},{default:pt(()=>[ce.value?(C(),$("div",{key:0,id:"actions-menu",class:"menu-panel",role:"dialog","aria-modal":"true",onClick:gt(Z,["self"])},[b("div",sy,[(C(!0),$(Te,null,Rt(P.value,(ue,Ue)=>(C(),Fe(ze(Ir),{key:Ue,class:We(["btn action small",{active:ne.$route.path.startsWith(ue.to)}]),to:ue.to,role:"menuitem",title:ue.title||ue.label,onClick:Z},{default:pt(()=>[ue.icon?(C(),$("span",ny,ae(ue.icon),1)):se("",!0),b("span",null,ae(ue.label),1)]),_:2},1032,["class","to","title"]))),128))])])):se("",!0)]),_:1})])),(C(),Fe(gs,{to:"body"},[y.value?(C(),Fe(F_,{key:ze(n).profile?.id||"anon",open:y.value,onClose:z,onChooseAvatar:V},null,8,["open"])):se("",!0)])),(C(),Fe(gs,{to:"body"},[v.value?(C(),Fe(ju,{key:0,"current-key":ze(n).profile?.avatar_url||void 0,onClose:oe},null,8,["current-key"])):se("",!0)]))]))}}),iy=mt(ry,[["__scopeId","data-v-0be5b77a"]]);async function Mu(e,t=0){Iu(),Lu();const s=performance.now();try{return await e()}finally{const n=performance.now()-s;t&&n<t&&await new Promise(r=>setTimeout(r,t-n)),Lo(),jo()}}const oy={class:"apl-root"},ay={class:"apl-inner"},ly={key:0,class:"apl-muted"},cy={key:1,class:"apl-error"},uy={key:0,class:"apl-muted apl-center"},dy={key:1,class:"apl-sections"},fy={key:0,class:"apl-section"},hy={key:0,class:"apl-section-head"},py={class:"apl-section-count"},gy={class:"apl-list"},my=["onClick"],vy={key:0,class:"apl-chip-row"},_y={key:0,class:"apl-new-badge"},yy={key:1,class:"apl-xp-badge"},by={class:"apl-icon-wrap"},wy=["src","alt","onError"],Ay={key:1,class:"apl-icon-fallback"},ky={class:"apl-pill-text"},Sy={key:1,class:"apl-section"},Ey={key:0,class:"apl-section-head"},Ty={class:"apl-section-count"},xy={class:"apl-list"},Cy=["onClick"],Py={key:0,class:"apl-chip-row"},Ry={key:0,class:"apl-new-badge"},Oy={key:1,class:"apl-xp-badge"},Iy={class:"apl-icon-wrap"},$y=["src","alt","onError"],Ly={key:1,class:"apl-icon-fallback"},jy={class:"apl-pill-text"},Ny={key:0,class:"apl-section"},Uy={key:0,class:"apl-section-head"},My={class:"apl-section-count"},Dy={class:"apl-list"},By=["onClick"],Vy={key:0,class:"apl-new-badge"},Fy={class:"apl-icon-wrap"},qy=["src","alt","onError"],Hy={key:1,class:"apl-icon-fallback"},Wy={class:"apl-pill-text"},Ky={key:1,class:"apl-section"},Gy={key:0,class:"apl-section-head"},zy={class:"apl-section-count"},Jy={class:"apl-list"},Xy=["onClick"],Qy={key:0,class:"apl-chip-row"},Yy={key:0,class:"apl-new-badge"},Zy={key:1,class:"apl-xp-badge"},eb={class:"apl-icon-wrap"},tb=["src","alt","onError"],sb={key:1,class:"apl-icon-fallback"},nb={class:"apl-pill-text"},rb="public-assets",wl="game-icons/",ib=it({__name:"ActivityPillList",props:{show:{default:"both"},order:{default:"activities-first"},showSectionTitles:{type:Boolean,default:!0}},setup(e){const t=e,s=Co(),n=F(!0),r=F(null),i=F([]),o=F(new Set);function a(x){return(x.tags||[]).map(y=>String(y).toLowerCase().trim())}function l(x){const y=a(x);return y.includes("teacher tool")||y.includes("teacher-tool")||y.includes("teachertool")}function u(x){const y=a(x);return y.includes("xp")||y.includes("XP")||y.includes("gives_xp")||y.includes("givesxp")||y.includes("experience")}function c(x){const y=a(x);return x.status&&String(x.status).toLowerCase().trim()==="new"?!0:y.includes("new")||y.includes("recent")}dt(async()=>{await Mu(async()=>{try{const{data:x,error:y}=await Y.from("activities").select("id, slug, name, type, url_path, external_url, icon_url, thumbnail_url, tags, status, archived_at").is("archived_at",null).order("name",{ascending:!0});if(y)throw y;i.value=x||[]}catch(x){console.error(x),r.value=x?.message??String(x)}finally{n.value=!1}},250)});const d=Se(()=>i.value.slice().sort((x,y)=>(x.name||"").localeCompare(y.name||""))),f=Se(()=>d.value.filter(x=>l(x))),h=Se(()=>d.value.filter(x=>!l(x))),m=Se(()=>t.show==="activities"||t.show==="both"),_=Se(()=>t.show==="tools"||t.show==="both"),w=Se(()=>{const x=m.value?h.value.length:0,y=_.value?f.value.length:0;return x+y>0});function E(x){return!!x&&/^[a-z][a-z0-9+\-.]*:\/\//i.test(String(x).trim())}function A(x){if(o.value.has(x.id))return"";const y=x.icon_url||x.thumbnail_url||"";if(!y)return"";if(E(y))return y;let v=String(y).replace(/^\/+/,"");v.startsWith(wl)||(v=wl+v);const{data:D}=Y.storage.from(rb).getPublicUrl(v);return D?.publicUrl||""}function S(x){o.value.add(x)}function R(x){if(!x)return"";let y=String(x).trim();if(!y)return"";if(/^[a-z][a-z0-9+\-.]*:\/\//i.test(y)||/^[a-z][a-z0-9+\-.]*:/i.test(y))return y;if(y.startsWith("//"))return(window.location?.protocol||"https:")+y;/^[\w.-]+\.[a-z]{2,}([/:?#]|$)/i.test(y)&&(y="https://"+y);try{const v=new URL(y,window.location.origin);return!/\.[a-z0-9]+$/i.test(v.pathname.split("/").pop()||"")&&!v.search&&!v.hash&&!v.pathname.endsWith("/")&&(v.pathname+="/"),v.toString()}catch{return y}}function P(x){if(!x)return"";let y=String(x).trim();return y?(y.startsWith("/")||(y="/"+y),y):""}function B(x){if(x.url_path){s.push(P(x.url_path));return}if(x.slug){s.push(`/activities/${x.slug}`);return}if(x.external_url){const y=R(x.external_url);if(y){window.open(y,"_blank","noopener,noreferrer");return}}alert("No activity URL is configured.")}return(x,y)=>(C(),$("section",oy,[b("div",ay,[n.value?(C(),$("p",ly,"Loading activities")):r.value?(C(),$("p",cy,ae(r.value),1)):(C(),$(Te,{key:2},[w.value?(C(),$("div",dy,[x.order==="activities-first"?(C(),$(Te,{key:0},[m.value&&h.value.length?(C(),$("section",fy,[x.showSectionTitles?(C(),$("header",hy,[y[0]||(y[0]=b("h2",{class:"apl-section-title"},"Games",-1)),b("span",py," ("+ae(h.value.length)+") ",1)])):se("",!0),b("ul",gy,[(C(!0),$(Te,null,Rt(h.value,v=>(C(),$("li",{key:v.id},[b("button",{type:"button",class:We(["apl-pill",{"apl-pill--xp":u(v),"apl-pill--new":c(v)}]),onClick:D=>B(v)},[c(v)||u(v)?(C(),$("span",vy,[c(v)?(C(),$("span",_y,"NEW")):se("",!0),u(v)?(C(),$("span",yy,"XP")):se("",!0)])):se("",!0),b("span",by,[A(v)?(C(),$("img",{key:0,src:A(v),alt:v.name,class:"apl-icon",loading:"lazy",decoding:"async",onError:gt(D=>S(v.id),["stop"])},null,40,wy)):(C(),$("span",Ay,ae(v.name?.charAt(0)?.toUpperCase()||"?"),1))]),b("span",ky,ae(v.name),1)],10,my)]))),128))])])):se("",!0),_.value&&f.value.length?(C(),$("section",Sy,[x.showSectionTitles?(C(),$("header",Ey,[y[1]||(y[1]=b("h2",{class:"apl-section-title"},"Teacher Tools",-1)),b("span",Ty," ("+ae(f.value.length)+") ",1)])):se("",!0),b("ul",xy,[(C(!0),$(Te,null,Rt(f.value,v=>(C(),$("li",{key:v.id},[b("button",{type:"button",class:We(["apl-pill apl-pill--tool",{"apl-pill--xp":u(v),"apl-pill--new":c(v)}]),onClick:D=>B(v)},[c(v)||u(v)?(C(),$("span",Py,[c(v)?(C(),$("span",Ry,"NEW")):se("",!0),u(v)?(C(),$("span",Oy,"XP")):se("",!0)])):se("",!0),b("span",Iy,[A(v)?(C(),$("img",{key:0,src:A(v),alt:v.name,class:"apl-icon",loading:"lazy",decoding:"async",onError:gt(D=>S(v.id),["stop"])},null,40,$y)):(C(),$("span",Ly,ae(v.name?.charAt(0)?.toUpperCase()||"?"),1))]),b("span",jy,ae(v.name),1)],10,Cy)]))),128))])])):se("",!0)],64)):(C(),$(Te,{key:1},[_.value&&f.value.length?(C(),$("section",Ny,[x.showSectionTitles?(C(),$("header",Uy,[y[2]||(y[2]=b("h2",{class:"apl-section-title"},"Teacher Tools",-1)),b("span",My," ("+ae(f.value.length)+") ",1)])):se("",!0),b("ul",Dy,[(C(!0),$(Te,null,Rt(f.value,v=>(C(),$("li",{key:v.id},[b("button",{type:"button",class:We(["apl-pill apl-pill--tool",{"apl-pill--xp":u(v),"apl-pill--new":c(v)}]),onClick:D=>B(v)},[c(v)?(C(),$("span",Vy," NEW ")):se("",!0),b("span",Fy,[A(v)?(C(),$("img",{key:0,src:A(v),alt:v.name,class:"apl-icon",loading:"lazy",decoding:"async",onError:gt(D=>S(v.id),["stop"])},null,40,qy)):(C(),$("span",Hy,ae(v.name?.charAt(0)?.toUpperCase()||"?"),1))]),b("span",Wy,ae(v.name),1)],10,By)]))),128))])])):se("",!0),m.value&&h.value.length?(C(),$("section",Ky,[x.showSectionTitles?(C(),$("header",Gy,[y[3]||(y[3]=b("h2",{class:"apl-section-title"},"Games",-1)),b("span",zy," ("+ae(h.value.length)+") ",1)])):se("",!0),b("ul",Jy,[(C(!0),$(Te,null,Rt(h.value,v=>(C(),$("li",{key:v.id},[b("button",{type:"button",class:We(["apl-pill",{"apl-pill--xp":u(v),"apl-pill--new":c(v)}]),onClick:D=>B(v)},[c(v)||u(v)?(C(),$("span",Qy,[c(v)?(C(),$("span",Yy,"NEW")):se("",!0),u(v)?(C(),$("span",Zy,"XP")):se("",!0)])):se("",!0),b("span",eb,[A(v)?(C(),$("img",{key:0,src:A(v),alt:v.name,class:"apl-icon",loading:"lazy",decoding:"async",onError:gt(D=>S(v.id),["stop"])},null,40,tb)):(C(),$("span",sb,ae(v.name?.charAt(0)?.toUpperCase()||"?"),1))]),b("span",nb,ae(v.name),1)],10,Xy)]))),128))])])):se("",!0)],64))])):(C(),$("p",uy," No activities found. "))],64))])]))}}),ob=mt(ib,[["__scopeId","data-v-9689b988"]]),ab={class:"side-panel__scroll"},lb=it({__name:"LeftPanel",setup(e){const t=F(!0),s=F(!1);function n(){window.innerWidth<=768?t.value=!1:t.value=!0}function r(){t.value=!0,s.value=!0}function i(){t.value=!1,s.value=!0}function o(){if(window.innerWidth<=768){s.value||(t.value=!1);return}s.value||(t.value=!0)}return dt(()=>{n(),window.addEventListener("resize",o)}),Et(()=>{window.removeEventListener("resize",o)}),(a,l)=>(C(),$("div",null,[b("aside",{class:We(["side-panel side-panel--left",{"side-panel--open":t.value}]),"aria-label":"Left navigation"},[b("header",{class:"side-panel__header"},[l[0]||(l[0]=b("h2",{class:"side-panel__title"},"Explore",-1)),b("button",{type:"button",class:"side-panel__close",onClick:i,"aria-label":"Close left panel"}," < ")]),b("div",ab,[Ae(ob)])],2),t.value?se("",!0):(C(),$("button",{key:0,type:"button",class:"side-toggle side-toggle--left",onClick:r,"aria-label":"Open left panel"}," > "))]))}}),cb=mt(lb,[["__scopeId","data-v-6dedbdbf"]]),ub={key:1,class:"customdeck-login-msg"},db={__name:"CustomDeckButton",setup(e){const t=F(!1);let s=null;async function n(){const{data:r}=await Y.auth.getSession();t.value=!!r.session}return dt(()=>{n();const{data:r}=Y.auth.onAuthStateChange((i,o)=>{t.value=!!o});s=r.subscription}),Et(()=>{s&&(s.unsubscribe(),s=null)}),(r,i)=>t.value?(C(),Fe(ze(Ir),{key:0,class:"btn custom-decks",to:"/custom-decks",title:"Go to your Custom Decks"},{default:pt(()=>[...i[0]||(i[0]=[b("span",null,"My Custom Decks",-1)])]),_:1})):(C(),$("div",ub," Please log in or sign up to make custom decks. "))}},fb=mt(db,[["__scopeId","data-v-e722a6ac"]]),hb="/TaiyakiEduGames/assets/red-mushroom-sticker-akVpb3J9.png",pb="/TaiyakiEduGames/assets/blue-mushroom-sticker-DjDGR9ux.png",gb="/TaiyakiEduGames/assets/green-mushroom-sticker-FaBTkikd.png",mb=["src","onClick","onKeydown"],vb=it({__name:"MushroomGreeters",props:{actionsEl:{}},setup(e){const t=e,s=[hb,gb,pb],n=["Nice! Keep going! ","","( '' )"],r=F(n);function i(P){return getComputedStyle(document.documentElement).getPropertyValue(P).trim()}function o(P){if(!P)return[];try{const x=JSON.parse(P);if(Array.isArray(x))return x.map(y=>String(y)).filter(Boolean)}catch{}return P.split("|").map(x=>x.trim()).filter(Boolean)}function a(){const P=i("--greeter-phrases"),B=o(P);B.length&&(r.value=B)}const l=F(null),u=F(null),c=F([]),d=F(!1),f=F(""),h=F(0),m=F(0);let _=null;function w(P){const B=r.value.length?r.value:n;f.value=B[P%B.length];const x=c.value[P],y=l.value;if(x&&y){const v=x.getBoundingClientRect(),D=y.getBoundingClientRect();h.value=v.left-D.left+v.width/2,m.value=v.top-D.top-8}d.value=!0,_&&window.clearTimeout(_),_=window.setTimeout(()=>{d.value=!1,_=null},1600)}function E(){const P=t.actionsEl,B=u.value;if(!P||!B)return;const x=P.getBoundingClientRect(),y=B.getBoundingClientRect(),z=window.innerWidth/2+y.width/2,V=x.left,ce=z-(V-12),H=ce>0?-ce:0;B.style.setProperty("--shroom-shift",`${H}px`)}let A=null;function S(){E(),A=new ResizeObserver(()=>E()),t.actionsEl&&A.observe(t.actionsEl),u.value&&A.observe(u.value),window.addEventListener("resize",E)}function R(){ts(()=>{c.value.forEach(P=>{if(!P)return;const B=()=>{P.classList.remove("play-bounce"),P.offsetWidth,P.classList.add("play-bounce")};P.addEventListener("pointerenter",B),P.addEventListener("focus",B),P.addEventListener("animationend",x=>{x.animationName==="shroom-bounce"&&P.classList.remove("play-bounce")})})})}return dt(()=>{a(),S(),R()}),Et(()=>{_&&(window.clearTimeout(_),_=null),window.removeEventListener("resize",E),A?.disconnect(),A=null}),ht(()=>t.actionsEl,async()=>{A?.disconnect(),A=null,await ts(),S()}),(P,B)=>(C(),$("div",{class:"banner-mascots","aria-hidden":"false",ref_key:"bannerEl",ref:l},[d.value?(C(),$("div",{key:0,class:"talk-bubble",role:"status","aria-live":"polite",style:Bt({left:h.value+"px",top:m.value+"px"})},ae(f.value),5)):se("",!0),b("div",{class:"shroom-row",ref_key:"shroomRowEl",ref:u},[(C(),$(Te,null,Rt(s,(x,y)=>b("img",{key:y,class:"shroom",src:x,alt:"",role:"button",tabindex:"0",ref_for:!0,ref:v=>c.value[y]=v,onClick:v=>w(y),onKeydown:[Ea(gt(v=>w(y),["prevent"]),["enter"]),Ea(gt(v=>w(y),["prevent"]),["space"])]},null,40,mb)),64))],512)],512))}}),_b=mt(vb,[["__scopeId","data-v-db36b7b5"]]),yb={class:"tpl-root"},bb={class:"tpl-inner"},wb={key:0,class:"tpl-muted"},Ab={key:1,class:"tpl-error"},kb={key:2,class:"tpl-muted tpl-center"},Sb={key:3,class:"tpl-section","aria-label":"Textbook list"},Eb={key:0,class:"tpl-section-head"},Tb={class:"tpl-section-count"},xb={class:"tpl-list"},Cb=["onClick","title"],Pb={class:"tpl-icon-wrap"},Rb=["src","alt","onError"],Ob={key:1,class:"tpl-icon-fallback"},Ib={class:"tpl-pill-main"},$b={class:"tpl-pill-title"},Lb={class:"tpl-pill-meta"},jb={key:0,class:"tpl-pill-meta-item"},Nb={key:1,class:"tpl-pill-meta-item tpl-pill-meta-year"},Ub={class:"tpl-pill-meta-item tpl-pill-meta-level"},Mb={class:"tpl-pill-chips"},Db={key:0,class:"tpl-chip"},Bb={key:1,class:"tpl-chip"},Vb="public-assets",Fb=it({__name:"TextbookPillList",props:{showSectionTitle:{type:Boolean,default:!0}},setup(e){const t=Co(),s=F(!0),n=F(null),r=F([]),i=Pt(new Set),o=w=>i.has(w),a=w=>i.add(w);function l(w){return!!w&&/^https?:\/\//i.test(w)}function u(w){const{data:E}=Y.storage.from(Vb).getPublicUrl(w);return E?.publicUrl||""}function c(w){const E=w.cover_image_url||"";return E?l(E)?E:u(String(E)):""}function d(w){return w.series?String(w.series):""}function f(w){const E=(w.tags||[]).map(A=>String(A).toUpperCase().trim());return E.includes("ES")?"":E.includes("JHS")?"":E.includes("HS")?"":""}const h=Se(()=>{const w=[...r.value],E=(A,S)=>{const R=`${A.series||""}${A.year||""}${A.title}`,P=`${S.series||""}${S.year||""}${S.title}`;return R.localeCompare(P,void 0,{numeric:!0})};return w.sort(E),w});async function m(){s.value=!0,n.value=null;try{const{data:w,error:E}=await Y.from("textbooks").select("id, title, slug, series, year, tags, cover_image_url").order("title",{ascending:!0});if(E)throw E;const{data:A,error:S}=await Y.from("v_textbook_deck_card_totals").select("textbook_id, deck_count, unique_card_count");if(S)throw S;const R=new Map;for(const P of A||[]){const B=P.textbook_id??P.id??P.textbook_uuid;B&&R.set(String(B),{deck_count:P.deck_count??null,unique_card_count:P.unique_card_count??null})}r.value=(w||[]).map(P=>{const B=R.get(P.id)||{deck_count:null,unique_card_count:null};return{...P,...B}})}catch(w){console.error(w),n.value=w?.message??String(w)}finally{s.value=!1}}function _(w){t.push({name:"textbook_details",params:{id:w.id}})}return dt(async()=>{await Mu(async()=>{await m()},150)}),(w,E)=>(C(),$("section",yb,[b("div",bb,[s.value?(C(),$("p",wb,"Loading textbooks")):n.value?(C(),$("p",Ab,ae(n.value),1)):h.value.length===0?(C(),$("p",kb," No textbooks found. ")):(C(),$("section",Sb,[w.showSectionTitle?(C(),$("header",Eb,[E[0]||(E[0]=b("h2",{class:"tpl-section-title"},"Textbooks",-1)),b("span",Tb,"("+ae(h.value.length)+")",1)])):se("",!0),b("ul",xb,[(C(!0),$(Te,null,Rt(h.value,A=>(C(),$("li",{key:A.id},[b("button",{type:"button",class:"tpl-pill",onClick:S=>_(A),title:A.title},[b("span",Pb,[!o(A.id)&&c(A)?(C(),$("img",{key:0,class:"tpl-icon",src:c(A),alt:A.title,loading:"lazy",decoding:"async",onError:gt(()=>a(A.id),["stop"])},null,40,Rb)):(C(),$("span",Ob,ae(A.title?.charAt(0)?.toUpperCase()||"?"),1))]),b("span",Ib,[b("span",$b,ae(A.title),1),b("span",Lb,[d(A)?(C(),$("span",jb,ae(d(A)),1)):se("",!0),A.year?(C(),$("span",Nb,ae(A.year),1)):se("",!0),b("span",Ub,ae(f(A)),1)])]),b("span",Mb,[typeof A.deck_count=="number"?(C(),$("span",Db,"  "+ae(A.deck_count),1)):se("",!0),typeof A.unique_card_count=="number"?(C(),$("span",Bb,"  "+ae(A.unique_card_count),1)):se("",!0)])],8,Cb)]))),128))])]))])]))}}),qb=mt(Fb,[["__scopeId","data-v-167c2c92"]]),Hb={class:"side-panel__scroll"},Wb={class:"levels-centered"},Kb={class:"side-panel-centered"},Gb={class:"side-panel-centered"},zb=it({__name:"RightPanel",setup(e){const t=F(!0),s=F(!1);function n(){window.innerWidth<=768?t.value=!1:t.value=!0}function r(){t.value=!0,s.value=!0}function i(){t.value=!1,s.value=!0}function o(){if(window.innerWidth<=768){s.value||(t.value=!1);return}s.value||(t.value=!0)}return dt(()=>{n(),window.addEventListener("resize",o)}),Et(()=>{window.removeEventListener("resize",o)}),(a,l)=>(C(),$("div",null,[b("aside",{class:We(["side-panel side-panel--right",{"side-panel--open":t.value}]),"aria-label":"Announcements and textbooks"},[b("header",{class:"side-panel__header"},[b("button",{type:"button",class:"side-panel__close",onClick:i,"aria-label":"Close right panel"}," > "),l[0]||(l[0]=b("h2",{class:"side-panel__title"},"Study Hub",-1))]),b("div",Hb,[b("section",Wb,[Ae(Nu)]),b("section",Kb,[Ae(fb)]),b("section",Gb,[Ae(qb)])]),Ae(_b)],2),t.value?se("",!0):(C(),$("button",{key:0,type:"button",class:"side-toggle side-toggle--right",onClick:r,"aria-label":"Open right panel"}," < "))]))}}),Jb=mt(zb,[["__scopeId","data-v-0594fa2f"]]),Xb={id:"App"},Qb={class:"view"},Yb={class:"app-bg"},Zb=it({__name:"App",setup(e){const t=hu();return(s,n)=>{const r=sf("RouterView");return C(),$("div",Xb,[ze(t).meta?.hideHeader?se("",!0):(C(),Fe(iy,{key:0})),ze(t).meta?.hideHeader?se("",!0):(C(),Fe(cb,{key:1})),ze(t).meta?.hideHeader?se("",!0):(C(),Fe(Jb,{key:2})),Ae(tv),b("main",Qb,[b("section",Yb,[Ae(r)])])])}}}),ew=(e,t={})=>new Promise((s,n)=>{if(typeof document>"u")return;const r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("script");if(i.async=!0,i.src=e,i.defer=t.defer,t.preconnectOrigin){const o=document.createElement("link");o.href=t.preconnectOrigin,o.rel="preconnect",r.appendChild(o)}r.appendChild(i),i.onload=s,i.onerror=n}),eo=e=>typeof e=="function",Ei=e=>e&&typeof e=="object"&&!Array.isArray(e),to=(e,...t)=>{if(!t.length)return e;const s=t.shift();if(!(!Ei(e)||!Ei(s))){for(const n in s)Ei(s[n])?(e[n]||Object.assign(e,{[n]:{}}),to(e[n],s[n])):Object.assign(e,{[n]:s[n]});return to(e,...t)}},Zr=()=>!(typeof window>"u"||typeof document>"u"),Al=(e,t=!0)=>{},tw=(e={})=>(Al('Missing "appName" property inside the plugin options.',e.app_name==null),Al('Missing "name" property in the route.',e.screen_name==null),e);function sw(e="",t=""){const s=e.split("/"),n=t.split("/");return s[0]===""&&t[t.length-1]==="/"&&s.shift(),n.join("/")+s.join("/")}const nw=()=>({bootstrap:!0,onReady:null,onError:null,onBeforeTrack:null,onAfterTrack:null,pageTrackerTemplate:null,customResourceURL:"https://www.googletagmanager.com/gtag/js",customPreconnectOrigin:"https://www.googletagmanager.com",deferScriptLoad:!1,pageTrackerExcludedRoutes:[],pageTrackerEnabled:!0,enabled:!0,disableScriptLoad:!1,pageTrackerScreenviewEnabled:!1,appName:null,pageTrackerUseFullPath:!1,pageTrackerPrependBase:!0,pageTrackerSkipSamePath:!0,globalDataLayerName:"dataLayer",globalObjectName:"gtag",defaultGroupName:"default",includes:null,config:{id:null,params:{send_page_view:!1}}});let Du={};const rw=(e={})=>{const t=nw();Du=to(t,e)},vt=()=>Du,Ns=(...e)=>{const{globalObjectName:t}=vt();!Zr()||typeof window[t]>"u"||window[t](...e)},No=(...e)=>{const{config:t,includes:s}=vt();if(Ns("config",t.id,...e),Array.isArray(s))for(const n of s)Ns("config",n.id,...e)},kl=(e,t)=>{Zr()&&(window[`ga-disable-${e}`]=t)},Bu=(e=!0)=>{const{config:t,includes:s}=vt();if(kl(t.id,e),Array.isArray(s))for(const n of s)kl(n.id,e)},Vu=()=>{Bu(!0)},iw=()=>{Bu(!1)},Ms=(e,t={})=>{const{includes:s,defaultGroupName:n}=vt();t.send_to==null&&Array.isArray(s)&&s.length&&(t.send_to=s.map(r=>r.id).concat(n)),Ns("event",e,t)};let Fu;const ow=e=>{Fu=e},Uo=()=>Fu,qu=e=>{if(!Zr())return;let t;if(typeof e=="string")t={page_path:e};else if(e.path||e.fullPath){const{pageTrackerUseFullPath:s,pageTrackerPrependBase:n}=vt(),r=Uo(),i=r?.options.base,o=s?e.fullPath:e.path;t={...e.name&&{page_title:e.name},page_path:n?sw(o,i):o}}else t=e;t.page_location==null&&(t.page_location=window.location.href),t.send_page_view==null&&(t.send_page_view=!0),Ms("page_view",t)},Hu=e=>{const{appName:t}=vt();if(!e)return;let s;typeof e=="string"?s={screen_name:e}:s=e,s.app_name=s.app_name||t,Ms("screen_view",s)},aw=(...e)=>{Ms("exception",...e)},lw=e=>{No("linker",e)},cw=e=>{Ms("timing_complete",e)},uw=(...e)=>{Ns("set",...e)},dw=(...e)=>{Ms("refund",...e)},fw=e=>{Ms("purchase",e)},hw=e=>{No({custom_map:e})},pw=Object.freeze(Object.defineProperty({__proto__:null,config:No,customMap:hw,event:Ms,exception:aw,linker:lw,optIn:iw,optOut:Vu,pageview:qu,purchase:fw,query:Ns,refund:dw,screenview:Hu,set:uw,time:cw},Symbol.toStringTag,{value:"Module"})),gw=e=>{e.config.globalProperties.$gtag=pw},Sl=e=>({send_page_view:!1,...e}),Wu=()=>{const{config:e,includes:t}=vt();if(Ns("config",e.id,Sl(e.params)),Array.isArray(t))for(const s of t)Ns("config",s.id,Sl(s.params))},El=(e={},t={})=>{const{appName:s,pageTrackerTemplate:n,pageTrackerScreenviewEnabled:r,pageTrackerSkipSamePath:i}=vt();if(i&&e.path===t.path)return;let o=e;if(eo(n)?o=n(e,t):r&&(o=tw({app_name:s,screen_name:e.name})),r){Hu(o);return}qu(o)},Tl=e=>{const{pageTrackerExcludedRoutes:t}=vt();return t.includes(e.path)||t.includes(e.name)},mw=()=>{const{onBeforeTrack:e,onAfterTrack:t}=vt(),s=Uo();s.isReady().then(()=>{ts().then(()=>{const{currentRoute:n}=s;Wu(),!Tl(n.value)&&El(n.value)}),s.afterEach((n,r)=>{ts().then(()=>{Tl(n)||(eo(e)&&e(n,r),El(n,r),eo(t)&&t(n,r))})})})},vw=()=>{if(!Zr())return;const{enabled:e,globalObjectName:t,globalDataLayerName:s}=vt();return window[t]==null&&(window[s]=window[s]||[],window[t]=function(){window[s].push(arguments)}),window[t]("js",new Date),e||Vu(),window[t]},_w=()=>{const{onReady:e,onError:t,globalObjectName:s,globalDataLayerName:n,config:r,customResourceURL:i,customPreconnectOrigin:o,deferScriptLoad:a,pageTrackerEnabled:l,disableScriptLoad:u}=vt(),c=!!(l&&Uo());if(vw(),c?mw():Wu(),!u)return ew(`${i}?id=${r.id}&l=${n}`,{preconnectOrigin:o,defer:a}).then(()=>{e&&e(window[s])}).catch(d=>(t&&t(d),d))},yw=(e,t,s)=>{gw(e),rw(t),ow(s),vt().bootstrap&&_w()},ei=Oh(Zb);ei.use(Lh());ei.use(Zn);const Ku=localStorage.getItem("eitake.theme")||"Chalkboard",ti=document.createElement("link");ti.id="app-theme-css";ti.rel="stylesheet";ti.href=Zi[Ku];document.head.appendChild(ti);document.documentElement.setAttribute("data-theme",Ku);ei.use(yw,{appName:"EiTake.app",pageTrackerScreenviewEnabled:!0,config:{id:"G-DYDRSRRCER"}},Zn);ei.mount("#app");export{Rw as $,Mu as A,Ah as B,Fe as C,Sh as D,Nf as E,Te as F,$s as G,gs as H,Si as I,_c as J,Uu as K,ts as L,ju as M,Pt as N,Ea as O,F_ as P,eu as Q,Ir as R,Qm as S,fs as T,Sw as U,Pw as V,ke as W,th as X,Kr as Y,Tw as Z,mt as _,$ as a,Nu as a0,vv as a1,wv as a2,_v as a3,kh as a4,Iw as a5,zp as a6,ww as a7,Aw as a8,kw as a9,go as aa,Zl as ab,Eo as ac,sf as ad,xw as ae,Ew as af,Uf as ag,Cw as ah,bw as ai,jf as aj,C as b,Se as c,b as d,Rt as e,We as f,gt as g,se as h,it as i,dt as j,Ae as k,Yr as l,hu as m,Bt as n,Et as o,ze as p,fr as q,F as r,Y as s,ae as t,Co as u,pt as v,ht as w,tn as x,Rs as y,Ow as z};
