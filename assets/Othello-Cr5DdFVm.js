import{d as ie,r as p,c as k,o as de,a as n,b as a,e as R,B as pe,F as y,h as g,p as M,y as ve,t as v,l as fe,E as P,J as he,u as be,f as c,n as me,G as _e,_ as ye}from"./index-uE9vU5U9.js";import{b as ke}from"./back-icon-xKqy7r3s.js";const ge={class:"othello-page"},we={class:"othello-header"},Ce=["src"],Se={class:"othello-layout"},Le={class:"board-container"},Me={class:"board-stack"},Be={class:"x-labels"},Te={class:"board-row"},Ae={class:"y-labels"},Fe=["onClick"],De={class:"side-panel controls-panel"},Ee={class:"turn-indicator"},Re={class:"turn-text"},Ve={class:"scoreboard"},xe={class:"score-cell black-score"},ze={class:"score-cell white-score"},Ue={key:0,class:"status-message"},$e={class:"label-buttons"},Ge={class:"modal-content"},Ne={class:"modal-header-row"},Oe={class:"modal-title"},Pe={class:"theme-select-wrap"},We={class:"input-container"},je={class:"input-label"},Je=["onUpdate:modelValue"],o=8,Xe=ie({__name:"Othello",setup(Ze){const W=be(),i=p([]),w=p([]),r=p("black"),h=p(""),C=p([]),S=p([]),L=p(!1),B=p("x"),f=p([]),T=p("food"),j=new URL("/TaiyakiEduGames/assets/place-Dv5vp1Oc.mp3",import.meta.url).href,J=new URL("/TaiyakiEduGames/assets/flip-CDSgFaGm.mp3",import.meta.url).href;let A=null,F=null;const X={food:["rice","riceball","curry and rice","grilled eel","grilled fish","bread","sandwich","pancake","pizza","hamburger","french fries","fried chicken","sausage","steak","omelet","spaghetti","pie","salad","soup"],drinks:["water","coffee","tea","juice","milk","soda","mineral water","green tea"],desserts:["cake","ice cream","donut","pudding","parfait","chocolate","cream puff","pudding","popcorn","potato chips"]};function Z(){N()}function q(){W.push("/dashboard")}const H=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]],V=l=>l==="black"?"white":"black",x=(l,e)=>l>=0&&l<o&&e>=0&&e<o;function D(l,e,t){const s=[];if(i.value[l][e]!==null)return s;const d=V(t);for(const[u,b]of H){const E=[];let m=l+u,_=e+b;for(;x(m,_)&&i.value[m][_]===d;)E.push([m,_]),m+=u,_+=b;E.length>0&&x(m,_)&&i.value[m][_]===t&&s.push(...E)}return s}function z(l){for(let e=0;e<o;e++)for(let t=0;t<o;t++)if(D(e,t,l).length>0)return!0;return!1}const K=k(()=>{if(i.value.length!==o)return Array.from({length:o},()=>Array(o).fill(!1));const l=[];for(let e=0;e<o;e++){const t=[];for(let s=0;s<o;s++)t.push(i.value[e][s]===null&&D(e,s,r.value).length>0);l.push(t)}return l});function U(){const l=[],e=[];for(let s=0;s<o;s++){const d=[],u=[];for(let b=0;b<o;b++)d.push(null),u.push(!1);l.push(d),e.push(u)}const t=o/2;l[t-1][t-1]="white",l[t-1][t]="black",l[t][t-1]="black",l[t][t]="white",i.value=l,w.value=e,r.value="black",h.value=""}function Q(l){l.length&&(l.forEach(([e,t])=>{w.value[e][t]=!0}),setTimeout(()=>{l.forEach(([e,t])=>{w.value[e][t]=!1})},400))}function Y(){A&&A.play().catch(()=>{})}function I(){F&&F.play().catch(()=>{})}function ee(l,e){const t=D(l,e,r.value);if(!t.length)return;i.value[l][e]=r.value,Y(),t.forEach(([d,u])=>{i.value[d][u]=r.value}),Q(t),t.length&&I();const s=V(r.value);z(s)?(r.value=s,h.value=""):z(r.value)?h.value=`${O(s)} has no valid moves. Turn stays with ${O(r.value)}.`:h.value="No valid moves for either player. Game over!"}function te(){U()}function le(){C.value=Array.from({length:o},(l,e)=>String.fromCharCode(65+e)),S.value=Array.from({length:o},(l,e)=>String(e+1))}function $(l){B.value=l,f.value=l==="x"?[...C.value]:[...S.value],L.value=!0}function G(){L.value=!1}function ae(l){const e=[...X[l]];for(let t=e.length-1;t>0;t--){const s=Math.floor(Math.random()*(t+1));[e[t],e[s]]=[e[s],e[t]]}return e.slice(0,o)}function N(){const l=ae(T.value);f.value=[...l]}function se(){B.value==="x"?C.value=[...f.value]:S.value=[...f.value],L.value=!1}const oe=k(()=>{let l=0;for(const e of i.value)for(const t of e)t==="black"&&l++;return l}),ne=k(()=>{let l=0;for(const e of i.value)for(const t of e)t==="white"&&l++;return l}),ce=k(()=>r.value==="black"?"Black":"White"),re=k(()=>B.value==="x"?"Set Top Labels":"Set Left Labels");function ue(l){return{left:`calc(${(l+.5)/o*100}% - 0.6em)`,bottom:"0"}}function O(l){return l.charAt(0).toUpperCase()+l.slice(1)}return de(()=>{U(),le(),A=new Audio(j),F=new Audio(J)}),(l,e)=>(c(),n("section",ge,[a("header",we,[a("button",{class:"back-btn",type:"button",onClick:q},[a("img",{src:pe(ke),alt:"Back",class:"back-icon"},null,8,Ce)])]),a("div",Se,[a("main",Le,[a("div",Me,[a("div",Be,[(c(!0),n(y,null,g(C.value,(t,s)=>(c(),n("div",{key:"x-"+s,class:"label label-x",style:me(ue(s))},v(t),5))),128))]),a("div",Te,[a("div",Ae,[(c(!0),n(y,null,g(S.value,(t,s)=>(c(),n("div",{key:"y-"+s,class:"label label-y"},v(t),1))),128))]),a("div",{class:M(["board-grid",r.value])},[(c(!0),n(y,null,g(i.value,(t,s)=>(c(),n(y,{key:"row-"+s},[(c(!0),n(y,null,g(t,(d,u)=>(c(),n("button",{key:s+"-"+u,class:M(["cell",{"playable-cell":K.value[s][u]}]),type:"button",onClick:b=>ee(s,u)},[d?(c(),n("div",{key:0,class:M(["piece",[d,w.value[s][u]?"flip":""]])},null,2)):R("",!0)],10,Fe))),128))],64))),128))],2)])])]),a("aside",De,[a("div",Ee,[a("span",Re,[e[3]||(e[3]=ve(" Turn: ",-1)),a("span",{class:M(["player-chip",r.value])},v(ce.value),3)])]),a("table",Ve,[e[4]||(e[4]=a("thead",null,[a("tr",null,[a("th",{class:"score-header black-header"},"Black"),a("th",{class:"score-header white-header"},"White")])],-1)),a("tbody",null,[a("tr",null,[a("td",xe,v(oe.value),1),a("td",ze,v(ne.value),1)])])]),h.value?(c(),n("p",Ue,v(h.value),1)):R("",!0),a("div",$e,[a("button",{class:"secondary-btn",type:"button",onClick:e[0]||(e[0]=t=>$("y"))}," Set Left Labels "),a("button",{class:"secondary-btn",type:"button",onClick:e[1]||(e[1]=t=>$("x"))}," Set Top Labels ")]),a("button",{class:"primary-btn",type:"button",onClick:te}," Reset Board ")])]),L.value?(c(),n("div",{key:0,class:"modal",onClick:fe(G,["self"])},[a("div",Ge,[a("div",Ne,[a("h3",Oe,v(re.value),1),a("div",Pe,[e[6]||(e[6]=a("label",{class:"theme-label",for:"theme-select"},"Theme:",-1)),P(a("select",{id:"theme-select","onUpdate:modelValue":e[2]||(e[2]=t=>T.value=t),class:"theme-select",onChange:Z},[...e[5]||(e[5]=[a("option",{value:"food"},"Food",-1),a("option",{value:"drinks"},"Drinks",-1),a("option",{value:"desserts"},"Desserts",-1)])],544),[[he,T.value]])])]),a("div",We,[(c(!0),n(y,null,g(f.value,(t,s)=>(c(),n("label",{key:"input-"+s,class:"input-row"},[a("span",je,"#"+v(s+1),1),P(a("input",{"onUpdate:modelValue":d=>f.value[s]=d,type:"text",class:"modal-input"},null,8,Je),[[_e,f.value[s]]])]))),128))]),a("div",{class:"modal-actions"},[a("button",{class:"modal-btn reset",type:"button",onClick:N}," Randomize "),a("button",{class:"modal-btn save",type:"button",onClick:se}," Save "),a("button",{class:"modal-btn cancel",type:"button",onClick:G}," Cancel ")])])])):R("",!0)]))}}),Ke=ye(Xe,[["__scopeId","data-v-ce761e0a"]]);export{Ke as default};
