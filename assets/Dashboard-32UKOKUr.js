import{_ as T,r as h,c as z,w as G,o as H,a as n,b as l,d as u,F as N,e as V,n as I,f as A,t as R,g as B,h as D,i as K,j as Y,k as x,u as q}from"./index-DSm9wnlA.js";import J from"./ActivitiesGrid-CxC_1UPZ.js";import{T as Q}from"./TextbookList-Blue6rJ8.js";const Z=["onClick"],ee={class:"card-header"},te={class:"card-title"},ae={class:"card-body"},oe=["onMouseenter","onMouseleave"],se=["src","alt"],ne={key:1,class:"media-placeholder"},le="#333a4a",ie=60,re=10,ue={__name:"CardCarousel",props:{items:{type:Array,required:!0},autoRotate:{type:Boolean,default:!1},autoRotateDelay:{type:Number,default:5e3}},setup(C){const o=C,d=h(0),c=h(!1),m=h(null),i=e=>{const t=o.items.length;return t===0?0:(e%t+t)%t},v=z(()=>{const e=o.items.length;if(e===0)return[];const t=[],a=Math.min(2,Math.floor((e-1)/2));for(let g=-a;g<=a;g++){const X=i(d.value+g),j=o.items[X];t.push({...j,originalIndex:X,offset:g})}return t}),b=()=>{p(),!(!o.autoRotate||o.items.length<=1)&&(m.value=setInterval(()=>{!c.value&&o.items.length>1&&(d.value=i(d.value+1))},o.autoRotateDelay))},p=()=>{m.value&&(clearInterval(m.value),m.value=null)},_=e=>{c.value=e,e?p():o.autoRotate&&b()};G(()=>[o.autoRotate,o.autoRotateDelay,o.items.length],()=>{p(),o.autoRotate&&b()},{immediate:!0}),H(()=>{p()});const y=h({}),k=h({}),M=(e,t)=>{e?y.value[t]=e:delete y.value[t]},L=e=>{const t=y.value[e];t&&t.play().catch(()=>{})},S=e=>{const t=y.value[e];t&&(t.pause(),t.currentTime=0)},f=(e,t)=>{const a=t.originalIndex;t.image&&t.video&&(k.value[a]=e,e?L(a):S(a))},$=e=>!!k.value[e.originalIndex],w=e=>e.image&&e.video?{opacity:$(e)?0:1}:{opacity:1},r=e=>e.video?e.image&&e.video?{opacity:$(e)?1:0}:{opacity:1}:{},s=h({isDown:!1,startX:0,deltaX:0,wasDragging:!1}),F=e=>{s.value.isDown=!0,s.value.startX=e.clientX??e.touches?.[0]?.clientX??0,s.value.deltaX=0,s.value.wasDragging=!1,p()},U=e=>{if(!s.value.isDown)return;const t=e.clientX??e.touches?.[0]?.clientX??0;s.value.deltaX=t-s.value.startX,Math.abs(s.value.deltaX)>re&&(s.value.wasDragging=!0)},E=()=>{if(!s.value.isDown)return;const e=s.value.deltaX;s.value.isDown=!1,s.value.deltaX=0,Math.abs(e)>ie&&o.items.length>1&&(e<0?d.value=i(d.value+1):d.value=i(d.value-1)),o.autoRotate&&!c.value&&b()},O=e=>{!e||!e.link||(window.location.href=e.link)},W=(e,t)=>{if(s.value.wasDragging){s.value.wasDragging=!1;return}if(e.offset===0){O(e);return}d.value=e.originalIndex};return(e,t)=>(l(),n("section",{class:"carousel-wrapper",onMouseenter:t[2]||(t[2]=a=>_(!0)),onMouseleave:t[3]||(t[3]=a=>_(!1))},[u("div",{class:"cards-stage",onPointerdown:F,onPointermove:U,onPointerup:E,onPointercancel:E,onPointerleave:E},[(l(!0),n(N,null,V(v.value,a=>(l(),n("article",{key:a.originalIndex,class:A(["card",[`offset-${a.offset}`,{"is-active":a.offset===0}]]),style:I({"--card-bg":a.color||le}),onClick:g=>W(a)},[u("header",ee,[u("h3",te,R(a.title),1)]),u("div",ae,[u("div",{class:"card-media-block",onMouseenter:B(g=>f(!0,a),["stop"]),onMouseleave:B(g=>f(!1,a),["stop"])},[a.image||a.video?(l(),n("div",{key:0,class:A(["media-inner",{"has-both":a.image&&a.video}])},[a.image?(l(),n("img",{key:0,src:a.image,alt:a.title,style:I(w(a)),draggable:"false",onDragstart:t[0]||(t[0]=B(()=>{},["prevent"]))},null,44,se)):D("",!0),a.video?(l(),n("video",{key:1,ref_for:!0,ref:g=>M(g,a.originalIndex),muted:"",loop:"",playsinline:"",style:I(r(a)),draggable:"false",onDragstart:t[1]||(t[1]=B(()=>{},["prevent"]))},null,36)):D("",!0)],2)):(l(),n("div",ne,[...t[4]||(t[4]=[u("span",null,"NO MEDIA",-1)])]))],40,oe)])],14,Z))),128))],32)],32))}},P=T(ue,[["__scopeId","data-v-55a33712"]]),ce={class:"banner",role:"region","aria-label":"Announcements"},de=["aria-pressed","aria-label"],me={key:0,"aria-hidden":"true"},ve={key:1,"aria-hidden":"true"},fe={key:0,class:"mini-label"},pe={key:1,class:"content"},ge={class:"title"},he={key:0,class:"body"},be={class:"cta"},ke=["href"],_e={key:2,class:"dots",role:"tablist","aria-label":"Announcement slides"},ye=["aria-selected","onClick"],we=K({__name:"AnnouncementBanner",props:{items:{},autoRotate:{type:Boolean,default:!0},rotateMs:{default:8e3},startMinimized:{type:Boolean,default:!1}},setup(C){const o=C,d=[{id:"a1",title:"Welcome to EiTake!",body:"Make a free account to track your progress!",ctaLabel:"Go",ctaHref:"/dashboard",image:""},{id:"a2",title:"EiTake へようこそ！",body:"無料アカウントを作成して、進捗を記録しましょう！",ctaLabel:"移動",ctaHref:"/dashboard",image:""}],c=z(()=>o.items&&o.items.length?o.items:d),m=h(0),i=z(()=>Number(o.rotateMs??8e3)),v=z(()=>c.value[m.value]??c.value[0]);let b=null;const p=h(!1);function _(){b&&(clearTimeout(b),b=null)}function y(w){m.value=w}function k(){!o.autoRotate||c.value.length<=1||p.value||(_(),b=window.setTimeout(()=>{p.value||(m.value=(m.value+1)%c.value.length),k()},i.value))}function M(){p.value=!0,_()}function L(){p.value=!1,k()}function S(w){const r=w.noteSize;return typeof r=="number"&&Number.isFinite(r)?`${r}px`:r==="sm"?"clamp(14px, 1.6vw, 16px)":r==="lg"?"clamp(18px, 2.6vw, 24px)":"clamp(16px, 2vw, 20px)"}const f=h(!1);function $(){f.value=!f.value}return Y(()=>{f.value=!!o.startMinimized,k()}),H(_),G(()=>[c.value,o.autoRotate,i.value],k),(w,r)=>(l(),n("section",ce,[u("div",{class:A(["tray",{minimized:f.value}]),onMouseenter:r[0]||(r[0]=s=>M()),onMouseleave:r[1]||(r[1]=s=>L()),onFocusin:r[2]||(r[2]=s=>M()),onFocusout:r[3]||(r[3]=s=>L())},[u("button",{class:"minimize-btn",type:"button","aria-pressed":f.value?"true":"false","aria-label":f.value?"Expand announcements":"Minimize announcements",onClick:$},[f.value?(l(),n("span",ve,"⌄")):(l(),n("span",me,"−"))],8,de),f.value?(l(),n("div",fe,"Announcements")):(l(),n("div",pe,[u("h3",ge,R(v.value.title),1),v.value.body?(l(),n("p",he,R(v.value.body),1)):D("",!0),u("div",be,[v.value.ctaHref&&v.value.ctaLabel?(l(),n("a",{key:0,class:"btn",href:v.value.ctaHref,target:"_blank",rel:"noopener"},[u("span",null,R(v.value.ctaLabel),1)],8,ke)):D("",!0)]),v.value.note?(l(),n("p",{key:1,class:"below-note",style:I({fontSize:S(v.value)})},R(v.value.note),5)):D("",!0)])),!f.value&&c.value.length>1?(l(),n("div",_e,[(l(!0),n(N,null,V(c.value,(s,F)=>(l(),n("button",{key:s.id,class:A(["dot",{active:F===m.value}]),role:"tab","aria-selected":F===m.value?"true":"false",onClick:U=>y(F)},null,10,ye))),128))])):D("",!0)],34)]))}}),De=T(we,[["__scopeId","data-v-c781edde"]]),Fe={class:"dash"},xe={class:"center-area"},Re=K({__name:"Dashboard",setup(C){q();const o=[{id:"announce-1",title:"Welcome to EiTake!",note:"英語の勉強楽しもう！"}],d=[{title:"Pizzas & Parfaits",link:"/activities/pizzas-and-parfaits",image:new URL("/assets/PaP_01-CdsatiEU.png",import.meta.url).href,color:"#FF7A5C"},{title:"Who is it?!",link:"/activities/who-is-it",image:new URL("/assets/who-is-it-DKzScjj_.png",import.meta.url).href,color:"#6BA3FF"},{title:"Othello",link:"/othello",image:new URL("/assets/othello-01-DMfTKvYE.png",import.meta.url).href,color:"#FFB0D8"},{title:"Spelling Battle",link:"/activities/spelling-battle",image:new URL("/assets/spelling-battle-Di-4Iapo.png",import.meta.url).href,color:"#8C6BFF"},{title:"Wordle",link:"/wordle",image:new URL("/assets/wordle-01-DTwaIXKH.png",import.meta.url).href,color:"#FFE56E"},{title:"Directions",link:"/activities/directions",image:new URL("/assets/directions-game-01-CKRwaC6F.png",import.meta.url).href,color:"#5CD6FF"}],c=[{title:"Flashcard Bingo",link:"/textbooks",image:new URL("/assets/bingo-E2GJ7Vrc.png",import.meta.url).href,color:"#FFA63F"},{title:"Spelling Blitz",link:"/textbooks",image:new URL("/assets/SpellingBlitz-hdaYP-US.png",import.meta.url).href,color:"#3EC7FF"},{title:"Spelling Guesser",link:"/textbooks",image:new URL("/assets/spelling-guesser-D_BgKrfp.png",import.meta.url).href,color:"#B377FF"},{title:"Sound Matcher",link:"/textbooks",image:new URL("/assets/sound-matcher-CpeHuBN_.png",import.meta.url).href,color:"#FF6D92"},{title:"Bomb Game",link:"/textbooks",image:new URL("/assets/bomb-game-CNADGx4V.png",import.meta.url).href,color:"#FF4F4F"},{title:"Sharknado!",link:"/textbooks",image:new URL("/assets/sharknado-DMLHLh99.png",import.meta.url).href,color:"#00D29E"}];return(m,i)=>(l(),n("main",Fe,[x(De,{items:o,"auto-rotate":!0,"rotate-ms":"7000"}),i[0]||(i[0]=u("h1",{class:"bubble-title"},"English Games",-1)),x(P,{items:d,"auto-rotate":!0,"auto-rotate-delay":6e3}),i[1]||(i[1]=u("h1",{class:"bubble-title"},"Flashcard Games",-1)),x(P,{items:c,"auto-rotate":!0,"auto-rotate-delay":6e3}),i[2]||(i[2]=u("h1",{class:"bubble-title"},"Textbooks",-1)),u("section",xe,[x(Q)]),i[3]||(i[3]=u("h1",{class:"bubble-title"},"Games + Tools",-1)),x(J,{class:"activities"})]))}}),$e=T(Re,[["__scopeId","data-v-ac243b93"]]);export{$e as default};
