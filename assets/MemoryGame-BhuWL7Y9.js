import{d as HA,X as EA,r as l,c as WA,o as PA,g as RA,Q as N,a as i,b as a,v as sA,e as Y,x as NA,w as YA,T as zA,n as FA,p as z,F as oA,h as nA,u as TA,f as c,E as F,J as xA,t as T,I as q,_ as GA}from"./index-D2s4rzaT.js";const XA={class:"memory-game-page"},QA=["src"],LA=["aria-expanded"],ZA=["src"],OA={key:0,id:"settings-menu",class:"settings-dropdown",role:"menu"},JA={class:"settings-section",role:"none"},jA={class:"settings-row",role:"none"},qA=["value"],KA={class:"settings-row toggle-row",role:"none"},_A={class:"switch","aria-label":"Toggle Auto Flip"},$A={class:"settings-row toggle-row",role:"none"},Ae={class:"switch","aria-label":"Toggle Show Image"},ee={class:"settings-row toggle-row",role:"none"},te={class:"switch","aria-label":"Toggle Show English"},ae={class:"settings-actions",role:"none"},se=["onClick","disabled","aria-pressed"],oe={class:"face back"},ne={class:"back-letter"},le={class:"face front"},re={key:0,class:"img-layer"},ie=["src","alt"],ce={key:1,class:"no-img"},ue={key:2,class:"card-text"},de={key:1,class:"muted"},lA="eitake.memorygame.transit.v10",o=3,U=13,ge=HA({__name:"MemoryGame",props:{cards:{},defaultPairs:{default:9},defaultAutoFlip:{type:Boolean,default:!0}},setup(rA){const iA=TA(),x=EA(),cA=new URL("data:image/png;base64,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",import.meta.url).toString(),uA=new URL("/TaiyakiEduGames/assets/settings-icon-yUop-EjA.png",import.meta.url).toString(),G=new Audio(new URL("data:audio/mpeg;base64,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",import.meta.url).toString());G.preload="auto";const X=new Audio(new URL("/TaiyakiEduGames/assets/chukichi-DatWPktF.mp3",import.meta.url).toString());X.preload="auto";const Q=new Audio(new URL("/TaiyakiEduGames/assets/shokichi-CwJs826m.mp3",import.meta.url).toString());Q.preload="auto";const V=rA,b=l(!1),K=l(null),W=l(null),u=l([]),h=l(!!V.defaultAutoFlip),g=l(!0),p=l(!0),d=l(v(V.defaultPairs,o,U)),w=l(d.value),M=l([]),m=l([]),I=l(!1),dA=WA(()=>{const e=Math.max(o,Math.min(U,Math.floor(u.value.length))),A=[];for(let t=o;t<=e;t++)A.push(t);return A});function gA(){b.value=!0,w.value=d.value}function L(){b.value=!1}function pA(){const e=Math.max(o,Math.min(U,Math.floor(u.value.length||o)));d.value=v(w.value,o,e),P(),L(),B()}function mA(){try{iA.back()}catch{}}function vA(){try{sessionStorage.setItem(lA,JSON.stringify({cards:u.value}))}catch{}}function fA(){try{const e=sessionStorage.getItem(lA);if(!e)return;const A=JSON.parse(e);Array.isArray(A?.cards)&&A.cards.length&&x.set({cards:A.cards})}catch{}}function _(e){if(!b.value)return;const A=K.value;A&&(A.contains(e.target)||L())}let S=null;const C=l({cols:4,rows:3,cardW:150,cardH:200,gap:12});PA(()=>{document.addEventListener("pointerdown",_),(V.cards?.length?V.cards:x.cards)?.length||fA();const A=V.cards?.length?V.cards:x.cards;u.value=Array.isArray(A)?[...A]:[],vA();const t=Math.max(o,Math.min(U,Math.floor(u.value.length||o)));d.value=v(d.value,o,t),w.value=d.value,P(),S=new ResizeObserver(()=>B()),W.value&&S.observe(W.value),B()}),RA(()=>{document.removeEventListener("pointerdown",_),S&&S.disconnect(),S=null}),N(p,e=>{!e&&!g.value&&(g.value=!0)}),N(g,e=>{!e&&!p.value&&(p.value=!0)}),N(()=>u.value.length,()=>{const e=Math.max(o,Math.min(U,Math.floor(u.value.length||o)));d.value=v(d.value,o,e),w.value=d.value,P(),B()}),N(()=>M.value.length,()=>B());function B(){const e=W.value;if(!e)return;const A=M.value.length||d.value*2;if(!A)return;const t=getComputedStyle(e),r=parseFloat(t.paddingLeft||"0")||0,n=parseFloat(t.paddingRight||"0")||0,s=parseFloat(t.paddingTop||"0")||0,R=parseFloat(t.paddingBottom||"0")||0,O=Math.max(0,e.clientWidth-r-n),J=Math.max(0,e.clientHeight-s-R),D=v(Math.round(Math.sqrt(A)),3,8),IA=new Set([D-1,D,D+1,3,4,5,6,7,8]),tA=v(Math.round(Math.min(O,J)*.018),10,16);let y={cols:D,rows:Math.ceil(A/D),cardW:155,cardH:206,gap:tA,score:-1};for(const f of IA){if(f<3||f>8)continue;const H=Math.ceil(A/f),E=tA,SA=(O-E*(f-1))/f,CA=(J-E*(H-1))/(H*(4/3));let k=Math.floor(Math.min(SA,CA));k=v(k,76,185);const j=Math.floor(k*(4/3)),BA=f*k+(f-1)*E,DA=H*j+(H-1)*E;if(BA<=O+.5&&DA<=J+.5){const aA=k*j;aA>y.score&&(y={cols:f,rows:H,cardW:k,cardH:j,gap:E,score:aA})}}C.value={cols:y.cols,rows:y.rows,cardW:y.cardW,cardH:y.cardH,gap:y.gap}}function P(e){if(I.value=!1,m.value=[],!u.value.length){M.value=[];return}const A=Math.max(o,Math.min(U,Math.floor(u.value.length))),t=v(d.value,o,A),r=wA(u.value,t),n=[];for(const s of r){const R=String(s.id??s.image_url??s.english??Math.random());n.push($(s,R)),n.push($(s,R))}eA(n);for(let s=0;s<n.length;s++)n[s].backLetter=UA(s);M.value=n;for(const s of n.slice(0,26))MA(s.image_url)}function $(e,A){return{...e,uid:`${A}::${kA()}::${Math.random().toString(16).slice(2)}`,baseId:A,isFaceUp:!1,isMatched:!1,backLetter:"A"}}function Z(e){return!(I.value||h.value&&e.isMatched)}function hA(e){if(!Z(e))return;if(!h.value&&e.isFaceUp){AA(),e.isFaceUp=!1,m.value=m.value.filter(n=>n.uid!==e.uid);return}if(e.isFaceUp||(AA(),e.isFaceUp=!0,m.value.push(e),m.value.length<2))return;const[A,t]=m.value.slice(-2);if(A.uid===t.uid)return;if(A.baseId===t.baseId){VA(),h.value&&(A.isMatched=!0,t.isMatched=!0),m.value=[];return}if(h.value){bA(),I.value=!0;const n=[A.uid,t.uid];m.value=[],window.setTimeout(()=>{for(const s of M.value)n.includes(s.uid)&&!s.isMatched&&(s.isFaceUp=!1);I.value=!1},700)}else m.value=[]}function yA(e){const A=e.target;A&&(A.style.display="none")}function AA(){try{G.currentTime=0,G.play()}catch{}}function VA(){try{X.currentTime=0,X.play()}catch{}}function bA(){try{Q.currentTime=0,Q.play()}catch{}}function v(e,A,t){const r=Number.isFinite(e)?Math.floor(e):A;return Math.max(A,Math.min(t,r))}function eA(e){for(let A=e.length-1;A>0;A--){const t=Math.floor(Math.random()*(A+1));[e[A],e[t]]=[e[t],e[A]]}return e}function wA(e,A){const t=[...e];return eA(t),t.slice(0,Math.min(A,t.length))}function MA(e){if(!e)return;const A=new Image;A.decoding="async",A.loading="eager",A.src=e}function kA(){try{if(typeof crypto<"u"&&crypto.getRandomValues){const e=new Uint32Array(2);return crypto.getRandomValues(e),`${e[0].toString(16)}${e[1].toString(16)}`}}catch{}return Math.random().toString(16).slice(2)}function UA(e){const A="ABCDEFGHIJKLMNOPQRSTUVWXYZ",t=Math.floor(e/26),r=e%26;return t===0?A[r]:`${A[(t-1)%26]}${A[r]}`}return(e,A)=>(c(),i("section",XA,[a("button",{class:"home-button",type:"button",onClick:mA,"aria-label":"Back"},[a("img",{src:sA(cA),alt:""},null,8,QA)]),a("div",{class:"settings-wrap",ref_key:"settingsWrap",ref:K},[a("button",{class:"settings-button",type:"button",onClick:gA,"aria-haspopup":"menu","aria-expanded":b.value,"aria-controls":"settings-menu"},[a("img",{src:sA(uA),alt:""},null,8,ZA)],8,LA),b.value?(c(),i("div",{key:0,class:"settings-backdrop",onClick:L,"aria-hidden":"true"})):Y("",!0),NA(zA,{name:"settings-drop"},{default:YA(()=>[b.value?(c(),i("div",OA,[a("div",JA,[a("div",jA,[A[6]||(A[6]=a("label",{class:"settings-label",for:"pairCount"},"Sets (pairs)",-1)),F(a("select",{id:"pairCount","onUpdate:modelValue":A[0]||(A[0]=t=>w.value=t),class:"settings-select"},[(c(!0),i(oA,null,nA(dA.value,t=>(c(),i("option",{key:t,value:t},T(t)+" sets ("+T(t*2)+" cards) ",9,qA))),128))],512),[[xA,w.value,void 0,{number:!0}]])]),a("div",KA,[A[8]||(A[8]=a("div",{class:"toggle-title"},"Auto Flip",-1)),a("label",_A,[F(a("input",{type:"checkbox","onUpdate:modelValue":A[1]||(A[1]=t=>h.value=t)},null,512),[[q,h.value]]),A[7]||(A[7]=a("span",{class:"slider"},null,-1))])]),a("div",$A,[A[10]||(A[10]=a("div",{class:"toggle-title"},"Show Image",-1)),a("label",Ae,[F(a("input",{type:"checkbox","onUpdate:modelValue":A[2]||(A[2]=t=>g.value=t)},null,512),[[q,g.value]]),A[9]||(A[9]=a("span",{class:"slider"},null,-1))])]),a("div",ee,[A[12]||(A[12]=a("div",{class:"toggle-title"},"Show English",-1)),a("label",te,[F(a("input",{type:"checkbox","onUpdate:modelValue":A[3]||(A[3]=t=>p.value=t)},null,512),[[q,p.value]]),A[11]||(A[11]=a("span",{class:"slider"},null,-1))])]),a("div",ae,[a("button",{class:"btn ghost",type:"button",onClick:A[4]||(A[4]=t=>P(!0))},"Reset"),a("button",{class:"btn primary",type:"button",onClick:pA},"Apply")])])])):Y("",!0)]),_:1})],512),A[13]||(A[13]=a("header",{class:"page-head"},[a("h1",{class:"title"},"Memory Game")],-1)),a("section",{class:"cards-section",ref_key:"cardsSection",ref:W},[u.value.length?(c(),i("div",{key:0,class:z(["card-grid",{busy:I.value}]),style:FA({gridTemplateColumns:`repeat(${C.value.cols}, var(--card-w))`,"--card-w":`${C.value.cardW}px`,"--card-h":`${C.value.cardH}px`,"--grid-gap":`${C.value.gap}px`})},[(c(!0),i(oA,null,nA(M.value,t=>(c(),i("button",{key:t.uid,class:z(["mem-card",{matched:t.isMatched&&h.value,selectable:Z(t)}]),type:"button",onClick:r=>hA(t),disabled:!Z(t),"aria-pressed":t.isFaceUp?"true":"false"},[a("div",{class:z(["card-inner",{up:t.isFaceUp}])},[a("div",oe,[a("div",ne,T(t.backLetter),1)]),a("div",le,[a("div",{class:z(["front-body",{"mode-text-only":p.value&&!g.value,"mode-image-only":g.value&&!p.value,"mode-both":g.value&&p.value}])},[g.value&&t.image_url?(c(),i("div",re,[a("img",{src:t.image_url,alt:t.english||"card",loading:"lazy",referrerpolicy:"no-referrer",onError:A[5]||(A[5]=r=>yA(r))},null,40,ie)])):g.value&&!t.image_url?(c(),i("div",ce,"No Image")):Y("",!0),p.value&&t.english?(c(),i("div",ue,T(t.english),1)):Y("",!0)],2)])],2)],10,se))),128))],6)):(c(),i("p",de,"No cards loaded. Go back and select some cards."))],512)]))}}),me=GA(ge,[["__scopeId","data-v-a7312b8a"]]);export{me as default};
