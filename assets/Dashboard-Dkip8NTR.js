import{_ as A,r as h,c as L,w as P,o as H,a as n,b as i,d as u,F as N,e as V,n as $,f as B,t as R,g as G,h as D,i as K,j as Y,k as x,u as q}from"./index-CG0NL2Me.js";import J from"./ActivitiesGrid-Blmmu_2D.js";import{T as Q}from"./TextbookList-jVojYfF2.js";const Z=["onClick"],ee={class:"card-header"},te={class:"card-title"},ae={class:"card-body"},oe=["onMouseenter","onMouseleave"],se=["src","alt"],ne={key:1,class:"media-placeholder"},ie="#333a4a",le=60,re=10,ue={__name:"CardCarousel",props:{items:{type:Array,required:!0},autoRotate:{type:Boolean,default:!1},autoRotateDelay:{type:Number,default:5e3}},setup(C){const o=C,d=h(0),c=h(!1),m=h(null),l=e=>{const t=o.items.length;return t===0?0:(e%t+t)%t},v=L(()=>{const e=o.items.length;if(e===0)return[];const t=[],a=Math.min(2,Math.floor((e-1)/2));for(let g=-a;g<=a;g++){const U=l(d.value+g),j=o.items[U];t.push({...j,originalIndex:U,offset:g})}return t}),b=()=>{p(),!(!o.autoRotate||o.items.length<=1)&&(m.value=setInterval(()=>{!c.value&&o.items.length>1&&(d.value=l(d.value+1))},o.autoRotateDelay))},p=()=>{m.value&&(clearInterval(m.value),m.value=null)},y=e=>{c.value=e,e?p():o.autoRotate&&b()};P(()=>[o.autoRotate,o.autoRotateDelay,o.items.length],()=>{p(),o.autoRotate&&b()},{immediate:!0}),H(()=>{p()});const _=h({}),k=h({}),M=(e,t)=>{e?_.value[t]=e:delete _.value[t]},E=e=>{const t=_.value[e];t&&t.play().catch(()=>{})},z=e=>{const t=_.value[e];t&&(t.pause(),t.currentTime=0)},f=(e,t)=>{const a=t.originalIndex;t.image&&t.video&&(k.value[a]=e,e?E(a):z(a))},T=e=>!!k.value[e.originalIndex],w=e=>e.image&&e.video?{opacity:T(e)?0:1}:{opacity:1},r=e=>e.video?e.image&&e.video?{opacity:T(e)?1:0}:{opacity:1}:{},s=h({isDown:!1,startX:0,deltaX:0,wasDragging:!1}),F=e=>{s.value.isDown=!0,s.value.startX=e.clientX??e.touches?.[0]?.clientX??0,s.value.deltaX=0,s.value.wasDragging=!1,p()},S=e=>{if(!s.value.isDown)return;const t=e.clientX??e.touches?.[0]?.clientX??0;s.value.deltaX=t-s.value.startX,Math.abs(s.value.deltaX)>re&&(s.value.wasDragging=!0)},I=()=>{if(!s.value.isDown)return;const e=s.value.deltaX;s.value.isDown=!1,s.value.deltaX=0,Math.abs(e)>le&&o.items.length>1&&(e<0?d.value=l(d.value+1):d.value=l(d.value-1)),o.autoRotate&&!c.value&&b()},O=e=>{!e||!e.link||(window.location.href=e.link)},W=(e,t)=>{if(s.value.wasDragging){s.value.wasDragging=!1;return}if(e.offset===0){O(e);return}d.value=e.originalIndex};return(e,t)=>(i(),n("section",{class:"carousel-wrapper",onMouseenter:t[2]||(t[2]=a=>y(!0)),onMouseleave:t[3]||(t[3]=a=>y(!1))},[u("div",{class:"cards-stage",onPointerdown:F,onPointermove:S,onPointerup:I,onPointercancel:I,onPointerleave:I},[(i(!0),n(N,null,V(v.value,a=>(i(),n("article",{key:a.originalIndex,class:B(["card",[`offset-${a.offset}`,{"is-active":a.offset===0}]]),style:$({"--card-bg":a.color||ie}),onClick:g=>W(a)},[u("header",ee,[u("h3",te,R(a.title),1)]),u("div",ae,[u("div",{class:"card-media-block",onMouseenter:G(g=>f(!0,a),["stop"]),onMouseleave:G(g=>f(!1,a),["stop"])},[a.image||a.video?(i(),n("div",{key:0,class:B(["media-inner",{"has-both":a.image&&a.video}])},[a.image?(i(),n("img",{key:0,src:a.image,alt:a.title,style:$(w(a)),draggable:"false",onDragstart:t[0]||(t[0]=G(()=>{},["prevent"]))},null,44,se)):D("",!0),a.video?(i(),n("video",{key:1,ref_for:!0,ref:g=>M(g,a.originalIndex),muted:"",loop:"",playsinline:"",style:$(r(a)),draggable:"false",onDragstart:t[1]||(t[1]=G(()=>{},["prevent"]))},null,36)):D("",!0)],2)):(i(),n("div",ne,[...t[4]||(t[4]=[u("span",null,"NO MEDIA",-1)])]))],40,oe)])],14,Z))),128))],32)],32))}},X=A(ue,[["__scopeId","data-v-55a33712"]]),ce={class:"banner",role:"region","aria-label":"Announcements"},de=["aria-pressed","aria-label"],me={key:0,"aria-hidden":"true"},ve={key:1,"aria-hidden":"true"},fe={key:0,class:"mini-label"},pe={key:1,class:"content"},ge={class:"title"},he={key:0,class:"body"},be={class:"cta"},ke=["href"],ye={key:2,class:"dots",role:"tablist","aria-label":"Announcement slides"},_e=["aria-selected","onClick"],we=K({__name:"AnnouncementBanner",props:{items:{},autoRotate:{type:Boolean,default:!0},rotateMs:{default:8e3},startMinimized:{type:Boolean,default:!1}},setup(C){const o=C,d=[{id:"a1",title:"Welcome to EiTake!",body:"Make a free account to track your progress!",ctaLabel:"Go",ctaHref:"/dashboard",image:""},{id:"a2",title:"EiTake へようこそ！",body:"無料アカウントを作成して、進捗を記録しましょう！",ctaLabel:"移動",ctaHref:"/dashboard",image:""}],c=L(()=>o.items&&o.items.length?o.items:d),m=h(0),l=L(()=>Number(o.rotateMs??8e3)),v=L(()=>c.value[m.value]??c.value[0]);let b=null;const p=h(!1);function y(){b&&(clearTimeout(b),b=null)}function _(w){m.value=w}function k(){!o.autoRotate||c.value.length<=1||p.value||(y(),b=window.setTimeout(()=>{p.value||(m.value=(m.value+1)%c.value.length),k()},l.value))}function M(){p.value=!0,y()}function E(){p.value=!1,k()}function z(w){const r=w.noteSize;return typeof r=="number"&&Number.isFinite(r)?`${r}px`:r==="sm"?"clamp(14px, 1.6vw, 16px)":r==="lg"?"clamp(18px, 2.6vw, 24px)":"clamp(16px, 2vw, 20px)"}const f=h(!1);function T(){f.value=!f.value}return Y(()=>{f.value=!!o.startMinimized,k()}),H(y),P(()=>[c.value,o.autoRotate,l.value],k),(w,r)=>(i(),n("section",ce,[u("div",{class:B(["tray",{minimized:f.value}]),onMouseenter:r[0]||(r[0]=s=>M()),onMouseleave:r[1]||(r[1]=s=>E()),onFocusin:r[2]||(r[2]=s=>M()),onFocusout:r[3]||(r[3]=s=>E())},[u("button",{class:"minimize-btn",type:"button","aria-pressed":f.value?"true":"false","aria-label":f.value?"Expand announcements":"Minimize announcements",onClick:T},[f.value?(i(),n("span",ve,"⌄")):(i(),n("span",me,"−"))],8,de),f.value?(i(),n("div",fe,"Announcements")):(i(),n("div",pe,[u("h3",ge,R(v.value.title),1),v.value.body?(i(),n("p",he,R(v.value.body),1)):D("",!0),u("div",be,[v.value.ctaHref&&v.value.ctaLabel?(i(),n("a",{key:0,class:"btn",href:v.value.ctaHref,target:"_blank",rel:"noopener"},[u("span",null,R(v.value.ctaLabel),1)],8,ke)):D("",!0)]),v.value.note?(i(),n("p",{key:1,class:"below-note",style:$({fontSize:z(v.value)})},R(v.value.note),5)):D("",!0)])),!f.value&&c.value.length>1?(i(),n("div",ye,[(i(!0),n(N,null,V(c.value,(s,F)=>(i(),n("button",{key:s.id,class:B(["dot",{active:F===m.value}]),role:"tab","aria-selected":F===m.value?"true":"false",onClick:S=>_(F)},null,10,_e))),128))])):D("",!0)],34)]))}}),De=A(we,[["__scopeId","data-v-c781edde"]]),Fe={class:"dash"},xe={class:"center-area"},Re=K({__name:"Dashboard",setup(C){q();const o=[{id:"announce-1",title:"Welcome to EiTake!",note:"英語の勉強楽しもう！"}],d=[{title:"Pizzas & Parfaits",link:"/activities/pizzas-and-parfaits",image:new URL("/TaiyakiEduGames/assets/PaP_01-CdsatiEU.png",import.meta.url).href,color:"#FF7A5C"},{title:"Who is it?!",link:"/activities/who-is-it",image:new URL("/TaiyakiEduGames/assets/who-is-it-DKzScjj_.png",import.meta.url).href,color:"#6BA3FF"},{title:"Othello",link:"/othello",image:new URL("/TaiyakiEduGames/assets/othello-01-DMfTKvYE.png",import.meta.url).href,color:"#FFB0D8"},{title:"Spelling Battle",link:"/activities/spelling-battle",image:new URL("/TaiyakiEduGames/assets/spelling-battle-Di-4Iapo.png",import.meta.url).href,color:"#8C6BFF"},{title:"Wordle",link:"/wordle",image:new URL("/TaiyakiEduGames/assets/wordle-01-DTwaIXKH.png",import.meta.url).href,color:"#FFE56E"},{title:"Directions",link:"/activities/directions",image:new URL("/TaiyakiEduGames/assets/directions-game-01-CKRwaC6F.png",import.meta.url).href,color:"#5CD6FF"}],c=[{title:"Flashcard Bingo",link:"/textbooks",image:new URL("/TaiyakiEduGames/assets/bingo-E2GJ7Vrc.png",import.meta.url).href,color:"#FFA63F"},{title:"Spelling Blitz",link:"/textbooks",image:new URL("/TaiyakiEduGames/assets/SpellingBlitz-hdaYP-US.png",import.meta.url).href,color:"#3EC7FF"},{title:"Spelling Guesser",link:"/textbooks",image:new URL("/TaiyakiEduGames/assets/spelling-guesser-D_BgKrfp.png",import.meta.url).href,color:"#B377FF"},{title:"Sound Matcher",link:"/textbooks",image:new URL("/TaiyakiEduGames/assets/sound-matcher-CpeHuBN_.png",import.meta.url).href,color:"#FF6D92"},{title:"Bomb Game",link:"/textbooks",image:new URL("/TaiyakiEduGames/assets/bomb-game-CNADGx4V.png",import.meta.url).href,color:"#FF4F4F"},{title:"Sharknado!",link:"/textbooks",image:new URL("/TaiyakiEduGames/assets/sharknado-DMLHLh99.png",import.meta.url).href,color:"#00D29E"}];return(m,l)=>(i(),n("main",Fe,[x(De,{items:o,"auto-rotate":!0,"rotate-ms":"7000"}),l[0]||(l[0]=u("h1",{class:"bubble-title"},"English Games",-1)),x(X,{items:d,"auto-rotate":!0,"auto-rotate-delay":6e3}),l[1]||(l[1]=u("h1",{class:"bubble-title"},"Flashcard Games",-1)),x(X,{items:c,"auto-rotate":!0,"auto-rotate-delay":6e3}),l[2]||(l[2]=u("h1",{class:"bubble-title"},"Textbooks",-1)),u("section",xe,[x(Q)]),l[3]||(l[3]=u("h1",{class:"bubble-title"},"Games + Tools",-1)),x(J,{class:"activities"})]))}}),Te=A(Re,[["__scopeId","data-v-ac243b93"]]);export{Te as default};
