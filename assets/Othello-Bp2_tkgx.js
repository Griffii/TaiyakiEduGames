import{i as ie,r as p,c as k,j as de,a as n,d as a,h as x,p as pe,F as y,e as g,f as M,G as ve,t as v,g as fe,x as j,D as he,u as be,b as c,n as me,y as _e,_ as ye}from"./index-DSm9wnlA.js";import{b as ke}from"./back-icon-xKqy7r3s.js";const ge={class:"othello-page"},we={class:"othello-header"},Ce=["src"],Se={class:"othello-layout"},Le={class:"board-container"},Me={class:"board-stack"},Be={class:"x-labels"},Ae={class:"board-row"},Te={class:"y-labels"},Fe=["onClick"],De={class:"side-panel controls-panel"},Re={class:"turn-indicator"},xe={class:"turn-text"},Ve={class:"scoreboard"},ze={class:"score-cell black-score"},Ue={class:"score-cell white-score"},$e={key:0,class:"status-message"},Ee={class:"label-buttons"},Ne={class:"modal-content"},Oe={class:"modal-header-row"},Pe={class:"modal-title"},je={class:"theme-select-wrap"},Ge={class:"input-container"},We={class:"input-label"},Xe=["onUpdate:modelValue"],o=8,Ze=ie({__name:"Othello",setup(qe){const G=be(),i=p([]),w=p([]),r=p("black"),h=p(""),C=p([]),S=p([]),L=p(!1),B=p("x"),f=p([]),A=p("food"),W=new URL("/assets/place-Dv5vp1Oc.mp3",import.meta.url).href,X=new URL("/assets/flip-CDSgFaGm.mp3",import.meta.url).href;let T=null,F=null;const Z={food:["rice","riceball","curry and rice","grilled eel","grilled fish","bread","sandwich","pancake","pizza","hamburger","french fries","fried chicken","sausage","steak","omelet","spaghetti","pie","salad","soup"],drinks:["water","coffee","tea","juice","milk","soda","mineral water","green tea"],desserts:["cake","ice cream","donut","pudding","parfait","chocolate","cream puff","pudding","popcorn","potato chips"]};function q(){O()}function H(){G.push("/dashboard")}const J=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]],V=l=>l==="black"?"white":"black",z=(l,e)=>l>=0&&l<o&&e>=0&&e<o;function D(l,e,t){const s=[];if(i.value[l][e]!==null)return s;const d=V(t);for(const[u,b]of J){const R=[];let m=l+u,_=e+b;for(;z(m,_)&&i.value[m][_]===d;)R.push([m,_]),m+=u,_+=b;R.length>0&&z(m,_)&&i.value[m][_]===t&&s.push(...R)}return s}function U(l){for(let e=0;e<o;e++)for(let t=0;t<o;t++)if(D(e,t,l).length>0)return!0;return!1}const K=k(()=>{if(i.value.length!==o)return Array.from({length:o},()=>Array(o).fill(!1));const l=[];for(let e=0;e<o;e++){const t=[];for(let s=0;s<o;s++)t.push(i.value[e][s]===null&&D(e,s,r.value).length>0);l.push(t)}return l});function $(){const l=[],e=[];for(let s=0;s<o;s++){const d=[],u=[];for(let b=0;b<o;b++)d.push(null),u.push(!1);l.push(d),e.push(u)}const t=o/2;l[t-1][t-1]="white",l[t-1][t]="black",l[t][t-1]="black",l[t][t]="white",i.value=l,w.value=e,r.value="black",h.value=""}function Q(l){l.length&&(l.forEach(([e,t])=>{w.value[e][t]=!0}),setTimeout(()=>{l.forEach(([e,t])=>{w.value[e][t]=!1})},400))}function Y(){T&&T.play().catch(()=>{})}function I(){F&&F.play().catch(()=>{})}function ee(l,e){const t=D(l,e,r.value);if(!t.length)return;i.value[l][e]=r.value,Y(),t.forEach(([d,u])=>{i.value[d][u]=r.value}),Q(t),t.length&&I();const s=V(r.value);U(s)?(r.value=s,h.value=""):U(r.value)?h.value=`${P(s)} has no valid moves. Turn stays with ${P(r.value)}.`:h.value="No valid moves for either player. Game over!"}function te(){$()}function le(){C.value=Array.from({length:o},(l,e)=>String.fromCharCode(65+e)),S.value=Array.from({length:o},(l,e)=>String(e+1))}function E(l){B.value=l,f.value=l==="x"?[...C.value]:[...S.value],L.value=!0}function N(){L.value=!1}function ae(l){const e=[...Z[l]];for(let t=e.length-1;t>0;t--){const s=Math.floor(Math.random()*(t+1));[e[t],e[s]]=[e[s],e[t]]}return e.slice(0,o)}function O(){const l=ae(A.value);f.value=[...l]}function se(){B.value==="x"?C.value=[...f.value]:S.value=[...f.value],L.value=!1}const oe=k(()=>{let l=0;for(const e of i.value)for(const t of e)t==="black"&&l++;return l}),ne=k(()=>{let l=0;for(const e of i.value)for(const t of e)t==="white"&&l++;return l}),ce=k(()=>r.value==="black"?"Black":"White"),re=k(()=>B.value==="x"?"Set Top Labels":"Set Left Labels");function ue(l){return{left:`calc(${(l+.5)/o*100}% - 0.6em)`,bottom:"0"}}function P(l){return l.charAt(0).toUpperCase()+l.slice(1)}return de(()=>{$(),le(),T=new Audio(W),F=new Audio(X)}),(l,e)=>(c(),n("section",ge,[a("header",we,[a("button",{class:"back-btn",type:"button",onClick:H},[a("img",{src:pe(ke),alt:"Back",class:"back-icon"},null,8,Ce)])]),a("div",Se,[a("main",Le,[a("div",Me,[a("div",Be,[(c(!0),n(y,null,g(C.value,(t,s)=>(c(),n("div",{key:"x-"+s,class:"label label-x",style:me(ue(s))},v(t),5))),128))]),a("div",Ae,[a("div",Te,[(c(!0),n(y,null,g(S.value,(t,s)=>(c(),n("div",{key:"y-"+s,class:"label label-y"},v(t),1))),128))]),a("div",{class:M(["board-grid",r.value])},[(c(!0),n(y,null,g(i.value,(t,s)=>(c(),n(y,{key:"row-"+s},[(c(!0),n(y,null,g(t,(d,u)=>(c(),n("button",{key:s+"-"+u,class:M(["cell",{"playable-cell":K.value[s][u]}]),type:"button",onClick:b=>ee(s,u)},[d?(c(),n("div",{key:0,class:M(["piece",[d,w.value[s][u]?"flip":""]])},null,2)):x("",!0)],10,Fe))),128))],64))),128))],2)])])]),a("aside",De,[a("div",Re,[a("span",xe,[e[3]||(e[3]=ve(" Turn: ",-1)),a("span",{class:M(["player-chip",r.value])},v(ce.value),3)])]),a("table",Ve,[e[4]||(e[4]=a("thead",null,[a("tr",null,[a("th",{class:"score-header black-header"},"Black"),a("th",{class:"score-header white-header"},"White")])],-1)),a("tbody",null,[a("tr",null,[a("td",ze,v(oe.value),1),a("td",Ue,v(ne.value),1)])])]),h.value?(c(),n("p",$e,v(h.value),1)):x("",!0),a("div",Ee,[a("button",{class:"secondary-btn",type:"button",onClick:e[0]||(e[0]=t=>E("y"))}," Set Left Labels "),a("button",{class:"secondary-btn",type:"button",onClick:e[1]||(e[1]=t=>E("x"))}," Set Top Labels ")]),a("button",{class:"primary-btn",type:"button",onClick:te}," Reset Board ")])]),L.value?(c(),n("div",{key:0,class:"modal",onClick:fe(N,["self"])},[a("div",Ne,[a("div",Oe,[a("h3",Pe,v(re.value),1),a("div",je,[e[6]||(e[6]=a("label",{class:"theme-label",for:"theme-select"},"Theme:",-1)),j(a("select",{id:"theme-select","onUpdate:modelValue":e[2]||(e[2]=t=>A.value=t),class:"theme-select",onChange:q},[...e[5]||(e[5]=[a("option",{value:"food"},"Food",-1),a("option",{value:"drinks"},"Drinks",-1),a("option",{value:"desserts"},"Desserts",-1)])],544),[[he,A.value]])])]),a("div",Ge,[(c(!0),n(y,null,g(f.value,(t,s)=>(c(),n("label",{key:"input-"+s,class:"input-row"},[a("span",We,"#"+v(s+1),1),j(a("input",{"onUpdate:modelValue":d=>f.value[s]=d,type:"text",class:"modal-input"},null,8,Xe),[[_e,f.value[s]]])]))),128))]),a("div",{class:"modal-actions"},[a("button",{class:"modal-btn reset",type:"button",onClick:O}," Randomize "),a("button",{class:"modal-btn save",type:"button",onClick:se}," Save "),a("button",{class:"modal-btn cancel",type:"button",onClick:N}," Cancel ")])])])):x("",!0)]))}}),Ke=ye(Ze,[["__scopeId","data-v-ce761e0a"]]);export{Ke as default};
