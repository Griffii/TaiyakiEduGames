/* ============================================================================
   EiTake Theme Tokens — DEFAULT (Japanese Zen / Nature)
   PURPOSE: Tokens are named by USAGE (on what surface), not by color.
   Swap-friendly: define the same tokens in other themes; components stay dumb.
   ============================================================================ */

:root {
  /* =========================
     THEME META
     ========================= */
  --theme-name: "eitake-zen-default";
  --theme-density: "cozy"; /* cozy | compact | spacious */

  /* =========================
     CORE PALETTE — SMALL, CONSISTENT
     (Neutrals + semantic accents shared across sections)
     ========================= */
  /* Neutrals */
  --neutral-0: #ffffff;
  --neutral-50: #f6f7f7;
  --neutral-100: #ecefef;
  --neutral-200: #dee3e1;
  --neutral-300: #c9d1cd;
  --neutral-600: #5a6a62;
  --neutral-700: #405048;
  --neutral-800: #263930;
  --neutral-900: #18261f;
  --neutral-950: #0f1915;

  /* Semantic accents */
  --accent-primary: #2aa9ff; /* links, highlights */
  --accent-secondary: #00e0b8; /* supportive UI */
  --accent-success: #21c463;
  --accent-warning: #ffd200;
  --accent-danger: #ff2f53;

  /* Elevation / radii / focus */
  --radius-sm: 10px;
  --radius-md: 14px;
  --radius-lg: 18px;
  --radius-xl: 24px;

  --elevation-1: 0 3px 10px rgba(0, 0, 0, 0.12);
  --elevation-2: 0 8px 20px rgba(0, 0, 0, 0.16);
  --elevation-3: 0 14px 34px rgba(0, 0, 0, 0.18);

  --ring-offset: 2px;
  --focus-ring: 0 0 0 var(--ring-offset) var(--neutral-0),
    0 0 0 calc(var(--ring-offset) + 2px) var(--accent-primary);

  /* =========================
     GLOBAL BACKGROUND CONTRACT
     IMPORTANT:
     - The global background IMAGE is loaded in App.vue (build-safe).
     - Themes should NOT set any background image URLs.
     - Themes only provide an overlay "filter" above the global image.
     ========================= */

  /* Chalkboard green base + soft chalk bloom */
  --bg-app-color: #1f5d45;

  --bg-app-gradient-top: radial-gradient(
    1100px 600px at 120% -10%,
    rgba(255, 255, 255, 0.12) 0%,
    rgba(255, 255, 255, 0.05) 28%,
    transparent 62%
  );
  --bg-app-gradient-bottom: radial-gradient(
    900px 520px at -10% 120%,
    rgba(255, 255, 255, 0.10) 0%,
    rgba(255, 255, 255, 0.04) 25%,
    transparent 55%
  );

  /* =========================
     MAIN (TEXT OVER GLOBAL BACKGROUND)
     Used on views that sit directly on the global background.
     ========================= */
  --main-title-color: #ffffff;
  --main-title-font: ui-sans-serif, system-ui, -apple-system, "Inter",
    "Segoe UI", Roboto, Arial, sans-serif;
  --main-title-size: clamp(20px, 3.2vw, 36px);
  --main-title-shadow: 0 2px 0 rgba(0, 0, 0, 0.45),
    0 10px 24px rgba(0, 0, 0, 0.25);

  --main-subtitle-color: color-mix(in srgb, var(--neutral-0) 92%, transparent);
  --main-subtitle-font: var(--main-title-font);
  --main-subtitle-size: clamp(12px, 1.3vw, 16px);
  --main-subtitle-shadow: 0 1px 0 rgba(0, 0, 0, 0.35);

  --main-text-color: #e7f0ec;
  --main-text-soft: #a9c2b8;
  --main-text-emphasis: var(--accent-secondary);
  --main-link-color: var(--accent-primary);

  /* =========================
     MODAL / POP-UP SYSTEM
     ========================= */
  --modal-surface: var(--neutral-0);
  --modal-on-surface: #13201a;
  --modal-on-surface-soft: #536660;
  --modal-on-surface-muted: #7b8d88;
  --modal-border: rgba(0, 0, 0, 0.16);
  --modal-shadow: var(--elevation-3);
  --modal-radius: var(--radius-xl);

  --modal-overlay-bg: color-mix(in srgb, #000 55%, transparent);
  --modal-overlay-filter: blur(2px) saturate(110%);

  --modal-accent: var(--accent-primary);
  --modal-accent-2: var(--accent-secondary);
  --modal-danger: var(--accent-danger);

  --modal-close-bg: var(--modal-danger);
  --modal-close-on: #fff;
  --modal-close-border: color-mix(in srgb, var(--modal-danger) 70%, #000 30%);

  /* =========================
     TABLES (OPAQUE SURFACES)
     ========================= */
  --table-surface: #ffffff;        /* opaque */
  --table-on-surface: #192822;
  --table-muted: #6f847c;
  --table-header-surface: #ecefef; /* opaque */
  --table-row-hover: #f6f7f7;      /* opaque */
  --table-border: rgba(0, 0, 0, 0.14);
  --table-zebra: #f6f7f7;          /* opaque */
  --table-radius: var(--radius-md);
  --table-shadow: var(--elevation-1);

  /* =========================
     FEATURE SECTIONS (Cards) — OPAQUE SURFACES
     ========================= */

  /* Textbook */
  --textbook-surface: #ffffff; /* opaque */
  --textbook-on-surface: #18261f;
  --textbook-border: rgba(0, 0, 0, 0.14);
  --textbook-shadow: var(--elevation-1);
  --textbook-accent: var(--accent-primary);
  --textbook-chip-bg: color-mix(in srgb, var(--accent-primary) 16%, #fff 84%);
  --textbook-chip-on: #0f1a16;

  /* Activities */
  --activities-surface: #ffffff; /* opaque */
  --activities-on-surface: #18261f;
  --activities-border: rgba(0, 0, 0, 0.14);
  --activities-shadow: var(--elevation-1);
  --activities-accent: var(--accent-secondary);
  --activities-chip-bg: color-mix(in srgb, var(--accent-secondary) 16%, #fff 84%);
  --activities-chip-on: #0f1a16;
  --activities-chip-new: color-mix(
    in srgb,
    var(--accent-warning) 55%,
    var(--accent-success) 45%
  );
  --activities-chip-xp: color-mix(in srgb, var(--accent-primary) 60%, #8b5cf6 40%);

  /* Decks */
  --decks-surface: #ffffff; /* opaque */
  --decks-on-surface: #18261f;
  --decks-border: rgba(255, 188, 32, 0.68);
  --decks-shadow: var(--elevation-1);
  --decks-accent: var(--accent-warning);

  --decks-chip-bg: color-mix(in srgb, var(--accent-warning) 16%, #fff 84%);
  --decks-chip-on: #3d3300;

  --decks-pill-surface: color-mix(in srgb, var(--accent-warning) 28%, #fff 72%);
  --decks-pill-border: color-mix(in srgb, var(--accent-warning) 72%, #fff 28%);
  --decks-pill-on: #1f1600;

  /* Flashcards */
  --flashcards-surface: #ffffff; /* opaque */
  --flashcards-on-surface: #0f1412;
  --flashcards-border: color-mix(
    in srgb,
    var(--accent-primary) 58%,
    var(--accent-secondary) 42%
  );
  --flashcards-english: var(--flashcards-border);
  --flashcards-shadow: var(--elevation-2);
  --flashcards-accent: var(--accent-secondary);
  --flashcards-chip-bg: color-mix(in srgb, var(--accent-secondary) 20%, #fff 80%);
  --flashcards-chip-on: #083a30;

  /* =========================
     DECK VIEWER
     ========================= */
  --deckviewer-button-outline: #000000;
  --deckviewer-btn-primary-bg: var(--btn-primary-bg);
  --deckviewer-btn-primary-bg-hover: color-mix(
    in srgb,
    var(--btn-primary-bg) 50%,
    var(--neutral-0) 50%
  );
  --deckviewer-btn-primary-on: #fff;
  --deckviewer-btn-primary-on-hover: #fff;

  --deckviewer-btn-disabled-bg: var(--neutral-300);
  --deckviewer-btn-disabled-on: var(--neutral-700);

  --deckviewer-add-btn-bg: color-mix(in srgb, var(--accent-success) 82%, #000 18%);
  --deckviewer-title-shadow: 0 1px 0 rgba(0, 0, 0, 0.35);
  --deckviewer-shadow-color: #000;

  /* =========================
     CUSTOM DECK
     ========================= */
  --customdeck-button-bg: #ff4d5a;
  --customdeck-button-on: #ffffff;
  --customdeck-button-border: rgba(0, 0, 0, 0.15);
  --customdeck-dots: #ffc1c6;

  --customdeck-expand-bg: color-mix(in srgb, var(--accent-secondary) 14%, #fff 86%);
  --customdeck-expand-on: #0f231f;
  --customdeck-expand-border: color-mix(in srgb, var(--accent-secondary) 35%, #000 65%);

  /* =========================
     APP HEADER
     ========================= */
  --header-surface: linear-gradient(0deg, #ffe7d1, #d9fff6);
  --header-on-surface: #3a1f1a;
  --header-accent: #ffd166;
  --header-border-color: var(--header-accent);
  --header-border-width: 5px;
  --header-shadow: var(--elevation-1);

  --header-grid-color: color-mix(in srgb, var(--header-on-surface) 12%, transparent);

  --header-btn-bg: var(--neutral-0);
  --header-btn-text: #1c2b25;
  --header-btn-text-hover: #0f1f19;
  --header-btn-border-color: var(--header-border-color);
  --header-btn-hover: var(--neutral-300);

  --header-btn-fill: linear-gradient(
    135deg,
    color(srgb 1 0.71451 0.833922),
    color(srgb 1 0.861373 0.758431),
    color(srgb 1 0.938235 0.65),
    color(srgb 0.65 0.957451 0.902549),
    color(srgb 0.707647 0.881961 1),
    color(srgb 0.840784 0.776275 1)
  );

  --logout-btn-bg: var(--neutral-100);
  --logout-btn-on: #000000;
  --logout-btn-on-hover: #ffffff;

  --logout-fill-start: color-mix(in srgb, var(--accent-danger) 30%, var(--neutral-0) 70%);
  --logout-fill-mid: var(--accent-danger);
  --logout-fill-end: color-mix(in srgb, var(--accent-danger) 80%, var(--neutral-900) 20%);
  --logout-btn-fill: linear-gradient(
    90deg,
    var(--logout-fill-start),
    var(--logout-fill-mid) 60%,
    var(--logout-fill-end)
  );

  /* Role-specific chips */
  --chip-dev-bg: color-mix(in srgb, var(--accent-primary) 22%, var(--neutral-0) 78%);
  --chip-dev-on: #0b1620;
  --chip-dev-border: color-mix(in srgb, var(--accent-primary) 40%, #000 60%);

  --chip-admin-bg: color-mix(in srgb, var(--accent-secondary) 22%, var(--neutral-0) 78%);
  --chip-admin-on: #07221c;
  --chip-admin-border: color-mix(in srgb, var(--accent-secondary) 40%, #000 60%);

  --chip-teacher-bg: color-mix(in srgb, var(--accent-primary) 14%, var(--neutral-100) 86%);
  --chip-teacher-on: #0f2030;
  --chip-teacher-border: color-mix(in srgb, var(--accent-primary) 30%, #000 70%);

  --chip-student-bg: color-mix(in srgb, var(--accent-warning) 18%, var(--neutral-0) 82%);
  --chip-student-on: #3a2a00;
  --chip-student-border: color-mix(in srgb, var(--accent-warning) 35%, #000 65%);

  /* =========================
     LEVELS
     ========================= */
  --level-reading: #ff2f53;
  --level-writing: #21c463;
  --level-listening: #2aa9ff;
  --level-ring-fill: color-mix(in srgb, var(--level-listening) 12%, var(--neutral-0) 88%);
  --level-ring-track: var(--neutral-200);

  /* =========================
     GLOBAL ELEMENTS (chips, buttons)
     ========================= */
  --chip-bg: color-mix(in srgb, var(--accent-secondary) 72%, #fff 28%);
  --chip-on: #0f231f;
  --chip-border: rgba(0, 0, 0, 0.14);

  --btn-primary-bg: var(--accent-primary);
  --btn-primary-on: #0b1220;
  --btn-primary-border: color-mix(in srgb, var(--accent-primary) 60%, #000 40%);

  --btn-secondary-bg: var(--accent-secondary);
  --btn-secondary-on: #07221c;
  --btn-secondary-border: color-mix(in srgb, var(--accent-secondary) 40%, #000 60%);

  --btn-ghost-bg: var(--neutral-100);
  --btn-ghost-on: #13201a;
  --btn-ghost-border: rgba(0, 0, 0, 0.12);

  --btn-success-bg: var(--accent-success);
  --btn-success-on: #072013;
  --btn-success-border: color-mix(in srgb, var(--accent-success) 40%, #000 60%);

  --btn-danger-bg: var(--accent-danger);
  --btn-danger-on: #2a0208;
  --btn-danger-border: color-mix(in srgb, var(--accent-danger) 40%, #000 60%);

  --select-menu-surface: var(--table-surface);
  --select-menu-on: var(--table-on-surface);
  --select-menu-border: var(--table-border);
  --select-menu-hover: var(--table-row-hover);
}

/* ============================================================================
   RENDERING HOOKS (small, stable utilities that read the tokens above)
   ============================================================================ */

